{"version":3,"file":"index.js","sources":["../dist-src/vaadin-lumo-styles/version.js","../dist-src/vaadin-lumo-styles/color.js","../dist-src/vaadin-lumo-styles/font-icons.js","../dist-src/vaadin-lumo-styles/sizing.js","../dist-src/vaadin-lumo-styles/spacing.js","../dist-src/vaadin-lumo-styles/style.js","../dist-src/vaadin-lumo-styles/typography.js","../dist-src/vaadin-checkbox/theme/lumo/vaadin-checkbox-styles.js","../dist-src/vaadin-themable-mixin/vaadin-theme-property-mixin.js","../dist-src/vaadin-themable-mixin/vaadin-themable-mixin.js","../dist-src/vaadin-control-state-mixin/vaadin-control-state-mixin.js","../dist-src/vaadin-development-mode-detector/vaadin-development-mode-detector.js","../dist-src/vaadin-usage-statistics/vaadin-usage-statistics-collect.js","../dist-src/vaadin-element-mixin/vaadin-element-mixin.js","../dist-src/vaadin-checkbox/src/vaadin-checkbox.js","../dist-src/vaadin-grid/theme/lumo/vaadin-grid-styles.js","../dist-src/vaadin-grid/src/iron-list.js","../dist-src/vaadin-grid/src/vaadin-grid-scroller.js","../dist-src/vaadin-grid/src/vaadin-grid-a11y-mixin.js","../dist-src/vaadin-grid/src/vaadin-grid-active-item-mixin.js","../dist-src/vaadin-grid/src/vaadin-grid-array-data-provider-mixin.js","../dist-src/vaadin-grid/src/vaadin-grid-column-resizing-mixin.js","../dist-src/vaadin-grid/src/vaadin-grid-data-provider-mixin.js","../dist-src/vaadin-grid/src/vaadin-grid-dynamic-columns-mixin.js","../dist-src/vaadin-grid/src/vaadin-grid-event-context-mixin.js","../dist-src/vaadin-grid/src/vaadin-grid-filter-mixin.js","../dist-src/vaadin-grid/src/vaadin-grid-templatizer.js","../dist-src/vaadin-grid/src/vaadin-grid-row-details-mixin.js","../dist-src/vaadin-grid/src/vaadin-grid-scroll-mixin.js","../dist-src/vaadin-grid/src/vaadin-grid-selection-mixin.js","../dist-src/vaadin-grid/src/vaadin-grid-sort-mixin.js","../dist-src/vaadin-grid/src/vaadin-grid-styling-mixin.js","../dist-src/vaadin-grid/src/vaadin-grid-drag-and-drop-mixin.js","../dist-src/vaadin-grid/src/vaadin-grid-keyboard-navigation-mixin.js","../dist-src/vaadin-grid/src/vaadin-grid-column-reordering-mixin.js","../dist-src/vaadin-grid/src/vaadin-grid-column.js","../dist-src/vaadin-grid/src/vaadin-grid-outer-scroller.js","../dist-src/vaadin-grid/src/vaadin-grid-styles.js","../dist-src/vaadin-grid/src/vaadin-grid.js"],"sourcesContent":["class Lumo extends HTMLElement {\n  static get version() {\n    return '1.5.0';\n  }\n\n}\n\ncustomElements.define('vaadin-lumo-styles', Lumo);\nexport { Lumo };","import './version.js';\nimport \"/polymer/lib/elements/custom-style.js\";\nimport \"/polymer/lib/elements/dom-module.js\";\nconst $_documentContainer = document.createElement('template');\n$_documentContainer.innerHTML = `<custom-style>\n  <style>\n    html {\n      /* Base (background) */\n      --lumo-base-color: #FFF;\n\n      /* Tint */\n      --lumo-tint-5pct: hsla(0, 0%, 100%, 0.3);\n      --lumo-tint-10pct: hsla(0, 0%, 100%, 0.37);\n      --lumo-tint-20pct: hsla(0, 0%, 100%, 0.44);\n      --lumo-tint-30pct: hsla(0, 0%, 100%, 0.5);\n      --lumo-tint-40pct: hsla(0, 0%, 100%, 0.57);\n      --lumo-tint-50pct: hsla(0, 0%, 100%, 0.64);\n      --lumo-tint-60pct: hsla(0, 0%, 100%, 0.7);\n      --lumo-tint-70pct: hsla(0, 0%, 100%, 0.77);\n      --lumo-tint-80pct: hsla(0, 0%, 100%, 0.84);\n      --lumo-tint-90pct: hsla(0, 0%, 100%, 0.9);\n      --lumo-tint: #FFF;\n\n      /* Shade */\n      --lumo-shade-5pct: hsla(214, 61%, 25%, 0.05);\n      --lumo-shade-10pct: hsla(214, 57%, 24%, 0.1);\n      --lumo-shade-20pct: hsla(214, 53%, 23%, 0.16);\n      --lumo-shade-30pct: hsla(214, 50%, 22%, 0.26);\n      --lumo-shade-40pct: hsla(214, 47%, 21%, 0.38);\n      --lumo-shade-50pct: hsla(214, 45%, 20%, 0.5);\n      --lumo-shade-60pct: hsla(214, 43%, 19%, 0.61);\n      --lumo-shade-70pct: hsla(214, 42%, 18%, 0.72);\n      --lumo-shade-80pct: hsla(214, 41%, 17%, 0.83);\n      --lumo-shade-90pct: hsla(214, 40%, 16%, 0.94);\n      --lumo-shade: hsl(214, 35%, 15%);\n\n      /* Contrast */\n      --lumo-contrast-5pct: var(--lumo-shade-5pct);\n      --lumo-contrast-10pct: var(--lumo-shade-10pct);\n      --lumo-contrast-20pct: var(--lumo-shade-20pct);\n      --lumo-contrast-30pct: var(--lumo-shade-30pct);\n      --lumo-contrast-40pct: var(--lumo-shade-40pct);\n      --lumo-contrast-50pct: var(--lumo-shade-50pct);\n      --lumo-contrast-60pct: var(--lumo-shade-60pct);\n      --lumo-contrast-70pct: var(--lumo-shade-70pct);\n      --lumo-contrast-80pct: var(--lumo-shade-80pct);\n      --lumo-contrast-90pct: var(--lumo-shade-90pct);\n      --lumo-contrast: var(--lumo-shade);\n\n      /* Text */\n      --lumo-header-text-color: var(--lumo-contrast);\n      --lumo-body-text-color: var(--lumo-contrast-90pct);\n      --lumo-secondary-text-color: var(--lumo-contrast-70pct);\n      --lumo-tertiary-text-color: var(--lumo-contrast-50pct);\n      --lumo-disabled-text-color: var(--lumo-contrast-30pct);\n\n      /* Primary */\n      --lumo-primary-color: hsl(214, 90%, 52%);\n      --lumo-primary-color-50pct: hsla(214, 90%, 52%, 0.5);\n      --lumo-primary-color-10pct: hsla(214, 90%, 52%, 0.1);\n      --lumo-primary-text-color: var(--lumo-primary-color);\n      --lumo-primary-contrast-color: #FFF;\n\n      /* Error */\n      --lumo-error-color: hsl(3, 100%, 61%);\n      --lumo-error-color-50pct: hsla(3, 100%, 60%, 0.5);\n      --lumo-error-color-10pct: hsla(3, 100%, 60%, 0.1);\n      --lumo-error-text-color: hsl(3, 92%, 53%);\n      --lumo-error-contrast-color: #FFF;\n\n      /* Success */\n      --lumo-success-color: hsl(145, 80%, 42%); /* hsl(144,82%,37%); */\n      --lumo-success-color-50pct: hsla(145, 76%, 44%, 0.55);\n      --lumo-success-color-10pct: hsla(145, 76%, 44%, 0.12);\n      --lumo-success-text-color: hsl(145, 100%, 32%);\n      --lumo-success-contrast-color: #FFF;\n    }\n  </style>\n</custom-style><dom-module id=\"lumo-color\">\n  <template>\n    <style>\n      [theme~=\"dark\"] {\n        /* Base (background) */\n        --lumo-base-color: hsl(214, 35%, 21%);\n\n        /* Tint */\n        --lumo-tint-5pct: hsla(214, 65%, 85%, 0.06);\n        --lumo-tint-10pct: hsla(214, 60%, 80%, 0.14);\n        --lumo-tint-20pct: hsla(214, 64%, 82%, 0.23);\n        --lumo-tint-30pct: hsla(214, 69%, 84%, 0.32);\n        --lumo-tint-40pct: hsla(214, 73%, 86%, 0.41);\n        --lumo-tint-50pct: hsla(214, 78%, 88%, 0.5);\n        --lumo-tint-60pct: hsla(214, 82%, 90%, 0.6);\n        --lumo-tint-70pct: hsla(214, 87%, 92%, 0.7);\n        --lumo-tint-80pct: hsla(214, 91%, 94%, 0.8);\n        --lumo-tint-90pct: hsla(214, 96%, 96%, 0.9);\n        --lumo-tint: hsl(214, 100%, 98%);\n\n        /* Shade */\n        --lumo-shade-5pct: hsla(214, 0%, 0%, 0.07);\n        --lumo-shade-10pct: hsla(214, 4%, 2%, 0.15);\n        --lumo-shade-20pct: hsla(214, 8%, 4%, 0.23);\n        --lumo-shade-30pct: hsla(214, 12%, 6%, 0.32);\n        --lumo-shade-40pct: hsla(214, 16%, 8%, 0.41);\n        --lumo-shade-50pct: hsla(214, 20%, 10%, 0.5);\n        --lumo-shade-60pct: hsla(214, 24%, 12%, 0.6);\n        --lumo-shade-70pct: hsla(214, 28%, 13%, 0.7);\n        --lumo-shade-80pct: hsla(214, 32%, 13%, 0.8);\n        --lumo-shade-90pct: hsla(214, 33%, 13%, 0.9);\n        --lumo-shade: hsl(214, 33%, 13%);\n\n        /* Contrast */\n        --lumo-contrast-5pct: var(--lumo-tint-5pct);\n        --lumo-contrast-10pct: var(--lumo-tint-10pct);\n        --lumo-contrast-20pct: var(--lumo-tint-20pct);\n        --lumo-contrast-30pct: var(--lumo-tint-30pct);\n        --lumo-contrast-40pct: var(--lumo-tint-40pct);\n        --lumo-contrast-50pct: var(--lumo-tint-50pct);\n        --lumo-contrast-60pct: var(--lumo-tint-60pct);\n        --lumo-contrast-70pct: var(--lumo-tint-70pct);\n        --lumo-contrast-80pct: var(--lumo-tint-80pct);\n        --lumo-contrast-90pct: var(--lumo-tint-90pct);\n        --lumo-contrast: var(--lumo-tint);\n\n        /* Text */\n        --lumo-header-text-color: var(--lumo-contrast);\n        --lumo-body-text-color: var(--lumo-contrast-90pct);\n        --lumo-secondary-text-color: var(--lumo-contrast-70pct);\n        --lumo-tertiary-text-color: var(--lumo-contrast-50pct);\n        --lumo-disabled-text-color: var(--lumo-contrast-30pct);\n\n        /* Primary */\n        --lumo-primary-color: hsl(214, 86%, 55%);\n        --lumo-primary-color-50pct: hsla(214, 86%, 55%, 0.5);\n        --lumo-primary-color-10pct: hsla(214, 90%, 63%, 0.1);\n        --lumo-primary-text-color: hsl(214, 100%, 70%);\n        --lumo-primary-contrast-color: #FFF;\n\n        /* Error */\n        --lumo-error-color: hsl(3, 90%, 63%);\n        --lumo-error-color-50pct: hsla(3, 90%, 63%, 0.5);\n        --lumo-error-color-10pct: hsla(3, 90%, 63%, 0.1);\n        --lumo-error-text-color: hsl(3, 100%, 67%);\n\n        /* Success */\n        --lumo-success-color: hsl(145, 65%, 42%);\n        --lumo-success-color-50pct: hsla(145, 65%, 42%, 0.5);\n        --lumo-success-color-10pct: hsla(145, 65%, 42%, 0.1);\n        --lumo-success-text-color: hsl(145, 85%, 47%);\n      }\n\n      html {\n        color: var(--lumo-body-text-color);\n        background-color: var(--lumo-base-color);\n      }\n\n      [theme~=\"dark\"] {\n        color: var(--lumo-body-text-color);\n        background-color: var(--lumo-base-color);\n      }\n\n      h1,\n      h2,\n      h3,\n      h4,\n      h5,\n      h6 {\n        color: var(--lumo-header-text-color);\n      }\n\n      a {\n        color: var(--lumo-primary-text-color);\n      }\n\n      blockquote {\n        color: var(--lumo-secondary-text-color);\n      }\n\n      code,\n      pre {\n        background-color: var(--lumo-contrast-10pct);\n        border-radius: var(--lumo-border-radius-m);\n      }\n    </style>\n  </template>\n</dom-module><dom-module id=\"lumo-color-legacy\">\n  <template>\n    <style include=\"lumo-color\">\n      :host {\n        color: var(--lumo-body-text-color) !important;\n        background-color: var(--lumo-base-color) !important;\n      }\n    </style>\n  </template>\n</dom-module>`;\ndocument.head.appendChild($_documentContainer.content);\n/* Only needed for IE11 when you want to use the dark palette inside the light palette */\n\n/*\n  FIXME(polymer-modulizer): the above comments were extracted\n  from HTML and may be out of place here. Review them and\n  then delete this comment!\n*/\n\n;","import \"/polymer/lib/elements/custom-style.js\";\nimport './version.js';\nconst $_documentContainer = document.createElement('template');\n$_documentContainer.innerHTML = `<custom-style>\n  <style>\n    @font-face {\n      font-family: 'lumo-icons';\n      src: url(data:application/font-woff;charset=utf-8;base64,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) format('woff');\n      font-weight: normal;\n      font-style: normal;\n    }\n\n    html {\n      --lumo-icons-align-center: \"\\\\ea01\";\n      --lumo-icons-align-left: \"\\\\ea02\";\n      --lumo-icons-align-right: \"\\\\ea03\";\n      --lumo-icons-angle-down: \"\\\\ea04\";\n      --lumo-icons-angle-left: \"\\\\ea05\";\n      --lumo-icons-angle-right: \"\\\\ea06\";\n      --lumo-icons-angle-up: \"\\\\ea07\";\n      --lumo-icons-arrow-down: \"\\\\ea08\";\n      --lumo-icons-arrow-left: \"\\\\ea09\";\n      --lumo-icons-arrow-right: \"\\\\ea0a\";\n      --lumo-icons-arrow-up: \"\\\\ea0b\";\n      --lumo-icons-bar-chart: \"\\\\ea0c\";\n      --lumo-icons-bell: \"\\\\ea0d\";\n      --lumo-icons-calendar: \"\\\\ea0e\";\n      --lumo-icons-checkmark: \"\\\\ea0f\";\n      --lumo-icons-chevron-down: \"\\\\ea10\";\n      --lumo-icons-chevron-left: \"\\\\ea11\";\n      --lumo-icons-chevron-right: \"\\\\ea12\";\n      --lumo-icons-chevron-up: \"\\\\ea13\";\n      --lumo-icons-clock: \"\\\\ea14\";\n      --lumo-icons-cog: \"\\\\ea15\";\n      --lumo-icons-cross: \"\\\\ea16\";\n      --lumo-icons-download: \"\\\\ea17\";\n      --lumo-icons-dropdown: \"\\\\ea18\";\n      --lumo-icons-edit: \"\\\\ea19\";\n      --lumo-icons-error: \"\\\\ea1a\";\n      --lumo-icons-eye: \"\\\\ea1b\";\n      --lumo-icons-eye-disabled: \"\\\\ea1c\";\n      --lumo-icons-menu: \"\\\\ea1d\";\n      --lumo-icons-minus: \"\\\\ea1e\";\n      --lumo-icons-ordered-list: \"\\\\ea1f\";\n      --lumo-icons-phone: \"\\\\ea20\";\n      --lumo-icons-photo: \"\\\\ea21\";\n      --lumo-icons-play: \"\\\\ea22\";\n      --lumo-icons-plus: \"\\\\ea23\";\n      --lumo-icons-redo: \"\\\\ea24\";\n      --lumo-icons-reload: \"\\\\ea25\";\n      --lumo-icons-search: \"\\\\ea26\";\n      --lumo-icons-undo: \"\\\\ea27\";\n      --lumo-icons-unordered-list: \"\\\\ea28\";\n      --lumo-icons-upload: \"\\\\ea29\";\n      --lumo-icons-user: \"\\\\ea2a\";\n    }\n  </style>\n</custom-style>`;\ndocument.head.appendChild($_documentContainer.content);\n/* NOTICE: Generated with 'gulp icons' */\n\n/*\n  FIXME(polymer-modulizer): the above comments were extracted\n  from HTML and may be out of place here. Review them and\n  then delete this comment!\n*/\n\n;","import './version.js';\nimport \"/polymer/lib/elements/custom-style.js\";\nconst $_documentContainer = document.createElement('template');\n$_documentContainer.innerHTML = `<custom-style>\n  <style>\n    html {\n      --lumo-size-xs: 1.625rem;\n      --lumo-size-s: 1.875rem;\n      --lumo-size-m: 2.25rem;\n      --lumo-size-l: 2.75rem;\n      --lumo-size-xl: 3.5rem;\n\n      /* Icons */\n      --lumo-icon-size-s: 1.25em;\n      --lumo-icon-size-m: 1.5em;\n      --lumo-icon-size-l: 2.25em;\n      /* For backwards compatibility */\n      --lumo-icon-size: var(--lumo-icon-size-m);\n    }\n  </style>\n</custom-style>`;\ndocument.head.appendChild($_documentContainer.content);","import './version.js';\nimport \"/polymer/lib/elements/custom-style.js\";\nconst $_documentContainer = document.createElement('template');\n$_documentContainer.innerHTML = `<custom-style>\n  <style>\n    html {\n      /* Square */\n      --lumo-space-xs: 0.25rem;\n      --lumo-space-s: 0.5rem;\n      --lumo-space-m: 1rem;\n      --lumo-space-l: 1.5rem;\n      --lumo-space-xl: 2.5rem;\n\n      /* Wide */\n      --lumo-space-wide-xs: calc(var(--lumo-space-xs) / 2) var(--lumo-space-xs);\n      --lumo-space-wide-s: calc(var(--lumo-space-s) / 2) var(--lumo-space-s);\n      --lumo-space-wide-m: calc(var(--lumo-space-m) / 2) var(--lumo-space-m);\n      --lumo-space-wide-l: calc(var(--lumo-space-l) / 2) var(--lumo-space-l);\n      --lumo-space-wide-xl: calc(var(--lumo-space-xl) / 2) var(--lumo-space-xl);\n\n      /* Tall */\n      --lumo-space-tall-xs: var(--lumo-space-xs) calc(var(--lumo-space-xs) / 2);\n      --lumo-space-tall-s: var(--lumo-space-s) calc(var(--lumo-space-s) / 2);\n      --lumo-space-tall-m: var(--lumo-space-m) calc(var(--lumo-space-m) / 2);\n      --lumo-space-tall-l: var(--lumo-space-l) calc(var(--lumo-space-l) / 2);\n      --lumo-space-tall-xl: var(--lumo-space-xl) calc(var(--lumo-space-xl) / 2);\n    }\n  </style>\n</custom-style>`;\ndocument.head.appendChild($_documentContainer.content);","import './version.js';\nimport \"/polymer/lib/elements/custom-style.js\";\nconst $_documentContainer = document.createElement('template');\n$_documentContainer.innerHTML = `<custom-style>\n  <style>\n    html {\n      /* Border radius */\n      --lumo-border-radius-s: 0.25em; /* Checkbox, badge, date-picker year indicator, etc */\n      --lumo-border-radius-m: var(--lumo-border-radius, 0.25em); /* Button, text field, menu overlay, etc */\n      --lumo-border-radius-l: 0.5em; /* Dialog, notification, etc */\n      --lumo-border-radius: 0.25em; /* Deprecated */\n\n      /* Shadow */\n      --lumo-box-shadow-xs: 0 1px 4px -1px var(--lumo-shade-50pct);\n      --lumo-box-shadow-s: 0 2px 4px -1px var(--lumo-shade-20pct), 0 3px 12px -1px var(--lumo-shade-30pct);\n      --lumo-box-shadow-m: 0 2px 6px -1px var(--lumo-shade-20pct), 0 8px 24px -4px var(--lumo-shade-40pct);\n      --lumo-box-shadow-l: 0 3px 18px -2px var(--lumo-shade-20pct), 0 12px 48px -6px var(--lumo-shade-40pct);\n      --lumo-box-shadow-xl: 0 4px 24px -3px var(--lumo-shade-20pct), 0 18px 64px -8px var(--lumo-shade-40pct);\n\n      /* Clickable element cursor */\n      --lumo-clickable-cursor: default;\n    }\n  </style>\n</custom-style>`;\ndocument.head.appendChild($_documentContainer.content);","import './version.js';\nimport \"/polymer/lib/elements/custom-style.js\";\nimport \"/polymer/lib/elements/dom-module.js\";\nconst $_documentContainer = document.createElement('template');\n$_documentContainer.innerHTML = `<custom-style>\n  <style>\n    html {\n      /* Font families */\n      --lumo-font-family: -apple-system, BlinkMacSystemFont, \"Roboto\", \"Segoe UI\", Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";\n\n      /* Font sizes */\n      --lumo-font-size-xxs: .75rem;\n      --lumo-font-size-xs: .8125rem;\n      --lumo-font-size-s: .875rem;\n      --lumo-font-size-m: 1rem;\n      --lumo-font-size-l: 1.125rem;\n      --lumo-font-size-xl: 1.375rem;\n      --lumo-font-size-xxl: 1.75rem;\n      --lumo-font-size-xxxl: 2.5rem;\n\n      /* Line heights */\n      --lumo-line-height-xs: 1.25;\n      --lumo-line-height-s: 1.375;\n      --lumo-line-height-m: 1.625;\n    }\n\n  </style>\n</custom-style><dom-module id=\"lumo-typography\">\n  <template>\n    <style>\n      html {\n        font-family: var(--lumo-font-family);\n        font-size: var(--lumo-font-size, var(--lumo-font-size-m));\n        line-height: var(--lumo-line-height-m);\n        -webkit-text-size-adjust: 100%;\n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: grayscale;\n      }\n\n      /* Can’t combine with the above selector because that doesn’t work in browsers without native shadow dom */\n      :host {\n        font-family: var(--lumo-font-family);\n        font-size: var(--lumo-font-size, var(--lumo-font-size-m));\n        line-height: var(--lumo-line-height-m);\n        -webkit-text-size-adjust: 100%;\n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: grayscale;\n      }\n\n      small,\n      [theme~=\"font-size-s\"] {\n        font-size: var(--lumo-font-size-s);\n        line-height: var(--lumo-line-height-s);\n      }\n\n      [theme~=\"font-size-xs\"] {\n        font-size: var(--lumo-font-size-xs);\n        line-height: var(--lumo-line-height-xs);\n      }\n\n      h1,\n      h2,\n      h3,\n      h4,\n      h5,\n      h6 {\n        font-weight: 600;\n        line-height: var(--lumo-line-height-xs);\n        margin-top: 1.25em;\n      }\n\n      h1 {\n        font-size: var(--lumo-font-size-xxxl);\n        margin-bottom: 0.75em;\n      }\n\n      h2 {\n        font-size: var(--lumo-font-size-xxl);\n        margin-bottom: 0.5em;\n      }\n\n      h3 {\n        font-size: var(--lumo-font-size-xl);\n        margin-bottom: 0.5em;\n      }\n\n      h4 {\n        font-size: var(--lumo-font-size-l);\n        margin-bottom: 0.5em;\n      }\n\n      h5 {\n        font-size: var(--lumo-font-size-m);\n        margin-bottom: 0.25em;\n      }\n\n      h6 {\n        font-size: var(--lumo-font-size-xs);\n        margin-bottom: 0;\n        text-transform: uppercase;\n        letter-spacing: 0.03em;\n      }\n\n      p,\n      blockquote {\n        margin-top: 0.5em;\n        margin-bottom: 0.75em;\n      }\n\n      a {\n        text-decoration: none;\n      }\n\n      a:hover {\n        text-decoration: underline;\n      }\n\n      hr {\n        display: block;\n        align-self: stretch;\n        height: 1px;\n        border: 0;\n        padding: 0;\n        margin: var(--lumo-space-s) calc(var(--lumo-border-radius-m) / 2);\n        background-color: var(--lumo-contrast-10pct);\n      }\n\n      blockquote {\n        border-left: 2px solid var(--lumo-contrast-30pct);\n      }\n\n      b,\n      strong {\n        font-weight: 600;\n      }\n    </style>\n  </template>\n</dom-module>`;\ndocument.head.appendChild($_documentContainer.content);","import \"../../../vaadin-lumo-styles/color.js\";\nimport \"../../../vaadin-lumo-styles/style.js\";\nimport { html } from \"@polymer/polymer/lib/utils/html-tag.js\";\nconst $_documentContainer = html`<dom-module id=\"lumo-checkbox\" theme-for=\"vaadin-checkbox\">\n  <template>\n    <style include=\"lumo-checkbox-style lumo-checkbox-effects\">\n      /* IE11 only */\n      ::-ms-backdrop,\n      [part=\"checkbox\"] {\n        line-height: 1;\n      }\n    </style>\n  </template>\n</dom-module><dom-module id=\"lumo-checkbox-style\">\n  <template>\n    <style>\n      :host {\n        -webkit-tap-highlight-color: transparent;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        user-select: none;\n        cursor: default;\n        outline: none;\n      }\n\n      [part=\"label\"]:not([empty]) {\n        margin: 0.1875em 0.875em 0.1875em 0.375em;\n      }\n\n      [part=\"checkbox\"] {\n        width: calc(1em + 2px);\n        height: calc(1em + 2px);\n        margin: 0.1875em;\n        position: relative;\n        border-radius: var(--lumo-border-radius);\n        background-color: var(--lumo-contrast-20pct);\n        transition: transform 0.2s cubic-bezier(.12, .32, .54, 2), background-color 0.15s;\n        pointer-events: none;\n        line-height: 1.2;\n      }\n\n      :host([indeterminate]) [part=\"checkbox\"],\n      :host([checked]) [part=\"checkbox\"] {\n        background-color: var(--lumo-primary-color);\n      }\n\n      /* Needed to align the checkbox nicely on the baseline */\n      [part=\"checkbox\"]::before {\n        content: \"\\\\2003\";\n      }\n\n      /* Checkmark */\n      [part=\"checkbox\"]::after {\n        content: \"\";\n        display: inline-block;\n        width: 0;\n        height: 0;\n        border: 0 solid var(--lumo-primary-contrast-color);\n        border-width: 0.1875em 0 0 0.1875em;\n        box-sizing: border-box;\n        transform-origin: 0 0;\n        position: absolute;\n        top: 0.8125em;\n        left: 0.5em;\n        transform: scale(0.55) rotate(-135deg);\n        opacity: 0;\n      }\n\n      :host([checked]) [part=\"checkbox\"]::after {\n        opacity: 1;\n        width: 0.625em;\n        height: 1.0625em;\n      }\n\n      /* Indeterminate checkmark */\n\n      :host([indeterminate]) [part=\"checkbox\"]::after {\n        transform: none;\n        opacity: 1;\n        top: 45%;\n        height: 10%;\n        left: 22%;\n        right: 22%;\n        width: auto;\n        border: 0;\n        background-color: var(--lumo-primary-contrast-color);\n        transition: opacity 0.25s;\n      }\n\n      /* Focus ring */\n\n      :host([focus-ring]) [part=\"checkbox\"] {\n        box-shadow: 0 0 0 3px var(--lumo-primary-color-50pct);\n      }\n\n      /* Disabled */\n\n      :host([disabled]) {\n        pointer-events: none;\n        color: var(--lumo-disabled-text-color);\n      }\n\n      :host([disabled]) [part=\"label\"] ::slotted(*) {\n        color: inherit;\n      }\n\n      :host([disabled]) [part=\"checkbox\"] {\n        background-color: var(--lumo-contrast-10pct);\n      }\n\n      :host([disabled]) [part=\"checkbox\"]::after {\n        border-color: var(--lumo-contrast-30pct);\n      }\n\n      :host([indeterminate][disabled]) [part=\"checkbox\"]::after {\n        background-color: var(--lumo-contrast-30pct);\n      }\n    </style>\n  </template>\n</dom-module><dom-module id=\"lumo-checkbox-effects\">\n  <template>\n    <style>\n      /* Transition the checkmark if activated with the mouse (disabled for grid select-all this way) */\n      :host(:hover) [part=\"checkbox\"]::after {\n        transition: width 0.1s, height 0.25s;\n      }\n\n      /* Used for activation \"halo\" */\n      [part=\"checkbox\"]::before {\n        color: transparent;\n        display: inline-block;\n        width: 100%;\n        height: 100%;\n        border-radius: inherit;\n        background-color: inherit;\n        transform: scale(1.4);\n        opacity: 0;\n        transition: transform 0.1s, opacity 0.8s;\n      }\n\n      /* Hover */\n\n      :host(:not([checked]):not([indeterminate]):not([disabled]):hover) [part=\"checkbox\"] {\n        background-color: var(--lumo-contrast-30pct);\n      }\n\n      /* Disable hover for touch devices */\n      @media (pointer: coarse) {\n        :host(:not([checked]):not([indeterminate]):not([disabled]):hover) [part=\"checkbox\"] {\n          background-color: var(--lumo-contrast-20pct);\n        }\n      }\n\n      /* Active */\n\n      :host([active]) [part=\"checkbox\"] {\n        transform: scale(0.9);\n        transition-duration: 0.05s;\n      }\n\n      :host([active][checked]) [part=\"checkbox\"] {\n        transform: scale(1.1);\n      }\n\n      :host([active]:not([checked])) [part=\"checkbox\"]::before {\n        transition-duration: 0.01s, 0.01s;\n        transform: scale(0);\n        opacity: 0.4;\n      }\n    </style>\n  </template>\n</dom-module>`;\ndocument.head.appendChild($_documentContainer.content);","/**\n * @polymerMixin\n */\nexport const ThemePropertyMixin = superClass => class VaadinThemePropertyMixin extends superClass {\n  static get properties() {\n    return {\n      /**\n       * Helper property with theme attribute value facilitating propagation\n       * in shadow DOM.\n       *\n       * Enables the component implementation to propagate the `theme`\n       * attribute value to the subcomponents in Shadow DOM by binding\n       * the subcomponent’s \"theme\" attribute to the `theme` property of\n       * the host.\n       *\n       * **NOTE:** Extending the mixin only provides the property for binding,\n       * and does not make the propagation alone.\n       *\n       * See [Theme Attribute and Subcomponents](https://github.com/vaadin/vaadin-themable-mixin/wiki/5.-Theme-Attribute-and-Subcomponents).\n       * page for more information.\n       *\n       * @protected\n       */\n      theme: {\n        type: String,\n        readOnly: true\n      }\n    };\n  }\n  /** @protected */\n\n\n  attributeChangedCallback(name, oldValue, newValue) {\n    super.attributeChangedCallback(name, oldValue, newValue);\n\n    if (name === 'theme') {\n      this._setTheme(newValue);\n    }\n  }\n\n};","import { DomModule } from \"/polymer/lib/elements/dom-module.js\";\nimport { ThemePropertyMixin } from './vaadin-theme-property-mixin.js';\n/**\n * @polymerMixin\n * @mixes Vaadin.ThemePropertyMixin\n */\n\nexport const ThemableMixin = superClass => class VaadinThemableMixin extends ThemePropertyMixin(superClass) {\n  /** @protected */\n  static finalize() {\n    super.finalize();\n    const template = this.prototype._template;\n    const hasOwnTemplate = this.template && this.template.parentElement && this.template.parentElement.id === this.is;\n\n    const inheritedTemplate = Object.getPrototypeOf(this.prototype)._template;\n\n    if (inheritedTemplate && !hasOwnTemplate) {\n      // The element doesn't define its own template -> include the theme modules from the inherited template\n      Array.from(inheritedTemplate.content.querySelectorAll('style[include]')).forEach(s => {\n        this._includeStyle(s.getAttribute('include'), template);\n      });\n    }\n\n    this._includeMatchingThemes(template);\n  }\n  /** @protected */\n\n\n  static _includeMatchingThemes(template) {\n    const domModule = DomModule;\n    const modules = domModule.prototype.modules;\n    let hasThemes = false;\n    const defaultModuleName = this.is + '-default-theme';\n    Object.keys(modules).sort((moduleNameA, moduleNameB) => {\n      const vaadinA = moduleNameA.indexOf('vaadin-') === 0;\n      const vaadinB = moduleNameB.indexOf('vaadin-') === 0;\n      const vaadinThemePrefixes = ['lumo-', 'material-'];\n      const vaadinThemeA = vaadinThemePrefixes.filter(prefix => moduleNameA.indexOf(prefix) === 0).length > 0;\n      const vaadinThemeB = vaadinThemePrefixes.filter(prefix => moduleNameB.indexOf(prefix) === 0).length > 0;\n\n      if (vaadinA !== vaadinB) {\n        // Include vaadin core styles first\n        return vaadinA ? -1 : 1;\n      } else if (vaadinThemeA !== vaadinThemeB) {\n        // Include vaadin theme styles after that\n        return vaadinThemeA ? -1 : 1;\n      } else {\n        // Lastly include custom styles so they override all vaadin styles\n        return 0;\n      }\n    }).forEach(moduleName => {\n      if (moduleName !== defaultModuleName) {\n        const themeFor = modules[moduleName].getAttribute('theme-for');\n\n        if (themeFor) {\n          themeFor.split(' ').forEach(themeForToken => {\n            if (new RegExp('^' + themeForToken.split('*').join('.*') + '$').test(this.is)) {\n              hasThemes = true;\n\n              this._includeStyle(moduleName, template);\n            }\n          });\n        }\n      }\n    });\n\n    if (!hasThemes && modules[defaultModuleName]) {\n      // No theme modules found, include the default module if it exists\n      this._includeStyle(defaultModuleName, template);\n    }\n  }\n  /** @private */\n\n\n  static _includeStyle(moduleName, template) {\n    if (template && !template.content.querySelector(`style[include=\"${moduleName}\"]`)) {\n      const styleEl = document.createElement('style');\n      styleEl.setAttribute('include', moduleName);\n      template.content.appendChild(styleEl);\n    }\n  }\n\n};","/**\n@license\nCopyright (c) 2017 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\n\n/**\n * A private mixin to avoid problems with dynamic properties and Polymer Analyzer.\n * No need to expose these properties in the API docs.\n * @polymerMixin\n */\nconst TabIndexMixin = superClass => class VaadinTabIndexMixin extends superClass {\n  static get properties() {\n    var properties = {\n      /**\n       * Internal property needed to listen to `tabindex` attribute changes.\n       *\n       * For changing the tabindex of this component use the native `tabIndex` property.\n       * @private\n       */\n      tabindex: {\n        type: Number,\n        value: 0,\n        reflectToAttribute: true,\n        observer: '_tabindexChanged'\n      }\n    };\n\n    if (window.ShadyDOM) {\n      // ShadyDOM browsers need the `tabIndex` in order to notify when the user changes it programmatically.\n      properties['tabIndex'] = properties.tabindex;\n    }\n\n    return properties;\n  }\n\n};\n/**\n * Polymer.IronControlState is not a proper 2.0 class, also, its tabindex\n * implementation fails in the shadow dom, so we have this for vaadin elements.\n * @polymerMixin\n */\n\n\nexport const ControlStateMixin = superClass => class VaadinControlStateMixin extends TabIndexMixin(superClass) {\n  static get properties() {\n    return {\n      /**\n       * Specify that this control should have input focus when the page loads.\n       */\n      autofocus: {\n        type: Boolean\n      },\n\n      /**\n       * Stores the previous value of tabindex attribute of the disabled element\n       */\n      _previousTabIndex: {\n        type: Number\n      },\n\n      /**\n       * If true, the user cannot interact with this element.\n       */\n      disabled: {\n        type: Boolean,\n        observer: '_disabledChanged',\n        reflectToAttribute: true\n      },\n      _isShiftTabbing: {\n        type: Boolean\n      }\n    };\n  }\n\n  ready() {\n    this.addEventListener('focusin', e => {\n      if (e.composedPath()[0] === this) {\n        this._focus(e);\n      } else if (e.composedPath().indexOf(this.focusElement) !== -1 && !this.disabled) {\n        this._setFocused(true);\n      }\n    });\n    this.addEventListener('focusout', e => this._setFocused(false)); // In super.ready() other 'focusin' and 'focusout' listeners might be\n    // added, so we call it after our own ones to ensure they execute first.\n    // Issue to watch out: when incorrect, <vaadin-combo-box> refocuses the\n    // input field on iOS after “Done” is pressed.\n\n    super.ready(); // This fixes the bug in Firefox 61 (https://bugzilla.mozilla.org/show_bug.cgi?id=1472887)\n    // where focusout event does not go out of shady DOM because composed property in the event is not true\n\n    const ensureEventComposed = e => {\n      if (!e.composed) {\n        e.target.dispatchEvent(new CustomEvent(e.type, {\n          bubbles: true,\n          composed: true,\n          cancelable: false\n        }));\n      }\n    };\n\n    this.shadowRoot.addEventListener('focusin', ensureEventComposed);\n    this.shadowRoot.addEventListener('focusout', ensureEventComposed);\n    this.addEventListener('keydown', e => {\n      if (!e.defaultPrevented && e.keyCode === 9) {\n        if (e.shiftKey) {\n          // Flag is checked in _focus event handler.\n          this._isShiftTabbing = true;\n          HTMLElement.prototype.focus.apply(this);\n\n          this._setFocused(false); // Event handling in IE is asynchronous and the flag is removed asynchronously as well\n\n\n          setTimeout(() => this._isShiftTabbing = false, 0);\n        } else {\n          // Workaround for FF63-65 bug that causes the focus to get lost when\n          // blurring a slotted component with focusable shadow root content\n          // https://bugzilla.mozilla.org/show_bug.cgi?id=1528686\n          // TODO: Remove when safe\n          const firefox = window.navigator.userAgent.match(/Firefox\\/(\\d\\d\\.\\d)/);\n\n          if (firefox && parseFloat(firefox[1]) >= 63 && parseFloat(firefox[1]) < 66 && this.parentNode && this.nextSibling) {\n            const fakeTarget = document.createElement('input');\n            fakeTarget.style.position = 'absolute';\n            fakeTarget.style.opacity = 0;\n            fakeTarget.tabIndex = this.tabIndex;\n            this.parentNode.insertBefore(fakeTarget, this.nextSibling);\n            fakeTarget.focus();\n            fakeTarget.addEventListener('focusout', () => this.parentNode.removeChild(fakeTarget));\n          }\n        }\n      }\n    });\n\n    if (this.autofocus && !this.focused && !this.disabled) {\n      window.requestAnimationFrame(() => {\n        this._focus();\n\n        this._setFocused(true);\n\n        this.setAttribute('focus-ring', '');\n      });\n    }\n\n    this._boundKeydownListener = this._bodyKeydownListener.bind(this);\n    this._boundKeyupListener = this._bodyKeyupListener.bind(this);\n  }\n  /**\n   * @protected\n   */\n\n\n  connectedCallback() {\n    super.connectedCallback();\n    document.body.addEventListener('keydown', this._boundKeydownListener, true);\n    document.body.addEventListener('keyup', this._boundKeyupListener, true);\n  }\n  /**\n   * @protected\n   */\n\n\n  disconnectedCallback() {\n    super.disconnectedCallback();\n    document.body.removeEventListener('keydown', this._boundKeydownListener, true);\n    document.body.removeEventListener('keyup', this._boundKeyupListener, true); // in non-Chrome browsers, blur does not fire on the element when it is disconnected.\n    // reproducible in `<vaadin-date-picker>` when closing on `Cancel` or `Today` click.\n\n    if (this.hasAttribute('focused')) {\n      this._setFocused(false);\n    }\n  }\n\n  _setFocused(focused) {\n    if (focused) {\n      this.setAttribute('focused', '');\n    } else {\n      this.removeAttribute('focused');\n    } // focus-ring is true when the element was focused from the keyboard.\n    // Focus Ring [A11ycasts]: https://youtu.be/ilj2P5-5CjI\n\n\n    if (focused && this._tabPressed) {\n      this.setAttribute('focus-ring', '');\n    } else {\n      this.removeAttribute('focus-ring');\n    }\n  }\n\n  _bodyKeydownListener(e) {\n    this._tabPressed = e.keyCode === 9;\n  }\n\n  _bodyKeyupListener() {\n    this._tabPressed = false;\n  }\n  /**\n   * Any element extending this mixin is required to implement this getter.\n   * It returns the actual focusable element in the component.\n   */\n\n\n  get focusElement() {\n    window.console.warn(`Please implement the 'focusElement' property in <${this.localName}>`);\n    return this;\n  }\n\n  _focus(e) {\n    if (this._isShiftTabbing) {\n      return;\n    }\n\n    this.focusElement.focus();\n\n    this._setFocused(true);\n  }\n  /**\n   * Moving the focus from the host element causes firing of the blur event what leads to problems in IE.\n   * @private\n   */\n\n\n  focus() {\n    if (!this.focusElement || this.disabled) {\n      return;\n    }\n\n    this.focusElement.focus();\n\n    this._setFocused(true);\n  }\n  /**\n   * Native bluring in the host element does nothing because it does not have the focus.\n   * In chrome it works, but not in FF.\n   * @private\n   */\n\n\n  blur() {\n    this.focusElement.blur();\n\n    this._setFocused(false);\n  }\n\n  _disabledChanged(disabled) {\n    this.focusElement.disabled = disabled;\n\n    if (disabled) {\n      this.blur();\n      this._previousTabIndex = this.tabindex;\n      this.tabindex = -1;\n      this.setAttribute('aria-disabled', 'true');\n    } else {\n      if (typeof this._previousTabIndex !== 'undefined') {\n        this.tabindex = this._previousTabIndex;\n      }\n\n      this.removeAttribute('aria-disabled');\n    }\n  }\n\n  _tabindexChanged(tabindex) {\n    if (tabindex !== undefined) {\n      this.focusElement.tabIndex = tabindex;\n    }\n\n    if (this.disabled && this.tabindex) {\n      // If tabindex attribute was changed while checkbox was disabled\n      if (this.tabindex !== -1) {\n        this._previousTabIndex = this.tabindex;\n      }\n\n      this.tabindex = tabindex = undefined;\n    }\n\n    if (window.ShadyDOM) {\n      this.setProperties({\n        tabIndex: tabindex,\n        tabindex: tabindex\n      });\n    }\n  }\n  /**\n   * @protected\n   */\n\n\n  click() {\n    if (!this.disabled) {\n      super.click();\n    }\n  }\n\n};","const DEV_MODE_CODE_REGEXP = /\\/\\*\\*\\s+vaadin-dev-mode:start([\\s\\S]*)vaadin-dev-mode:end\\s+\\*\\*\\//i;\nconst FlowClients = window.Vaadin && window.Vaadin.Flow && window.Vaadin.Flow.clients;\n\nfunction isMinified() {\n  function test() {\n    /** vaadin-dev-mode:start\n    return false;\n    vaadin-dev-mode:end **/\n    return true;\n  }\n\n  return uncommentAndRun(test);\n}\n\nfunction isDevelopmentMode() {\n  try {\n    if (isForcedDevelopmentMode()) {\n      return true;\n    }\n\n    if (!isLocalhost()) {\n      return false;\n    }\n\n    if (FlowClients) {\n      return !isFlowProductionMode();\n    }\n\n    return !isMinified();\n  } catch (e) {\n    // Some error in this code, assume production so no further actions will be taken\n    return false;\n  }\n}\n\nfunction isForcedDevelopmentMode() {\n  return localStorage.getItem(\"vaadin.developmentmode.force\");\n}\n\nfunction isLocalhost() {\n  return [\"localhost\", \"127.0.0.1\"].indexOf(window.location.hostname) >= 0;\n}\n\nfunction isFlowProductionMode() {\n  if (FlowClients) {\n    const productionModeApps = Object.keys(FlowClients).map(key => FlowClients[key]).filter(client => client.productionMode);\n\n    if (productionModeApps.length > 0) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction uncommentAndRun(callback, args) {\n  if (typeof callback !== 'function') {\n    return;\n  }\n\n  const match = DEV_MODE_CODE_REGEXP.exec(callback.toString());\n\n  if (match) {\n    try {\n      // requires CSP: script-src 'unsafe-eval'\n      callback = new Function(match[1]);\n    } catch (e) {\n      // eat the exception\n      console.log('vaadin-development-mode-detector: uncommentAndRun() failed', e);\n    }\n  }\n\n  return callback(args);\n} // A guard against polymer-modulizer removing the window.Vaadin\n// initialization above.\n\n\nwindow['Vaadin'] = window['Vaadin'] || {};\n/**\n * Inspects the source code of the given `callback` function for\n * specially-marked _commented_ code. If such commented code is found in the\n * callback source, uncomments and runs that code instead of the callback\n * itself. Otherwise runs the callback as is.\n *\n * The optional arguments are passed into the callback / uncommented code,\n * the result is returned.\n *\n * See the `isMinified()` function source code in this file for an example.\n *\n */\n\nexport const runIfDevelopmentMode = function (callback, args) {\n  if (window.Vaadin.developmentMode) {\n    return uncommentAndRun(callback, args);\n  }\n};\n\nif (window.Vaadin.developmentMode === undefined) {\n  window.Vaadin.developmentMode = isDevelopmentMode();\n}","/* This file is autogenerated from src/vaadin-usage-statistics.tpl.html */\n\n/*\n\nThis script gathers usage statistics from the application running in development mode.\n\nStatistics gathering is automatically disabled and excluded from production builds.\n\nFor details and to opt-out, see https://github.com/vaadin/vaadin-usage-statistics.\n\n*/\n\n/*\n  FIXME(polymer-modulizer): the above comments were extracted\n  from HTML and may be out of place here. Review them and\n  then delete this comment!\n*/\nimport { runIfDevelopmentMode } from \"../vaadin-development-mode-detector/vaadin-development-mode-detector.js\";\n\nfunction maybeGatherAndSendStats() {\n  /** vaadin-dev-mode:start\n  (function () {\n  'use strict';\n  var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n  } : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  };\n  var classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n  };\n  var createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n   return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n  }();\n  var getPolymerVersion = function getPolymerVersion() {\n  return window.Polymer && window.Polymer.version;\n  };\n  var StatisticsGatherer = function () {\n  function StatisticsGatherer(logger) {\n    classCallCheck(this, StatisticsGatherer);\n     this.now = new Date().getTime();\n    this.logger = logger;\n  }\n   createClass(StatisticsGatherer, [{\n    key: 'frameworkVersionDetectors',\n    value: function frameworkVersionDetectors() {\n      return {\n        'Flow': function Flow() {\n          if (window.Vaadin && window.Vaadin.Flow && window.Vaadin.Flow.clients) {\n            var flowVersions = Object.keys(window.Vaadin.Flow.clients).map(function (key) {\n              return window.Vaadin.Flow.clients[key];\n            }).filter(function (client) {\n              return client.getVersionInfo;\n            }).map(function (client) {\n              return client.getVersionInfo().flow;\n            });\n            if (flowVersions.length > 0) {\n              return flowVersions[0];\n            }\n          }\n        },\n        'Vaadin Framework': function VaadinFramework() {\n          if (window.vaadin && window.vaadin.clients) {\n            var frameworkVersions = Object.values(window.vaadin.clients).filter(function (client) {\n              return client.getVersionInfo;\n            }).map(function (client) {\n              return client.getVersionInfo().vaadinVersion;\n            });\n            if (frameworkVersions.length > 0) {\n              return frameworkVersions[0];\n            }\n          }\n        },\n        'AngularJs': function AngularJs() {\n          if (window.angular && window.angular.version && window.angular.version) {\n            return window.angular.version.full;\n          }\n        },\n        'Angular': function Angular() {\n          if (window.ng) {\n            var tags = document.querySelectorAll(\"[ng-version]\");\n            if (tags.length > 0) {\n              return tags[0].getAttribute(\"ng-version\");\n            }\n            return \"Unknown\";\n          }\n        },\n        'Backbone.js': function BackboneJs() {\n          if (window.Backbone) {\n            return window.Backbone.VERSION;\n          }\n        },\n        'React': function React() {\n          var reactSelector = '[data-reactroot], [data-reactid]';\n          if (!!document.querySelector(reactSelector)) {\n            // React does not publish the version by default\n            return \"unknown\";\n          }\n        },\n        'Ember': function Ember() {\n          if (window.Em && window.Em.VERSION) {\n            return window.Em.VERSION;\n          } else if (window.Ember && window.Ember.VERSION) {\n            return window.Ember.VERSION;\n          }\n        },\n        'jQuery': function (_jQuery) {\n          function jQuery() {\n            return _jQuery.apply(this, arguments);\n          }\n           jQuery.toString = function () {\n            return _jQuery.toString();\n          };\n           return jQuery;\n        }(function () {\n          if (typeof jQuery === 'function' && jQuery.prototype.jquery !== undefined) {\n            return jQuery.prototype.jquery;\n          }\n        }),\n        'Polymer': function Polymer() {\n          var version = getPolymerVersion();\n          if (version) {\n            return version;\n          }\n        },\n        'LitElement': function LitElement() {\n          var version = window.litElementVersions && window.litElementVersions[0];\n          if (version) {\n            return version;\n          }\n        },\n        'LitHtml': function LitHtml() {\n          var version = window.litHtmlVersions && window.litHtmlVersions[0];\n          if (version) {\n            return version;\n          }\n        },\n        'Vue.js': function VueJs() {\n          if (window.Vue) {\n            return window.Vue.version;\n          }\n        }\n      };\n    }\n  }, {\n    key: 'getUsedVaadinElements',\n    value: function getUsedVaadinElements(elements) {\n      var version = getPolymerVersion();\n      var elementClasses = void 0;\n      // NOTE: In case you edit the code here, YOU MUST UPDATE any statistics reporting code in Flow.\n      // Check all locations calling the method getEntries() in\n      // https://github.com/vaadin/flow/blob/master/flow-server/src/main/java/com/vaadin/flow/internal/UsageStatistics.java#L106\n      // Currently it is only used by BootstrapHandler.\n      if (version && version.indexOf('2') === 0) {\n        // Polymer 2: components classes are stored in window.Vaadin\n        elementClasses = Object.keys(window.Vaadin).map(function (c) {\n          return window.Vaadin[c];\n        }).filter(function (c) {\n          return c.is;\n        });\n      } else {\n        // Polymer 3: components classes are stored in window.Vaadin.registrations\n        elementClasses = window.Vaadin.registrations || [];\n      }\n      elementClasses.forEach(function (klass) {\n        var version = klass.version ? klass.version : \"0.0.0\";\n        elements[klass.is] = { version: version };\n      });\n    }\n  }, {\n    key: 'getUsedVaadinThemes',\n    value: function getUsedVaadinThemes(themes) {\n      ['Lumo', 'Material'].forEach(function (themeName) {\n        var theme;\n        var version = getPolymerVersion();\n        if (version && version.indexOf('2') === 0) {\n          // Polymer 2: themes are stored in window.Vaadin\n          theme = window.Vaadin[themeName];\n        } else {\n          // Polymer 3: themes are stored in custom element registry\n          theme = customElements.get('vaadin-' + themeName.toLowerCase() + '-styles');\n        }\n        if (theme && theme.version) {\n          themes[themeName] = { version: theme.version };\n        }\n      });\n    }\n  }, {\n    key: 'getFrameworks',\n    value: function getFrameworks(frameworks) {\n      var detectors = this.frameworkVersionDetectors();\n      Object.keys(detectors).forEach(function (framework) {\n        var detector = detectors[framework];\n        try {\n          var version = detector();\n          if (version) {\n            frameworks[framework] = { version: version };\n          }\n        } catch (e) {}\n      });\n    }\n  }, {\n    key: 'gather',\n    value: function gather(storage) {\n      var storedStats = storage.read();\n      var gatheredStats = {};\n      var types = [\"elements\", \"frameworks\", \"themes\"];\n       types.forEach(function (type) {\n        gatheredStats[type] = {};\n        if (!storedStats[type]) {\n          storedStats[type] = {};\n        }\n      });\n       var previousStats = JSON.stringify(storedStats);\n       this.getUsedVaadinElements(gatheredStats.elements);\n      this.getFrameworks(gatheredStats.frameworks);\n      this.getUsedVaadinThemes(gatheredStats.themes);\n       var now = this.now;\n      types.forEach(function (type) {\n        var keys = Object.keys(gatheredStats[type]);\n        keys.forEach(function (key) {\n          if (!storedStats[type][key] || _typeof(storedStats[type][key]) != _typeof({})) {\n            storedStats[type][key] = { firstUsed: now };\n          }\n          // Discards any previously logged version number\n          storedStats[type][key].version = gatheredStats[type][key].version;\n          storedStats[type][key].lastUsed = now;\n        });\n      });\n       var newStats = JSON.stringify(storedStats);\n      storage.write(newStats);\n      if (newStats != previousStats && Object.keys(storedStats).length > 0) {\n        this.logger.debug(\"New stats: \" + newStats);\n      }\n    }\n  }]);\n  return StatisticsGatherer;\n  }();\n  var StatisticsStorage = function () {\n  function StatisticsStorage(key) {\n    classCallCheck(this, StatisticsStorage);\n     this.key = key;\n  }\n   createClass(StatisticsStorage, [{\n    key: 'read',\n    value: function read() {\n      var localStorageStatsString = localStorage.getItem(this.key);\n      try {\n        return JSON.parse(localStorageStatsString ? localStorageStatsString : '{}');\n      } catch (e) {\n        return {};\n      }\n    }\n  }, {\n    key: 'write',\n    value: function write(data) {\n      localStorage.setItem(this.key, data);\n    }\n  }, {\n    key: 'clear',\n    value: function clear() {\n      localStorage.removeItem(this.key);\n    }\n  }, {\n    key: 'isEmpty',\n    value: function isEmpty() {\n      var storedStats = this.read();\n      var empty = true;\n      Object.keys(storedStats).forEach(function (key) {\n        if (Object.keys(storedStats[key]).length > 0) {\n          empty = false;\n        }\n      });\n       return empty;\n    }\n  }]);\n  return StatisticsStorage;\n  }();\n  var StatisticsSender = function () {\n  function StatisticsSender(url, logger) {\n    classCallCheck(this, StatisticsSender);\n     this.url = url;\n    this.logger = logger;\n  }\n   createClass(StatisticsSender, [{\n    key: 'send',\n    value: function send(data, errorHandler) {\n      var logger = this.logger;\n       if (navigator.onLine === false) {\n        logger.debug(\"Offline, can't send\");\n        errorHandler();\n        return;\n      }\n      logger.debug(\"Sending data to \" + this.url);\n       var req = new XMLHttpRequest();\n      req.withCredentials = true;\n      req.addEventListener(\"load\", function () {\n        // Stats sent, nothing more to do\n        logger.debug(\"Response: \" + req.responseText);\n      });\n      req.addEventListener(\"error\", function () {\n        logger.debug(\"Send failed\");\n        errorHandler();\n      });\n      req.addEventListener(\"abort\", function () {\n        logger.debug(\"Send aborted\");\n        errorHandler();\n      });\n      req.open(\"POST\", this.url);\n      req.setRequestHeader(\"Content-Type\", \"application/json\");\n      req.send(data);\n    }\n  }]);\n  return StatisticsSender;\n  }();\n  var StatisticsLogger = function () {\n  function StatisticsLogger(id) {\n    classCallCheck(this, StatisticsLogger);\n     this.id = id;\n  }\n   createClass(StatisticsLogger, [{\n    key: '_isDebug',\n    value: function _isDebug() {\n      return localStorage.getItem(\"vaadin.\" + this.id + \".debug\");\n    }\n  }, {\n    key: 'debug',\n    value: function debug(msg) {\n      if (this._isDebug()) {\n        console.info(this.id + \": \" + msg);\n      }\n    }\n  }]);\n  return StatisticsLogger;\n  }();\n  var UsageStatistics = function () {\n  function UsageStatistics() {\n    classCallCheck(this, UsageStatistics);\n     this.now = new Date();\n    this.timeNow = this.now.getTime();\n    this.gatherDelay = 10; // Delay between loading this file and gathering stats\n    this.initialDelay = 24 * 60 * 60;\n     this.logger = new StatisticsLogger(\"statistics\");\n    this.storage = new StatisticsStorage(\"vaadin.statistics.basket\");\n    this.gatherer = new StatisticsGatherer(this.logger);\n    this.sender = new StatisticsSender(\"https://tools.vaadin.com/usage-stats/submit\", this.logger);\n  }\n   createClass(UsageStatistics, [{\n    key: 'maybeGatherAndSend',\n    value: function maybeGatherAndSend() {\n      var _this = this;\n       if (localStorage.getItem(UsageStatistics.optOutKey)) {\n        return;\n      }\n      this.gatherer.gather(this.storage);\n      setTimeout(function () {\n        _this.maybeSend();\n      }, this.gatherDelay * 1000);\n    }\n  }, {\n    key: 'lottery',\n    value: function lottery() {\n      return true;\n    }\n  }, {\n    key: 'currentMonth',\n    value: function currentMonth() {\n      return this.now.getYear() * 12 + this.now.getMonth();\n    }\n  }, {\n    key: 'maybeSend',\n    value: function maybeSend() {\n      var firstUse = Number(localStorage.getItem(UsageStatistics.firstUseKey));\n      var monthProcessed = Number(localStorage.getItem(UsageStatistics.monthProcessedKey));\n       if (!firstUse) {\n        // Use a grace period to avoid interfering with tests, incognito mode etc\n        firstUse = this.timeNow;\n        localStorage.setItem(UsageStatistics.firstUseKey, firstUse);\n      }\n       if (this.timeNow < firstUse + this.initialDelay * 1000) {\n        this.logger.debug(\"No statistics will be sent until the initial delay of \" + this.initialDelay + \"s has passed\");\n        return;\n      }\n      if (this.currentMonth() <= monthProcessed) {\n        this.logger.debug(\"This month has already been processed\");\n        return;\n      }\n      localStorage.setItem(UsageStatistics.monthProcessedKey, this.currentMonth());\n      // Use random sampling\n      if (this.lottery()) {\n        this.logger.debug(\"Congratulations, we have a winner!\");\n      } else {\n        this.logger.debug(\"Sorry, no stats from you this time\");\n        return;\n      }\n       this.send();\n    }\n  }, {\n    key: 'send',\n    value: function send() {\n      // Ensure we have the latest data\n      this.gatherer.gather(this.storage);\n       // Read, send and clean up\n      var data = this.storage.read();\n      data[\"firstUse\"] = Number(localStorage.getItem(UsageStatistics.firstUseKey));\n      data[\"usageStatisticsVersion\"] = UsageStatistics.version;\n      var info = 'This request contains usage statistics gathered from the application running in development mode. \\n\\nStatistics gathering is automatically disabled and excluded from production builds.\\n\\nFor details and to opt-out, see https://github.com/vaadin/vaadin-usage-statistics.\\n\\n\\n\\n';\n      var self = this;\n      this.sender.send(info + JSON.stringify(data), function () {\n        // Revert the 'month processed' flag\n        localStorage.setItem(UsageStatistics.monthProcessedKey, self.currentMonth() - 1);\n      });\n    }\n  }], [{\n    key: 'version',\n    get: function get$1() {\n      return '2.1.0';\n    }\n  }, {\n    key: 'firstUseKey',\n    get: function get$1() {\n      return 'vaadin.statistics.firstuse';\n    }\n  }, {\n    key: 'monthProcessedKey',\n    get: function get$1() {\n      return 'vaadin.statistics.monthProcessed';\n    }\n  }, {\n    key: 'optOutKey',\n    get: function get$1() {\n      return 'vaadin.statistics.optout';\n    }\n  }]);\n  return UsageStatistics;\n  }();\n  try {\n  window.Vaadin = window.Vaadin || {};\n  window.Vaadin.usageStatsChecker = window.Vaadin.usageStatsChecker || new UsageStatistics();\n  window.Vaadin.usageStatsChecker.maybeGatherAndSend();\n  } catch (e) {\n  // Intentionally ignored as this is not a problem in the app being developed\n  }\n  }());\n   vaadin-dev-mode:end **/\n}\n\nexport const usageStatistics = function () {\n  if (typeof runIfDevelopmentMode === 'function') {\n    return runIfDevelopmentMode(maybeGatherAndSendStats);\n  }\n};","import { idlePeriod } from \"@polymer/polymer/lib/utils/async.js\";\nimport { Debouncer } from \"@polymer/polymer/lib/utils/debounce.js\";\nimport { enqueueDebouncer } from \"@polymer/polymer/lib/utils/flush.js\";\nimport { usageStatistics } from \"../vaadin-usage-statistics/vaadin-usage-statistics.js\";\n\nif (!window.Vaadin) {\n  window['Vaadin'] = {};\n}\n/**\n * Array of Vaadin custom element classes that have been finalized.\n */\n\n\nwindow['Vaadin'].registrations = window.Vaadin.registrations || []; // Use the hack to prevent polymer-modulizer from converting to exports\n\nwindow['Vaadin'].developmentModeCallback = window.Vaadin.developmentModeCallback || {};\n\nwindow['Vaadin'].developmentModeCallback['vaadin-usage-statistics'] = function () {\n  if (usageStatistics) {\n    usageStatistics();\n  }\n};\n\nlet statsJob;\nconst registered = new Set();\n/**\n * @polymerMixin\n */\n\nexport const ElementMixin = superClass => class VaadinElementMixin extends superClass {\n  /** @protected */\n  static finalize() {\n    super.finalize();\n    const {\n      is\n    } = this; // Registers a class prototype for telemetry purposes.\n\n    if (is && !registered.has(is)) {\n      window.Vaadin.registrations.push(this);\n      registered.add(is);\n\n      if (window.Vaadin.developmentModeCallback) {\n        statsJob = Debouncer.debounce(statsJob, idlePeriod, () => {\n          window.Vaadin.developmentModeCallback['vaadin-usage-statistics']();\n        });\n        enqueueDebouncer(statsJob);\n      }\n    }\n  }\n\n  constructor() {\n    super();\n\n    if (document.doctype === null) {\n      console.warn('Vaadin components require the \"standards mode\" declaration. Please add <!DOCTYPE html> to the HTML document.');\n    }\n  }\n\n};","/**\n@license\nCopyright (c) 2017 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\nimport { PolymerElement } from \"@polymer/polymer/polymer-element.js\";\nimport { GestureEventListeners } from \"@polymer/polymer/lib/mixins/gesture-event-listeners.js\";\nimport { ThemableMixin } from \"../../vaadin-themable-mixin/vaadin-themable-mixin.js\";\nimport { ControlStateMixin } from \"../../vaadin-control-state-mixin/vaadin-control-state-mixin.js\";\nimport { ElementMixin } from \"../../vaadin-element-mixin/vaadin-element-mixin.js\";\nimport { html } from \"@polymer/polymer/lib/utils/html-tag.js\";\n/**\n * `<vaadin-checkbox>` is a Web Component for customized checkboxes.\n *\n * ```html\n * <vaadin-checkbox>\n *   Make my profile visible\n * </vaadin-checkbox>\n * ```\n *\n * ### Styling\n *\n * The following shadow DOM parts are available for styling:\n *\n * Part name         | Description\n * ------------------|----------------\n * `checkbox`        | The checkbox element\n * `label`           | The label content element\n *\n * The following state attributes are available for styling:\n *\n * Attribute    | Description | Part name\n * -------------|-------------|--------------\n * `active`     | Set when the checkbox is pressed down, either with mouse, touch or the keyboard. | `:host`\n * `disabled`   | Set when the checkbox is disabled. | `:host`\n * `focus-ring` | Set when the checkbox is focused using the keyboard. | `:host`\n * `focused`    | Set when the checkbox is focused. | `:host`\n * `indeterminate` | Set when the checkbox is in indeterminate mode. | `:host`\n * `checked` | Set when the checkbox is checked. | `:host`\n * `empty` | Set when there is no label provided. | `label`\n *\n * See [ThemableMixin – how to apply styles for shadow parts](https://github.com/vaadin/vaadin-themable-mixin/wiki)\n *\n * @memberof Vaadin\n * @mixes Vaadin.ElementMixin\n * @mixes Vaadin.ControlStateMixin\n * @mixes Vaadin.ThemableMixin\n * @mixes Polymer.GestureEventListeners\n * @demo demo/index.html\n */\n\nclass CheckboxElement extends ElementMixin(ControlStateMixin(ThemableMixin(GestureEventListeners(PolymerElement)))) {\n  static get template() {\n    return html`\n    <style>\n      :host {\n        display: inline-block;\n      }\n\n      :host([hidden]) {\n        display: none !important;\n      }\n\n      label {\n        display: inline-flex;\n        align-items: baseline;\n        outline: none;\n      }\n\n      [part=\"checkbox\"] {\n        position: relative;\n        display: inline-block;\n        flex: none;\n      }\n\n      input[type=\"checkbox\"] {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        opacity: 0;\n        cursor: inherit;\n        margin: 0;\n      }\n\n      :host([disabled]) {\n        -webkit-tap-highlight-color: transparent;\n      }\n    </style>\n\n    <label>\n      <span part=\"checkbox\">\n        <input type=\"checkbox\" checked=\"{{checked::change}}\" disabled\\$=\"[[disabled]]\" indeterminate=\"{{indeterminate::change}}\" role=\"presentation\" tabindex=\"-1\">\n      </span>\n\n      <span part=\"label\">\n        <slot></slot>\n      </span>\n    </label>\n`;\n  }\n\n  static get is() {\n    return 'vaadin-checkbox';\n  }\n\n  static get version() {\n    return '2.2.10';\n  }\n\n  static get properties() {\n    return {\n      /**\n       * True if the checkbox is checked.\n       */\n      checked: {\n        type: Boolean,\n        value: false,\n        notify: true,\n        observer: '_checkedChanged',\n        reflectToAttribute: true\n      },\n\n      /**\n       * Indeterminate state of the checkbox when it's neither checked nor unchecked, but undetermined.\n       * https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/checkbox#Indeterminate_state_checkboxes\n       */\n      indeterminate: {\n        type: Boolean,\n        notify: true,\n        observer: '_indeterminateChanged',\n        reflectToAttribute: true,\n        value: false\n      },\n\n      /**\n       * The value given to the data submitted with the checkbox's name to the server when the control is inside a form.\n       */\n      value: {\n        type: String,\n        value: 'on'\n      },\n      _nativeCheckbox: {\n        type: Object\n      }\n    };\n  }\n\n  constructor() {\n    super();\n    /**\n     * @type {string}\n     * Name of the element.\n     */\n\n    this.name;\n  }\n\n  get name() {\n    return this.checked ? this._storedName : '';\n  }\n\n  set name(name) {\n    this._storedName = name;\n  }\n\n  ready() {\n    super.ready();\n    this.setAttribute('role', 'checkbox');\n    this._nativeCheckbox = this.shadowRoot.querySelector('input[type=\"checkbox\"]');\n    this.addEventListener('click', this._handleClick.bind(this));\n\n    this._addActiveListeners();\n\n    const attrName = this.getAttribute('name');\n\n    if (attrName) {\n      this.name = attrName;\n    }\n\n    this.shadowRoot.querySelector('[part~=\"label\"]').querySelector('slot').addEventListener('slotchange', this._updateLabelAttribute.bind(this));\n\n    this._updateLabelAttribute();\n  }\n\n  _updateLabelAttribute() {\n    const label = this.shadowRoot.querySelector('[part~=\"label\"]');\n    const assignedNodes = label.firstElementChild.assignedNodes();\n\n    if (this._isAssignedNodesEmpty(assignedNodes)) {\n      label.setAttribute('empty', '');\n    } else {\n      label.removeAttribute('empty');\n    }\n  }\n\n  _isAssignedNodesEmpty(nodes) {\n    // The assigned nodes considered to be empty if there is no slotted content or only one empty text node\n    return nodes.length === 0 || nodes.length == 1 && nodes[0].nodeType == Node.TEXT_NODE && nodes[0].textContent.trim() === '';\n  }\n\n  _checkedChanged(checked) {\n    if (this.indeterminate) {\n      this.setAttribute('aria-checked', 'mixed');\n    } else {\n      this.setAttribute('aria-checked', checked);\n    }\n  }\n\n  _indeterminateChanged(indeterminate) {\n    if (indeterminate) {\n      this.setAttribute('aria-checked', 'mixed');\n    } else {\n      this.setAttribute('aria-checked', this.checked);\n    }\n  }\n\n  _addActiveListeners() {\n    // DOWN\n    this._addEventListenerToNode(this, 'down', e => {\n      if (this.__interactionsAllowed(e)) {\n        this.setAttribute('active', '');\n      }\n    }); // UP\n\n\n    this._addEventListenerToNode(this, 'up', () => this.removeAttribute('active')); // KEYDOWN\n\n\n    this.addEventListener('keydown', e => {\n      if (this.__interactionsAllowed(e) && e.keyCode === 32) {\n        e.preventDefault();\n        this.setAttribute('active', '');\n      }\n    }); // KEYUP\n\n    this.addEventListener('keyup', e => {\n      if (this.__interactionsAllowed(e) && e.keyCode === 32) {\n        e.preventDefault();\n\n        this._toggleChecked();\n\n        this.removeAttribute('active');\n\n        if (this.indeterminate) {\n          this.indeterminate = false;\n        }\n      }\n    });\n  }\n  /** @protected */\n\n\n  get focusElement() {\n    return this.shadowRoot.querySelector('input');\n  }\n  /**\n   * True if users' interactions (mouse or keyboard)\n   * should toggle the checkbox\n   */\n\n\n  __interactionsAllowed(e) {\n    if (this.disabled) {\n      return false;\n    } // https://github.com/vaadin/vaadin-checkbox/issues/63\n\n\n    if (e.target.localName === 'a') {\n      return false;\n    }\n\n    return true;\n  }\n\n  _handleClick(e) {\n    if (this.__interactionsAllowed(e)) {\n      if (!this.indeterminate) {\n        if (e.composedPath()[0] !== this._nativeCheckbox) {\n          e.preventDefault();\n\n          this._toggleChecked();\n        }\n      } else {\n        /*\n         * Required for IE 11 and Edge.\n         * See issue here: https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/7344418/\n         */\n        this.indeterminate = false;\n        e.preventDefault();\n\n        this._toggleChecked();\n      }\n    }\n  }\n\n  _toggleChecked() {\n    this.checked = !this.checked;\n    this.dispatchEvent(new CustomEvent('change', {\n      composed: false,\n      bubbles: true\n    }));\n  }\n  /**\n   * Fired when the user commits a value change.\n   *\n   * @event change\n   */\n\n\n}\n\ncustomElements.define(CheckboxElement.is, CheckboxElement);\nexport { CheckboxElement };","import \"../../../vaadin-lumo-styles/color.js\";\nimport \"../../../vaadin-lumo-styles/font-icons.js\";\nimport \"../../../vaadin-lumo-styles/sizing.js\";\nimport \"../../../vaadin-lumo-styles/spacing.js\";\nimport \"../../../vaadin-lumo-styles/style.js\";\nimport \"../../../vaadin-lumo-styles/typography.js\";\nimport \"../../../vaadin-checkbox/theme/lumo/vaadin-checkbox.js\";\nimport { html } from \"/polymer/lib/utils/html-tag.js\";\nconst $_documentContainer = html`<dom-module id=\"lumo-grid\" theme-for=\"vaadin-grid\">\n  <template>\n    <style>\n      :host {\n        font-family: var(--lumo-font-family);\n        font-size: var(--lumo-font-size-m);\n        line-height: var(--lumo-line-height-s);\n        color: var(--lumo-body-text-color);\n        background-color: var(--lumo-base-color);\n        box-sizing: border-box;\n        -webkit-text-size-adjust: 100%;\n        -webkit-tap-highlight-color: transparent;\n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: grayscale;\n\n        /* For internal use only */\n        --_lumo-grid-border-color: var(--lumo-contrast-20pct);\n        --_lumo-grid-secondary-border-color: var(--lumo-contrast-10pct);\n        --_lumo-grid-border-width: 1px;\n        --_lumo-grid-selected-row-color: var(--lumo-primary-color-10pct);\n      }\n\n      /* No (outer) border */\n\n      :host(:not([theme~=\"no-border\"])) {\n        border: var(--_lumo-grid-border-width) solid var(--_lumo-grid-border-color);\n      }\n\n      /* Cell styles */\n\n      [part~=\"cell\"] {\n        min-height: var(--lumo-size-m);\n        background-color: var(--lumo-base-color);\n      }\n\n      [part~=\"cell\"] ::slotted(vaadin-grid-cell-content) {\n        cursor: default;\n        padding: var(--lumo-space-xs) var(--lumo-space-m);\n      }\n\n      /* Apply row borders by default and introduce the \"no-row-borders\" variant */\n      :host(:not([theme~=\"no-row-borders\"])) [part~=\"cell\"]:not([part~=\"details-cell\"]) {\n        border-top: var(--_lumo-grid-border-width) solid var(--_lumo-grid-secondary-border-color);\n      }\n\n      /* Hide first body row top border */\n      :host(:not([theme~=\"no-row-borders\"])) [part=\"row\"][first] [part~=\"cell\"]:not([part~=\"details-cell\"]) {\n        border-top: 0;\n        min-height: calc(var(--lumo-size-m) - var(--_lumo-grid-border-width));\n      }\n\n      /* Focus-ring */\n\n      [part~=\"cell\"]:focus {\n        outline: none;\n      }\n\n      :host([navigating]) [part~=\"cell\"]:focus::before {\n        content: \"\";\n        position: absolute;\n        top: 0;\n        right: 0;\n        bottom: 0;\n        left: 0;\n        pointer-events: none;\n        box-shadow: inset 0 0 0 2px var(--lumo-primary-color-50pct);\n      }\n\n      /* Drag and Drop styles */\n      :host([dragover])::after {\n        content: \"\";\n        position: absolute;\n        z-index: 100;\n        top: 0;\n        right: 0;\n        bottom: 0;\n        left: 0;\n        pointer-events: none;\n        box-shadow: inset 0 0 0 2px var(--lumo-primary-color-50pct);\n      }\n\n      [part~=\"row\"][dragover] {\n        z-index: 100 !important;\n      }\n\n      [part~=\"row\"][dragover] [part~=\"cell\"] {\n        overflow: visible;\n      }\n\n      [part~=\"row\"][dragover] [part~=\"cell\"]::after {\n        content: \"\";\n        position: absolute;\n        top: 0;\n        right: 0;\n        bottom: 0;\n        left: 0;\n        height: calc(var(--_lumo-grid-border-width) + 2px);\n        pointer-events: none;\n        background: var(--lumo-primary-color-50pct);\n      }\n\n      :host([theme~=\"no-row-borders\"]) [dragover] [part~=\"cell\"]::after {\n        height: 2px;\n      }\n\n      [part~=\"row\"][dragover=\"below\"] [part~=\"cell\"]::after {\n        top: 100%;\n        bottom: auto;\n        margin-top: -1px;\n      }\n\n      [part~=\"row\"][dragover=\"above\"] [part~=\"cell\"]::after {\n        top: auto;\n        bottom: 100%;\n        margin-bottom: -1px;\n      }\n\n      [part~=\"row\"][details-opened][dragover=\"below\"] [part~=\"cell\"]:not([part~=\"details-cell\"])::after,\n      [part~=\"row\"][details-opened][dragover=\"above\"] [part~=\"details-cell\"]::after {\n        display: none;\n      }\n\n      [part~=\"row\"][dragover][dragover=\"on-top\"] [part~=\"cell\"]::after {\n        height: 100%;\n      }\n\n      [part~=\"row\"][dragstart] {\n        /* Add bottom-space to the row so the drag number doesn't get clipped. Needed for IE/Edge */\n        border-bottom: 100px solid transparent;\n        z-index: 100 !important;\n        opacity: 0.9;\n      }\n\n      [part~=\"row\"][dragstart] [part~=\"cell\"] {\n        border: none !important;\n        box-shadow: none !important;\n      }\n\n      [part~=\"row\"][dragstart] [part~=\"cell\"][last-column] {\n        border-radius: 0 var(--lumo-border-radius-s) var(--lumo-border-radius-s) 0;\n      }\n\n      [part~=\"row\"][dragstart] [part~=\"cell\"][first-column] {\n        border-radius: var(--lumo-border-radius-s) 0 0 var(--lumo-border-radius-s);\n      }\n\n      [ios] [part~=\"row\"][dragstart] [part~=\"cell\"] {\n        background: var(--lumo-primary-color-50pct);\n      }\n\n      #scroller:not([ios]) [part~=\"row\"][dragstart]:not([dragstart=\"\"])::after {\n        display: block;\n        position: absolute;\n        left: var(--_grid-drag-start-x);\n        top: var(--_grid-drag-start-y);\n        z-index: 100;\n        content: attr(dragstart);\n        align-items: center;\n        justify-content: center;\n        box-sizing: border-box;\n        padding: calc(var(--lumo-space-xs) * 0.8);\n        color: var(--lumo-error-contrast-color);\n        background-color: var(--lumo-error-color);\n        border-radius: var(--lumo-border-radius-m);\n        font-family: var(--lumo-font-family);\n        font-size: var(--lumo-font-size-xxs);\n        line-height: 1;\n        font-weight: 500;\n        text-transform: initial;\n        letter-spacing: initial;\n        min-width: calc(var(--lumo-size-s) * 0.7);\n        text-align: center;\n      }\n\n      /* Headers and footers */\n\n      [part~=\"header-cell\"] ::slotted(vaadin-grid-cell-content),\n      [part~=\"footer-cell\"] ::slotted(vaadin-grid-cell-content),\n      [part~=\"reorder-ghost\"] {\n        font-size: var(--lumo-font-size-s);\n        font-weight: 500;\n      }\n\n      [part~=\"footer-cell\"] ::slotted(vaadin-grid-cell-content) {\n        font-weight: 400;\n      }\n\n      [part=\"row\"]:only-child [part~=\"header-cell\"] {\n        min-height: var(--lumo-size-xl);\n      }\n\n      /* Header borders */\n\n      /* Hide first header row top border */\n      :host(:not([theme~=\"no-row-borders\"])) [part=\"row\"]:first-child [part~=\"header-cell\"] {\n        border-top: 0;\n      }\n\n      [part=\"row\"]:last-child [part~=\"header-cell\"] {\n        border-bottom: var(--_lumo-grid-border-width) solid transparent;\n      }\n\n      :host(:not([theme~=\"no-row-borders\"])) [part=\"row\"]:last-child [part~=\"header-cell\"] {\n        border-bottom-color: var(--_lumo-grid-secondary-border-color);\n      }\n\n      /* Overflow uses a stronger border color */\n      :host([overflow~=\"top\"]) [part=\"row\"]:last-child [part~=\"header-cell\"] {\n        border-bottom-color: var(--_lumo-grid-border-color);\n      }\n\n      /* Footer borders */\n\n      [part=\"row\"]:first-child [part~=\"footer-cell\"] {\n        border-top: var(--_lumo-grid-border-width) solid transparent;\n      }\n\n      :host(:not([theme~=\"no-row-borders\"])) [part=\"row\"]:first-child [part~=\"footer-cell\"] {\n        border-top-color: var(--_lumo-grid-secondary-border-color);\n      }\n\n      /* Overflow uses a stronger border color */\n      :host([overflow~=\"bottom\"]) [part=\"row\"]:first-child [part~=\"footer-cell\"] {\n        border-top-color: var(--_lumo-grid-border-color);\n      }\n\n      /* Column reordering */\n\n      :host([reordering]) [part~=\"cell\"] {\n        background: linear-gradient(var(--lumo-shade-20pct), var(--lumo-shade-20pct)) var(--lumo-base-color);\n      }\n\n      :host([reordering]) [part~=\"cell\"][reorder-status=\"allowed\"] {\n        background: var(--lumo-base-color);\n      }\n\n      :host([reordering]) [part~=\"cell\"][reorder-status=\"dragging\"] {\n        background: linear-gradient(var(--lumo-contrast-5pct), var(--lumo-contrast-5pct)) var(--lumo-base-color);\n      }\n\n      [part~=\"reorder-ghost\"] {\n        opacity: 0.85;\n        box-shadow: var(--lumo-box-shadow-s);\n        /* TODO Use the same styles as for the cell element (reorder-ghost copies styles from the cell element) */\n        padding: var(--lumo-space-s) var(--lumo-space-m) !important;\n      }\n\n      /* Column resizing */\n\n      [part=\"resize-handle\"] {\n        width: 3px;\n        background-color: var(--lumo-primary-color-50pct);\n        opacity: 0;\n        transition: opacity 0.2s;\n      }\n\n      :host(:not([reordering])) *:not([column-resizing]) [part~=\"cell\"]:hover [part=\"resize-handle\"],\n      [part=\"resize-handle\"]:active {\n        opacity: 1;\n        transition-delay: 0.15s;\n      }\n\n      /* Column borders */\n\n      :host([theme~=\"column-borders\"]) [part~=\"cell\"]:not([last-column]):not([part~=\"details-cell\"]) {\n        border-right: var(--_lumo-grid-border-width) solid var(--_lumo-grid-secondary-border-color);\n      }\n\n      /* Frozen columns */\n\n      [last-frozen] {\n        border-right: var(--_lumo-grid-border-width) solid transparent;\n        overflow: hidden;\n      }\n\n      :host([overflow~=\"left\"]) [part~=\"cell\"][last-frozen]:not([part~=\"details-cell\"]) {\n        border-right-color: var(--_lumo-grid-border-color);\n      }\n\n      /* Row stripes */\n\n      :host([theme~=\"row-stripes\"]) [part~=\"row\"]:not([odd]) [part~=\"body-cell\"],\n      :host([theme~=\"row-stripes\"]) [part~=\"row\"]:not([odd]) [part~=\"details-cell\"] {\n        background-image: linear-gradient(var(--lumo-contrast-5pct), var(--lumo-contrast-5pct));\n        background-repeat: repeat-x;\n      }\n\n      /* Selected row */\n\n      /* Raise the selected rows above unselected rows (so that box-shadow can cover unselected rows) */\n      :host(:not([reordering])) [part~=\"row\"][selected] {\n        z-index: 1;\n      }\n\n      :host(:not([reordering])) [part~=\"row\"][selected] [part~=\"body-cell\"]:not([part~=\"details-cell\"]) {\n        background-image: linear-gradient(var(--_lumo-grid-selected-row-color), var(--_lumo-grid-selected-row-color));\n        background-repeat: repeat;\n      }\n\n      /* Cover the border of an unselected row */\n      :host(:not([theme~=\"no-row-borders\"])) [part~=\"row\"][selected] [part~=\"cell\"]:not([part~=\"details-cell\"]) {\n        box-shadow: 0 var(--_lumo-grid-border-width) 0 0 var(--_lumo-grid-selected-row-color);\n      }\n\n      /* Compact */\n\n      :host([theme~=\"compact\"]) [part=\"row\"]:only-child [part~=\"header-cell\"] {\n        min-height: var(--lumo-size-m);\n      }\n\n      :host([theme~=\"compact\"]) [part~=\"cell\"] {\n        min-height: var(--lumo-size-s);\n      }\n\n      :host([theme~=\"compact\"]) [part=\"row\"][first] [part~=\"cell\"]:not([part~=\"details-cell\"]) {\n        min-height: calc(var(--lumo-size-s) - var(--_lumo-grid-border-width));\n      }\n\n      :host([theme~=\"compact\"]) [part~=\"cell\"] ::slotted(vaadin-grid-cell-content) {\n        padding: var(--lumo-space-xs) var(--lumo-space-s);\n      }\n\n      /* Wrap cell contents */\n\n      :host([theme~=\"wrap-cell-content\"]) [part~=\"cell\"] ::slotted(vaadin-grid-cell-content) {\n        white-space: normal;\n      }\n    </style>\n  </template>\n</dom-module><dom-module theme-for=\"vaadin-checkbox\" id=\"vaadin-grid-select-all-checkbox-lumo\">\n  <template>\n    <style>\n      :host(.vaadin-grid-select-all-checkbox) {\n        font-size: var(--lumo-font-size-m);\n      }\n   </style>\n  </template>\n</dom-module>`;\ndocument.head.appendChild($_documentContainer.content);","/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\n/**\n\nThis is a fork of <iron-list> for <vaadin-grid>'s internal purposes only!\nTo update:\n1. Get the most recent code from https://github.com/PolymerElements/iron-list/\n2. Remove the  <dom-module id=\"iron-list\"> to avoid collisions with actual <iron-list>\n3. Change \"Polymer({\" to \"window.PolymerIronList = Polymer.Class({\" to expose the class\n3.1. Add @namespace\n4. Optional: Remove all properties and functions not needed by <vaadin-grid>\n5. Profit!\n\n*/\n\n/*\n  FIXME(polymer-modulizer): the above comments were extracted\n  from HTML and may be out of place here. Review them and\n  then delete this comment!\n*/\nimport \"@polymer/polymer/polymer-legacy.js\";\nimport { IronResizableBehavior } from \"@polymer/iron-resizable-behavior/iron-resizable-behavior.js\";\nimport { IronScrollTargetBehavior } from \"@polymer/iron-scroll-target-behavior/iron-scroll-target-behavior.js\";\nimport { animationFrame, idlePeriod, microTask } from \"@polymer/polymer/lib/utils/async.js\";\nimport { Class } from \"@polymer/polymer/lib/legacy/class.js\";\nimport { flush, enqueueDebouncer } from \"@polymer/polymer/lib/utils/flush.js\";\nimport { flush as flush$0 } from \"@polymer/polymer/lib/legacy/polymer.dom.js\";\nimport { Debouncer } from \"@polymer/polymer/lib/utils/debounce.js\";\nvar IOS = navigator.userAgent.match(/iP(?:hone|ad;(?: U;)? CPU) OS (\\d+)/);\nvar IOS_TOUCH_SCROLLING = IOS && IOS[1] >= 8;\nvar DEFAULT_PHYSICAL_COUNT = 3;\nvar ANIMATION_FRAME = animationFrame;\nvar IDLE_TIME = idlePeriod;\nvar MICRO_TASK = microTask;\nexport const PolymerIronList = Class({\n  behaviors: [IronResizableBehavior, IronScrollTargetBehavior],\n\n  /**\n   * The ratio of hidden tiles that should remain in the scroll direction.\n   * Recommended value ~0.5, so it will distribute tiles evenly in both directions.\n   */\n  _ratio: 0.5,\n\n  /**\n   * The padding-top value for the list.\n   */\n  _scrollerPaddingTop: 0,\n\n  /**\n   * This value is the same as `scrollTop`.\n   */\n  _scrollPosition: 0,\n\n  /**\n   * The sum of the heights of all the tiles in the DOM.\n   */\n  _physicalSize: 0,\n\n  /**\n   * The average `offsetHeight` of the tiles observed till now.\n   */\n  _physicalAverage: 0,\n\n  /**\n   * The number of tiles which `offsetHeight` > 0 observed until now.\n   */\n  _physicalAverageCount: 0,\n\n  /**\n   * The Y position of the item rendered in the `_physicalStart`\n   * tile relative to the scrolling list.\n   */\n  _physicalTop: 0,\n\n  /**\n   * The number of items in the list.\n   */\n  _virtualCount: 0,\n\n  /**\n   * The estimated scroll height based on `_physicalAverage`\n   */\n  _estScrollHeight: 0,\n\n  /**\n   * The scroll height of the dom node\n   */\n  _scrollHeight: 0,\n\n  /**\n   * The height of the list. This is referred as the viewport in the context of list.\n   */\n  _viewportHeight: 0,\n\n  /**\n   * The width of the list. This is referred as the viewport in the context of list.\n   */\n  _viewportWidth: 0,\n\n  /**\n   * An array of DOM nodes that are currently in the tree\n   * @type {?Array<!TemplatizerNode>}\n   */\n  _physicalItems: null,\n\n  /**\n   * An array of heights for each item in `_physicalItems`\n   * @type {?Array<number>}\n   */\n  _physicalSizes: null,\n\n  /**\n   * A cached value for the first visible index.\n   * See `firstVisibleIndex`\n   * @type {?number}\n   */\n  _firstVisibleIndexVal: null,\n\n  /**\n   * A Polymer collection for the items.\n   * @type {?Polymer.Collection}\n   */\n  _collection: null,\n\n  /**\n   * A cached value for the last visible index.\n   * See `lastVisibleIndex`\n   * @type {?number}\n   */\n  _lastVisibleIndexVal: null,\n\n  /**\n   * The max number of pages to render. One page is equivalent to the height of the list.\n   */\n  _maxPages: 2,\n\n  /**\n   * The virtual index of the focused item.\n   */\n  _focusedVirtualIndex: -1,\n\n  /**\n   * The maximum items per row\n   */\n  _itemsPerRow: 1,\n\n  /**\n   * The height of the row in grid layout.\n   */\n  _rowHeight: 0,\n\n  /**\n   * The cost of stamping a template in ms.\n   */\n  _templateCost: 0,\n\n  /**\n   * The bottom of the physical content.\n   */\n  get _physicalBottom() {\n    return this._physicalTop + this._physicalSize;\n  },\n\n  /**\n   * The bottom of the scroll.\n   */\n  get _scrollBottom() {\n    return this._scrollPosition + this._viewportHeight;\n  },\n\n  /**\n   * The n-th item rendered in the last physical item.\n   */\n  get _virtualEnd() {\n    return this._virtualStart + this._physicalCount - 1;\n  },\n\n  /**\n   * The height of the physical content that isn't on the screen.\n   */\n  get _hiddenContentSize() {\n    var size = this.grid ? this._physicalRows * this._rowHeight : this._physicalSize;\n    return size - this._viewportHeight;\n  },\n\n  /**\n   * The maximum scroll top value.\n   */\n  get _maxScrollTop() {\n    return this._estScrollHeight - this._viewportHeight + this._scrollOffset;\n  },\n\n  /**\n   * The largest n-th value for an item such that it can be rendered in `_physicalStart`.\n   */\n  get _maxVirtualStart() {\n    var virtualCount = this._convertIndexToCompleteRow(this._virtualCount);\n\n    return Math.max(0, virtualCount - this._physicalCount);\n  },\n\n  set _virtualStart(val) {\n    val = this._clamp(val, 0, this._maxVirtualStart);\n\n    if (this.grid) {\n      val = val - val % this._itemsPerRow;\n    }\n\n    this._virtualStartVal = val;\n  },\n\n  get _virtualStart() {\n    return this._virtualStartVal || 0;\n  },\n\n  /**\n   * The k-th tile that is at the top of the scrolling list.\n   */\n  set _physicalStart(val) {\n    val = val % this._physicalCount;\n\n    if (val < 0) {\n      val = this._physicalCount + val;\n    }\n\n    if (this.grid) {\n      val = val - val % this._itemsPerRow;\n    }\n\n    this._physicalStartVal = val;\n  },\n\n  get _physicalStart() {\n    return this._physicalStartVal || 0;\n  },\n\n  /**\n   * The k-th tile that is at the bottom of the scrolling list.\n   */\n  get _physicalEnd() {\n    return (this._physicalStart + this._physicalCount - 1) % this._physicalCount;\n  },\n\n  set _physicalCount(val) {\n    this._physicalCountVal = val;\n  },\n\n  get _physicalCount() {\n    return this._physicalCountVal || 0;\n  },\n\n  /**\n   * An optimal physical size such that we will have enough physical items\n   * to fill up the viewport and recycle when the user scrolls.\n   *\n   * This default value assumes that we will at least have the equivalent\n   * to a viewport of physical items above and below the user's viewport.\n   */\n  get _optPhysicalSize() {\n    return this._viewportHeight === 0 ? Infinity : this._viewportHeight * this._maxPages;\n  },\n\n  /**\n   * True if the current list is visible.\n   */\n  get _isVisible() {\n    return Boolean(this.offsetWidth || this.offsetHeight);\n  },\n\n  /**\n   * Gets the index of the first visible item in the viewport.\n   *\n   * @type {number}\n   */\n  get firstVisibleIndex() {\n    var idx = this._firstVisibleIndexVal;\n\n    if (idx == null) {\n      var physicalOffset = this._physicalTop + this._scrollOffset;\n      idx = this._iterateItems(function (pidx, vidx) {\n        physicalOffset += this._getPhysicalSizeIncrement(pidx);\n\n        if (physicalOffset > this._scrollPosition) {\n          return this.grid ? vidx - vidx % this._itemsPerRow : vidx;\n        } // Handle a partially rendered final row in grid mode\n\n\n        if (this.grid && this._virtualCount - 1 === vidx) {\n          return vidx - vidx % this._itemsPerRow;\n        }\n      }) || 0;\n      this._firstVisibleIndexVal = idx;\n    }\n\n    return idx;\n  },\n\n  /**\n   * Gets the index of the last visible item in the viewport.\n   *\n   * @type {number}\n   */\n  get lastVisibleIndex() {\n    var idx = this._lastVisibleIndexVal;\n\n    if (idx == null) {\n      if (this.grid) {\n        idx = Math.min(this._virtualCount, this.firstVisibleIndex + this._estRowsInView * this._itemsPerRow - 1);\n      } else {\n        var physicalOffset = this._physicalTop + this._scrollOffset;\n\n        this._iterateItems(function (pidx, vidx) {\n          if (physicalOffset < this._scrollBottom) {\n            idx = vidx;\n          }\n\n          physicalOffset += this._getPhysicalSizeIncrement(pidx);\n        });\n      }\n\n      this._lastVisibleIndexVal = idx;\n    }\n\n    return idx;\n  },\n\n  get _scrollOffset() {\n    return this._scrollerPaddingTop;\n  },\n\n  attached: function () {\n    this._debounce('_render', this._render, ANIMATION_FRAME); // `iron-resize` is fired when the list is attached if the event is added\n    // before attached causing unnecessary work.\n\n\n    this.listen(this, 'iron-resize', '_resizeHandler');\n  },\n  detached: function () {\n    this.unlisten(this, 'iron-resize', '_resizeHandler');\n  },\n\n  /**\n   * Invoke this method if you dynamically update the viewport's\n   * size or CSS padding.\n   *\n   * @method updateViewportBoundaries\n   */\n  updateViewportBoundaries: function () {\n    var styles = window.getComputedStyle(this);\n    this._scrollerPaddingTop = this.scrollTarget === this ? 0 : parseInt(styles['padding-top'], 10);\n    this._isRTL = Boolean(styles.direction === 'rtl');\n    this._viewportWidth = this.$.items.offsetWidth;\n    this._viewportHeight = this._scrollTargetHeight;\n    this.grid && this._updateGridMetrics();\n  },\n\n  /**\n   * Recycles the physical items when needed.\n   */\n  _scrollHandler: function () {\n    var scrollTop = Math.max(0, Math.min(this._maxScrollTop, this._scrollTop));\n    var delta = scrollTop - this._scrollPosition;\n    var isScrollingDown = delta >= 0; // Track the current scroll position.\n\n    this._scrollPosition = scrollTop; // Clear indexes for first and last visible indexes.\n\n    this._firstVisibleIndexVal = null;\n    this._lastVisibleIndexVal = null; // Random access.\n\n    if (Math.abs(delta) > this._physicalSize && this._physicalSize > 0) {\n      delta = delta - this._scrollOffset;\n\n      var idxAdjustment = Math.round(delta / this._physicalAverage) * this._itemsPerRow;\n\n      this._virtualStart = this._virtualStart + idxAdjustment;\n      this._physicalStart = this._physicalStart + idxAdjustment; // Estimate new physical offset.\n\n      this._physicalTop = Math.floor(this._virtualStart / this._itemsPerRow) * this._physicalAverage;\n\n      this._update();\n    } else if (this._physicalCount > 0) {\n      var reusables = this._getReusables(isScrollingDown);\n\n      if (isScrollingDown) {\n        this._physicalTop = reusables.physicalTop;\n        this._virtualStart = this._virtualStart + reusables.indexes.length;\n        this._physicalStart = this._physicalStart + reusables.indexes.length;\n      } else {\n        this._virtualStart = this._virtualStart - reusables.indexes.length;\n        this._physicalStart = this._physicalStart - reusables.indexes.length;\n      }\n\n      this._update(reusables.indexes, isScrollingDown ? null : reusables.indexes);\n\n      this._debounce('_increasePoolIfNeeded', this._increasePoolIfNeeded.bind(this, 0), MICRO_TASK);\n    }\n  },\n\n  /**\n   * Returns an object that contains the indexes of the physical items\n   * that might be reused and the physicalTop.\n   *\n   * @param {boolean} fromTop If the potential reusable items are above the scrolling region.\n   */\n  _getReusables: function (fromTop) {\n    var ith, offsetContent, physicalItemHeight;\n    var idxs = [];\n    var protectedOffsetContent = this._hiddenContentSize * this._ratio;\n    var virtualStart = this._virtualStart;\n    var virtualEnd = this._virtualEnd;\n    var physicalCount = this._physicalCount;\n    var top = this._physicalTop + this._scrollOffset;\n    var bottom = this._physicalBottom + this._scrollOffset;\n    var scrollTop = this._scrollTop;\n    var scrollBottom = this._scrollBottom;\n\n    if (fromTop) {\n      ith = this._physicalStart;\n      offsetContent = scrollTop - top;\n    } else {\n      ith = this._physicalEnd;\n      offsetContent = bottom - scrollBottom;\n    } // eslint-disable-next-line no-constant-condition\n\n\n    while (true) {\n      physicalItemHeight = this._getPhysicalSizeIncrement(ith);\n      offsetContent = offsetContent - physicalItemHeight;\n\n      if (idxs.length >= physicalCount || offsetContent <= protectedOffsetContent) {\n        break;\n      }\n\n      if (fromTop) {\n        // Check that index is within the valid range.\n        if (virtualEnd + idxs.length + 1 >= this._virtualCount) {\n          break;\n        } // Check that the index is not visible.\n\n\n        if (top + physicalItemHeight >= scrollTop - this._scrollOffset) {\n          break;\n        }\n\n        idxs.push(ith);\n        top = top + physicalItemHeight;\n        ith = (ith + 1) % physicalCount;\n      } else {\n        // Check that index is within the valid range.\n        if (virtualStart - idxs.length <= 0) {\n          break;\n        } // Check that the index is not visible.\n\n\n        if (top + this._physicalSize - physicalItemHeight <= scrollBottom) {\n          break;\n        }\n\n        idxs.push(ith);\n        top = top - physicalItemHeight;\n        ith = ith === 0 ? physicalCount - 1 : ith - 1;\n      }\n    }\n\n    return {\n      indexes: idxs,\n      physicalTop: top - this._scrollOffset\n    };\n  },\n\n  /**\n   * Update the list of items, starting from the `_virtualStart` item.\n   * @param {!Array<number>=} itemSet\n   * @param {!Array<number>=} movingUp\n   */\n  _update: function (itemSet, movingUp) {\n    if (itemSet && itemSet.length === 0 || this._physicalCount === 0) {\n      return;\n    }\n\n    this._manageFocus();\n\n    this._assignModels(itemSet);\n\n    this._updateMetrics(itemSet); // Adjust offset after measuring.\n\n\n    if (movingUp) {\n      while (movingUp.length) {\n        var idx = movingUp.pop();\n        this._physicalTop -= this._getPhysicalSizeIncrement(idx);\n      }\n    }\n\n    this._positionItems();\n\n    this._updateScrollerSize();\n  },\n  _isClientFull: function () {\n    return this._scrollBottom != 0 && this._physicalBottom - 1 >= this._scrollBottom && this._physicalTop <= this._scrollPosition;\n  },\n\n  /**\n   * Increases the pool size.\n   */\n  _increasePoolIfNeeded: function (count) {\n    var nextPhysicalCount = this._clamp(this._physicalCount + count, DEFAULT_PHYSICAL_COUNT, this._virtualCount - this._virtualStart);\n\n    nextPhysicalCount = this._convertIndexToCompleteRow(nextPhysicalCount);\n    var delta = nextPhysicalCount - this._physicalCount;\n    var nextIncrease = Math.round(this._physicalCount * 0.5);\n\n    if (delta < 0) {\n      return;\n    }\n\n    if (delta > 0) {\n      var ts = window.performance.now(); // Concat arrays in place.\n\n      [].push.apply(this._physicalItems, this._createPool(delta)); // Push 0s into physicalSizes. Can't use Array.fill because IE11 doesn't support it.\n\n      for (var i = 0; i < delta; i++) {\n        this._physicalSizes.push(0);\n      }\n\n      this._physicalCount = this._physicalCount + delta; // Update the physical start if it needs to preserve the model of the focused item.\n      // In this situation, the focused item is currently rendered and its model would\n      // have changed after increasing the pool if the physical start remained unchanged.\n\n      if (this._physicalStart > this._physicalEnd && this._isIndexRendered(this._focusedVirtualIndex) && this._getPhysicalIndex(this._focusedVirtualIndex) < this._physicalEnd) {\n        this._physicalStart = this._physicalStart + delta;\n      }\n\n      this._update();\n\n      this._templateCost = (window.performance.now() - ts) / delta;\n      nextIncrease = Math.round(this._physicalCount * 0.5);\n    } // The upper bounds is not fixed when dealing with a grid that doesn't\n    // fill it's last row with the exact number of items per row.\n\n\n    if (this._virtualEnd >= this._virtualCount - 1 || nextIncrease === 0) {// Do nothing.\n    } else if (!this._isClientFull()) {\n      this._debounce('_increasePoolIfNeeded', this._increasePoolIfNeeded.bind(this, nextIncrease), MICRO_TASK);\n    } else if (this._physicalSize < this._optPhysicalSize) {\n      // Yield and increase the pool during idle time until the physical size is optimal.\n      this._debounce('_increasePoolIfNeeded', this._increasePoolIfNeeded.bind(this, this._clamp(Math.round(50 / this._templateCost), 1, nextIncrease)), IDLE_TIME);\n    }\n  },\n\n  /**\n   * Renders the a new list.\n   */\n  _render: function () {\n    if (!this.isAttached || !this._isVisible) {\n      return;\n    }\n\n    if (this._physicalCount !== 0) {\n      var reusables = this._getReusables(true);\n\n      this._physicalTop = reusables.physicalTop;\n      this._virtualStart = this._virtualStart + reusables.indexes.length;\n      this._physicalStart = this._physicalStart + reusables.indexes.length;\n\n      this._update(reusables.indexes);\n\n      this._update();\n\n      this._increasePoolIfNeeded(0);\n    } else if (this._virtualCount > 0) {\n      // Initial render\n      this.updateViewportBoundaries();\n\n      this._increasePoolIfNeeded(DEFAULT_PHYSICAL_COUNT);\n    }\n  },\n\n  /**\n   * Called when the items have changed. That is, reassignments\n   * to `items`, splices or updates to a single item.\n   */\n  _itemsChanged: function (change) {\n    if (change.path === 'items') {\n      this._virtualStart = 0;\n      this._physicalTop = 0;\n      this._virtualCount = this.items ? this.items.length : 0;\n      this._collection = this.items && undefined ? undefined.get(this.items) : null;\n      this._physicalIndexForKey = {};\n      this._firstVisibleIndexVal = null;\n      this._lastVisibleIndexVal = null;\n      this._physicalCount = this._physicalCount || 0;\n      this._physicalItems = this._physicalItems || [];\n      this._physicalSizes = this._physicalSizes || [];\n      this._physicalStart = 0;\n\n      if (this._scrollTop > this._scrollOffset) {\n        this._resetScrollPosition(0);\n      }\n\n      this._removeFocusedItem();\n\n      this._debounce('_render', this._render, ANIMATION_FRAME);\n    }\n  },\n\n  /**\n   * Executes a provided function per every physical index in `itemSet`\n   * `itemSet` default value is equivalent to the entire set of physical indexes.\n   *\n   * @param {!function(number, number)} fn\n   * @param {!Array<number>=} itemSet\n   */\n  _iterateItems: function (fn, itemSet) {\n    var pidx, vidx, rtn, i;\n\n    if (arguments.length === 2 && itemSet) {\n      for (i = 0; i < itemSet.length; i++) {\n        pidx = itemSet[i];\n        vidx = this._computeVidx(pidx);\n\n        if ((rtn = fn.call(this, pidx, vidx)) != null) {\n          return rtn;\n        }\n      }\n    } else {\n      pidx = this._physicalStart;\n      vidx = this._virtualStart;\n\n      for (; pidx < this._physicalCount; pidx++, vidx++) {\n        if ((rtn = fn.call(this, pidx, vidx)) != null) {\n          return rtn;\n        }\n      }\n\n      for (pidx = 0; pidx < this._physicalStart; pidx++, vidx++) {\n        if ((rtn = fn.call(this, pidx, vidx)) != null) {\n          return rtn;\n        }\n      }\n    }\n  },\n\n  /**\n   * Returns the virtual index for a given physical index\n   *\n   * @param {number} pidx Physical index\n   * @return {number}\n   */\n  _computeVidx: function (pidx) {\n    if (pidx >= this._physicalStart) {\n      return this._virtualStart + (pidx - this._physicalStart);\n    }\n\n    return this._virtualStart + (this._physicalCount - this._physicalStart) + pidx;\n  },\n\n  /**\n   * Updates the height for a given set of items.\n   *\n   * @param {!Array<number>=} itemSet\n   */\n  _updateMetrics: function (itemSet) {\n    // Make sure we distributed all the physical items\n    // so we can measure them.\n    flush ? flush() : flush$0();\n    var newPhysicalSize = 0;\n    var oldPhysicalSize = 0;\n    var prevAvgCount = this._physicalAverageCount;\n    var prevPhysicalAvg = this._physicalAverage;\n\n    this._iterateItems(function (pidx, vidx) {\n      oldPhysicalSize += this._physicalSizes[pidx];\n      this._physicalSizes[pidx] = this._physicalItems[pidx].offsetHeight;\n      newPhysicalSize += this._physicalSizes[pidx];\n      this._physicalAverageCount += this._physicalSizes[pidx] ? 1 : 0;\n    }, itemSet);\n\n    if (this.grid) {\n      this._updateGridMetrics();\n\n      this._physicalSize = Math.ceil(this._physicalCount / this._itemsPerRow) * this._rowHeight;\n    } else {\n      oldPhysicalSize = this._itemsPerRow === 1 ? oldPhysicalSize : Math.ceil(this._physicalCount / this._itemsPerRow) * this._rowHeight;\n      this._physicalSize = this._physicalSize + newPhysicalSize - oldPhysicalSize;\n      this._itemsPerRow = 1;\n    } // Update the average if it measured something.\n\n\n    if (this._physicalAverageCount !== prevAvgCount) {\n      this._physicalAverage = Math.round((prevPhysicalAvg * prevAvgCount + newPhysicalSize) / this._physicalAverageCount);\n    }\n  },\n\n  /**\n   * Updates the position of the physical items.\n   */\n  _positionItems: function () {\n    this._adjustScrollPosition();\n\n    var y = this._physicalTop;\n\n    this._iterateItems(function (pidx, vidx) {\n      this.translate3d(0, y + 'px', 0, this._physicalItems[pidx]);\n      y += this._physicalSizes[pidx];\n    });\n  },\n  _getPhysicalSizeIncrement: function (pidx) {\n    if (!this.grid) {\n      return this._physicalSizes[pidx];\n    }\n\n    if (this._computeVidx(pidx) % this._itemsPerRow !== this._itemsPerRow - 1) {\n      return 0;\n    }\n\n    return this._rowHeight;\n  },\n\n  /**\n   * Adjusts the scroll position when it was overestimated.\n   */\n  _adjustScrollPosition: function () {\n    var deltaHeight = this._virtualStart === 0 ? this._physicalTop : Math.min(this._scrollPosition + this._physicalTop, 0); // Note: the delta can be positive or negative.\n\n    if (deltaHeight !== 0) {\n      this._physicalTop = this._physicalTop - deltaHeight;\n      var scrollTop = this._scrollTop; // juking scroll position during interial scrolling on iOS is no bueno\n\n      if (!IOS_TOUCH_SCROLLING && scrollTop > 0) {\n        this._resetScrollPosition(scrollTop - deltaHeight);\n      }\n    }\n  },\n\n  /**\n   * Sets the position of the scroll.\n   */\n  _resetScrollPosition: function (pos) {\n    if (this.scrollTarget && pos >= 0) {\n      this._scrollTop = pos;\n      this._scrollPosition = this._scrollTop;\n    }\n  },\n\n  /**\n   * Sets the scroll height, that's the height of the content,\n   *\n   * @param {boolean=} forceUpdate If true, updates the height no matter what.\n   */\n  _updateScrollerSize: function (forceUpdate) {\n    if (this.grid) {\n      this._estScrollHeight = this._virtualRowCount * this._rowHeight;\n    } else {\n      this._estScrollHeight = this._physicalBottom + Math.max(this._virtualCount - this._physicalCount - this._virtualStart, 0) * this._physicalAverage;\n    }\n\n    forceUpdate = forceUpdate || this._scrollHeight === 0;\n    forceUpdate = forceUpdate || this._scrollPosition >= this._estScrollHeight - this._physicalSize;\n    forceUpdate = forceUpdate || this.grid && this.$.items.style.height < this._estScrollHeight; // Amortize height adjustment, so it won't trigger large repaints too often.\n\n    if (forceUpdate || Math.abs(this._estScrollHeight - this._scrollHeight) >= this._viewportHeight) {\n      this.$.items.style.height = this._estScrollHeight + 'px';\n      this._scrollHeight = this._estScrollHeight;\n    }\n  },\n\n  /**\n   * Scroll to a specific index in the virtual list regardless\n   * of the physical items in the DOM tree.\n   *\n   * @method scrollToIndex\n   * @param {number} idx The index of the item\n   */\n  scrollToIndex: function (idx) {\n    if (typeof idx !== 'number' || idx < 0 || idx > this.items.length - 1) {\n      return;\n    }\n\n    flush ? flush() : flush$0(); // Items should have been rendered prior scrolling to an index.\n\n    if (this._physicalCount === 0) {\n      return;\n    }\n\n    idx = this._clamp(idx, 0, this._virtualCount - 1); // Update the virtual start only when needed.\n\n    if (!this._isIndexRendered(idx) || idx >= this._maxVirtualStart) {\n      this._virtualStart = this.grid ? idx - this._itemsPerRow * 2 : idx - 1;\n    }\n\n    this._manageFocus();\n\n    this._assignModels();\n\n    this._updateMetrics(); // Estimate new physical offset.\n\n\n    this._physicalTop = Math.floor(this._virtualStart / this._itemsPerRow) * this._physicalAverage;\n    var currentTopItem = this._physicalStart;\n    var currentVirtualItem = this._virtualStart;\n    var targetOffsetTop = 0;\n    var hiddenContentSize = this._hiddenContentSize; // scroll to the item as much as we can.\n\n    while (currentVirtualItem < idx && targetOffsetTop <= hiddenContentSize) {\n      targetOffsetTop = targetOffsetTop + this._getPhysicalSizeIncrement(currentTopItem);\n      currentTopItem = (currentTopItem + 1) % this._physicalCount;\n      currentVirtualItem++;\n    }\n\n    this._updateScrollerSize(true);\n\n    this._positionItems();\n\n    this._resetScrollPosition(this._physicalTop + this._scrollOffset + targetOffsetTop);\n\n    this._increasePoolIfNeeded(0); // clear cached visible index.\n\n\n    this._firstVisibleIndexVal = null;\n    this._lastVisibleIndexVal = null;\n  },\n\n  /**\n   * Reset the physical average and the average count.\n   */\n  _resetAverage: function () {\n    this._physicalAverage = 0;\n    this._physicalAverageCount = 0;\n  },\n\n  /**\n   * A handler for the `iron-resize` event triggered by `IronResizableBehavior`\n   * when the element is resized.\n   */\n  _resizeHandler: function () {\n    this._debounce('_render', function () {\n      // clear cached visible index.\n      this._firstVisibleIndexVal = null;\n      this._lastVisibleIndexVal = null; // Skip the resize event on touch devices when the address bar slides up.\n\n      this.updateViewportBoundaries();\n\n      if (this._isVisible) {\n        // Reinstall the scroll event listener.\n        this.toggleScrollListener(true);\n\n        this._resetAverage();\n\n        this._render();\n      } else {\n        // Uninstall the scroll event listener.\n        this.toggleScrollListener(false);\n      }\n    }, ANIMATION_FRAME);\n  },\n\n  /**\n   * Converts a random index to the index of the item that completes it's row.\n   * Allows for better order and fill computation when grid == true.\n   */\n  _convertIndexToCompleteRow: function (idx) {\n    // when grid == false _itemPerRow can be unset.\n    this._itemsPerRow = this._itemsPerRow || 1;\n    return this.grid ? Math.ceil(idx / this._itemsPerRow) * this._itemsPerRow : idx;\n  },\n  _isIndexRendered: function (idx) {\n    return idx >= this._virtualStart && idx <= this._virtualEnd;\n  },\n  _getPhysicalIndex: function (vidx) {\n    return (this._physicalStart + (vidx - this._virtualStart)) % this._physicalCount;\n  },\n  _clamp: function (v, min, max) {\n    return Math.min(max, Math.max(min, v));\n  },\n  _debounce: function (name, cb, asyncModule) {\n    this._debouncers = this._debouncers || {};\n    this._debouncers[name] = Debouncer.debounce(this._debouncers[name], asyncModule, cb.bind(this));\n    enqueueDebouncer(this._debouncers[name]);\n  }\n});","/**\n@license\nCopyright (c) 2017 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\nimport { afterNextRender } from \"/polymer/lib/utils/render-status.js\";\nimport { animationFrame } from \"/polymer/lib/utils/async.js\";\nimport { flush } from \"/polymer/lib/utils/flush.js\";\nimport { PolymerIronList } from './iron-list.js';\nimport { Debouncer } from \"/polymer/lib/utils/debounce.js\";\n/**\n * This Element is used internally by vaadin-grid.\n *\n * @private\n */\n\nclass GridScrollerElement extends PolymerIronList {\n  static get is() {\n    return 'vaadin-grid-scroller';\n  }\n\n  static get properties() {\n    return {\n      size: {\n        type: Number,\n        notify: true\n      },\n      _vidxOffset: {\n        value: 0\n      }\n    };\n  }\n\n  static get observers() {\n    return ['_effectiveSizeChanged(_effectiveSize)'];\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n\n    this._scrollHandler();\n  }\n  /**\n  * @protected\n  */\n\n\n  _updateScrollerItem(item, index) {}\n  /**\n  * @protected\n  */\n\n\n  _afterScroll() {}\n  /**\n  * @protected\n  */\n\n\n  _getRowTarget() {}\n  /**\n  * @protected\n  */\n\n\n  _createScrollerRows() {}\n  /**\n  * @protected\n  */\n\n\n  _canPopulate() {}\n  /**\n  * @private\n  */\n\n\n  scrollToIndex(index) {\n    this._warnPrivateAPIAccess('scrollToIndex');\n\n    if (index > 0) {\n      this._pendingScrollToIndex = null;\n    }\n\n    if (!parseInt(this.$.items.style.borderTopWidth) && index > 0) {\n      // Schedule another scroll to be invoked once init is complete\n      this._pendingScrollToIndex = index;\n    }\n\n    this._scrollingToIndex = true;\n    index = Math.min(Math.max(index, 0), this._effectiveSize - 1);\n    this.$.table.scrollTop = index / this._effectiveSize * (this.$.table.scrollHeight - this.$.table.offsetHeight);\n\n    this._scrollHandler();\n\n    if (this._accessIronListAPI(() => this._maxScrollTop) && this._virtualCount < this._effectiveSize) {\n      this._adjustVirtualIndexOffset(1000000);\n    }\n\n    this._accessIronListAPI(() => super.scrollToIndex(index - this._vidxOffset));\n\n    this._scrollHandler(); // Ensure scroll position\n\n\n    const row = Array.from(this.$.items.children).filter(child => child.index === index)[0];\n\n    if (row) {\n      const headerOffset = row.getBoundingClientRect().top - this.$.header.getBoundingClientRect().bottom;\n\n      if (Math.abs(headerOffset) > 1) {\n        this.$.table.scrollTop += headerOffset;\n\n        this._scrollHandler();\n      }\n    }\n\n    this._scrollingToIndex = false;\n  }\n\n  _effectiveSizeChanged(size) {\n    let fvi; // first visible (adjusted) index\n\n    let fviOffset = 0;\n\n    this._iterateItems((pidx, vidx) => {\n      if (vidx === this._firstVisibleIndex) {\n        const row = this._physicalItems[pidx];\n        fvi = row.index;\n        fviOffset = row.getBoundingClientRect().top;\n      }\n    });\n\n    if (this.items && size < this.items.length) {\n      // Size was reduced, scroll to 0 first\n      this._scrollTop = 0;\n    }\n\n    if (!Array.isArray(this.items)) {\n      // Edge/IE seems to have the lowest maximum\n      const maxVirtualItems = this._edge || this._ie ? 30000 : 100000;\n      this.items = {\n        length: Math.min(size, maxVirtualItems)\n      };\n    }\n\n    this._accessIronListAPI(() => super._itemsChanged({\n      path: 'items'\n    }));\n\n    this._virtualCount = Math.min(this.items.length, size) || 0;\n\n    if (this._scrollTop === 0) {\n      this._accessIronListAPI(() => this._scrollToIndex(Math.min(size - 1, fvi)));\n\n      this._iterateItems((pidx, vidx) => {\n        const row = this._physicalItems[pidx];\n\n        if (row.index === fvi) {\n          this.$.table.scrollTop += Math.round(row.getBoundingClientRect().top - fviOffset);\n        } // Restore keyboard focus to the right cell\n\n\n        if (row.index === this._focusedItemIndex && this._itemsFocusable && this.$.items.contains(this.shadowRoot.activeElement)) {\n          const cellIndex = Array.from(this._itemsFocusable.parentElement.children).indexOf(this._itemsFocusable);\n          row.children[cellIndex].focus();\n        }\n      });\n    }\n\n    this._assignModels();\n\n    requestAnimationFrame(() => this._update());\n  }\n\n  _positionItems() {\n    this._adjustScrollPosition();\n\n    let rePosition;\n\n    if (isNaN(this._physicalTop)) {\n      rePosition = true;\n      this._physicalTop = 0;\n    }\n\n    let y = this._physicalTop;\n\n    this._iterateItems((pidx, vidx) => {\n      this._physicalItems[pidx].style.transform = `translateY(${y}px)`;\n      y += this._physicalSizes[pidx];\n    });\n\n    if (rePosition) {\n      this._scrollToIndex(0);\n    }\n  }\n\n  _increasePoolIfNeeded(count) {\n    if (count === 0 && this._scrollingToIndex || !this._canPopulate() || !this._effectiveSize) {\n      return;\n    }\n\n    if (!this._initialPoolCreated) {\n      this._initialPoolCreated = true;\n\n      super._increasePoolIfNeeded(25);\n    } else if (this._optPhysicalSize !== Infinity) {\n      this._debounceIncreasePool = Debouncer.debounce(this._debounceIncreasePool, animationFrame, () => {\n        this._updateMetrics();\n\n        const remainingPhysicalSize = this._optPhysicalSize - this._physicalSize;\n        let estimatedMissingRowCount = Math.ceil(remainingPhysicalSize / this._physicalAverage);\n\n        if (this._physicalCount + estimatedMissingRowCount > this._effectiveSize) {\n          // Do not increase the physical item count above the this._effectiveSize\n          estimatedMissingRowCount = Math.max(0, this._effectiveSize - this._physicalCount);\n        }\n\n        if (this._physicalSize && estimatedMissingRowCount > 0) {\n          super._increasePoolIfNeeded(estimatedMissingRowCount); // Ensure the rows are in order after increasing pool\n\n\n          this.__reorderChildNodes();\n        }\n      });\n    }\n  }\n\n  __reorderChildNodes() {\n    const childNodes = Array.from(this.$.items.childNodes);\n    const rowsInOrder = !!childNodes.reduce((inOrder, current, currentIndex, array) => {\n      if (currentIndex === 0 || array[currentIndex - 1].index === current.index - 1) {\n        return inOrder;\n      }\n    }, true);\n\n    if (!rowsInOrder) {\n      childNodes.sort((row1, row2) => {\n        return row1.index - row2.index;\n      }).forEach(row => this.$.items.appendChild(row));\n    }\n  }\n\n  _createPool(size) {\n    const fragment = document.createDocumentFragment();\n\n    const physicalItems = this._createScrollerRows(size);\n\n    physicalItems.forEach(inst => fragment.appendChild(inst));\n\n    this._getRowTarget().appendChild(fragment); // Weird hack needed to get Safari to actually distribute slots\n\n\n    const content = this.querySelector('[slot]');\n\n    if (content) {\n      const slot = content.getAttribute('slot');\n      content.setAttribute('slot', 'foo-bar');\n      content.setAttribute('slot', slot);\n    }\n\n    this._updateHeaderFooterMetrics();\n\n    afterNextRender(this, () => this.notifyResize());\n    return physicalItems;\n  }\n  /**\n   * Assigns the data models to a given set of items.\n   * @param {!Array<number>=} itemSet\n   */\n\n\n  _assignModels(itemSet) {\n    this._iterateItems((pidx, vidx) => {\n      const el = this._physicalItems[pidx];\n\n      this._toggleAttribute('hidden', vidx >= this._effectiveSize, el);\n\n      this._updateScrollerItem(el, vidx + (this._vidxOffset || 0));\n    }, itemSet);\n  }\n\n  _scrollHandler() {\n    const delta = this.$.table.scrollTop - this._scrollPosition;\n\n    this._accessIronListAPI(super._scrollHandler);\n\n    const oldOffset = this._vidxOffset;\n\n    if (this._accessIronListAPI(() => this._maxScrollTop) && this._virtualCount < this._effectiveSize) {\n      this._adjustVirtualIndexOffset(delta);\n    }\n\n    if (this._vidxOffset !== oldOffset) {\n      this._update();\n    }\n\n    this._afterScroll();\n  }\n\n  _adjustVirtualIndexOffset(delta) {\n    if (Math.abs(delta) > 10000) {\n      if (this._noScale) {\n        this._noScale = false;\n        return;\n      }\n\n      const scale = this.$.table.scrollTop / (this.$.table.scrollHeight - this.$.table.offsetHeight);\n      const offset = scale * this._effectiveSize;\n      this._vidxOffset = Math.round(offset - scale * this._virtualCount);\n    } else {\n      // Make sure user can always swipe/wheel scroll to the start and end\n      const oldOffset = this._vidxOffset || 0;\n      const threshold = 1000;\n      const maxShift = 100; // At start\n\n      if (this._scrollTop === 0) {\n        this._vidxOffset = 0;\n\n        if (oldOffset !== this._vidxOffset) {\n          super.scrollToIndex(0);\n        }\n      } else if (this.firstVisibleIndex < threshold && this._vidxOffset > 0) {\n        this._vidxOffset -= Math.min(this._vidxOffset, maxShift);\n\n        if (oldOffset !== this._vidxOffset) {\n          super.scrollToIndex(this.firstVisibleIndex + (oldOffset - this._vidxOffset));\n        }\n\n        this._noScale = true;\n      } // At end\n\n\n      const maxOffset = this._effectiveSize - this._virtualCount;\n\n      if (this._scrollTop >= this._maxScrollTop && this._maxScrollTop > 0) {\n        this._vidxOffset = maxOffset;\n\n        if (oldOffset !== this._vidxOffset) {\n          super.scrollToIndex(this._virtualCount);\n        }\n      } else if (this.firstVisibleIndex > this._virtualCount - threshold && this._vidxOffset < maxOffset) {\n        this._vidxOffset += Math.min(maxOffset - this._vidxOffset, maxShift);\n\n        if (oldOffset !== this._vidxOffset) {\n          super.scrollToIndex(this.firstVisibleIndex - (this._vidxOffset - oldOffset));\n        }\n\n        this._noScale = true;\n      }\n    }\n  }\n\n  _accessIronListAPI(cb) {\n    this._warnPrivateAPIAccessAsyncEnabled = false;\n    const returnValue = cb.apply(this);\n    this._debouncerWarnPrivateAPIAccess = Debouncer.debounce(this._debouncerWarnPrivateAPIAccess, animationFrame, () => this._warnPrivateAPIAccessAsyncEnabled = true);\n    return returnValue;\n  }\n  /* Allow iron-list to access its APIs from debounced callbacks without warns */\n\n\n  _debounceRender(cb, asyncModule) {\n    super._debounceRender(() => this._accessIronListAPI(cb), asyncModule);\n  }\n  /* Warn when iron-list APIs are being accessed directly */\n\n\n  _warnPrivateAPIAccess(apiName) {\n    if (this._warnPrivateAPIAccessAsyncEnabled) {\n      console.warn(`Accessing private API (${apiName})!`);\n    }\n  }\n\n  _render() {\n    this._accessIronListAPI(super._render);\n  }\n\n  _createFocusBackfillItem() {\n    /* Ignore */\n  }\n\n  _multiSelectionChanged() {\n    /* Ignore */\n  }\n\n  clearSelection() {\n    /* Ignore */\n  }\n\n  _itemsChanged() {\n    /* Ignore */\n  }\n\n  _manageFocus() {\n    /* Ignore */\n  }\n\n  _removeFocusedItem() {\n    /* Ignore */\n  }\n\n  get _firstVisibleIndex() {\n    return this._accessIronListAPI(() => super.firstVisibleIndex);\n  }\n\n  get _lastVisibleIndex() {\n    return this._accessIronListAPI(() => super.lastVisibleIndex);\n  }\n\n  _scrollToIndex(index) {\n    this._accessIronListAPI(() => this.scrollToIndex(index));\n  }\n\n  get firstVisibleIndex() {\n    this._warnPrivateAPIAccess('firstVisibleIndex');\n\n    return super.firstVisibleIndex;\n  }\n\n  set firstVisibleIndex(value) {\n    this._warnPrivateAPIAccess('firstVisibleIndex');\n\n    super.firstVisibleIndex = value;\n  }\n\n  get lastVisibleIndex() {\n    this._warnPrivateAPIAccess('lastVisibleIndex');\n\n    return super.lastVisibleIndex;\n  }\n\n  set lastVisibleIndex(value) {\n    this._warnPrivateAPIAccess('lastVisibleIndex');\n\n    super.lastVisibleIndex = value;\n  }\n\n  updateViewportBoundaries() {\n    this._warnPrivateAPIAccess('updateViewportBoundaries');\n\n    super.updateViewportBoundaries.apply(this, arguments);\n  }\n\n  _resizeHandler() {\n    super._resizeHandler();\n\n    flush();\n  }\n\n}\n\ncustomElements.define(GridScrollerElement.is, GridScrollerElement);\nexport { GridScrollerElement as ScrollerElement };","/**\n@license\nCopyright (c) 2017 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\n\n/**\n * @polymerMixin\n */\nexport const A11yMixin = superClass => class A11yMixin extends superClass {\n  static get observers() {\n    return ['_a11yUpdateGridSize(size, _columnTree, _columnTree.*)'];\n  }\n\n  _a11yGetHeaderRowCount(_columnTree) {\n    return _columnTree.filter(level => level.some(col => col._headerTemplate || col.headerRenderer || col.path || col.header)).length;\n  }\n\n  _a11yGetFooterRowCount(_columnTree) {\n    return _columnTree.filter(level => level.some(col => col._headerTemplate || col.headerRenderer)).length;\n  }\n\n  _a11yUpdateGridSize(size, _columnTree) {\n    if (size === undefined || _columnTree === undefined) {\n      return;\n    }\n\n    const bodyColumns = _columnTree[_columnTree.length - 1];\n    this.$.table.setAttribute('aria-rowcount', size + this._a11yGetHeaderRowCount(_columnTree) + this._a11yGetFooterRowCount(_columnTree));\n    this.$.table.setAttribute('aria-colcount', bodyColumns && bodyColumns.length || 0);\n\n    this._a11yUpdateHeaderRows();\n\n    this._a11yUpdateFooterRows();\n  }\n\n  _a11yUpdateHeaderRows() {\n    Array.from(this.$.header.children).forEach((headerRow, index) => headerRow.setAttribute('aria-rowindex', index + 1));\n  }\n\n  _a11yUpdateFooterRows() {\n    Array.from(this.$.footer.children).forEach((footerRow, index) => footerRow.setAttribute('aria-rowindex', this._a11yGetHeaderRowCount(this._columnTree) + this.size + index + 1));\n  }\n\n  _a11yUpdateRowRowindex(row, index) {\n    row.setAttribute('aria-rowindex', index + this._a11yGetHeaderRowCount(this._columnTree) + 1);\n  }\n\n  _a11yUpdateRowSelected(row, selected) {\n    // Jaws reads selection only for rows, NVDA only for cells\n    row.setAttribute('aria-selected', Boolean(selected));\n    Array.from(row.children).forEach(cell => cell.setAttribute('aria-selected', Boolean(selected)));\n  }\n\n  _a11yUpdateRowLevel(row, level) {\n    row.setAttribute('aria-level', level + 1);\n  }\n\n  _a11yUpdateRowDetailsOpened(row, detailsOpened) {\n    Array.from(row.children).forEach(cell => {\n      if (typeof detailsOpened === 'boolean') {\n        cell.setAttribute('aria-expanded', detailsOpened);\n      } else {\n        if (cell.hasAttribute('aria-expanded')) {\n          cell.removeAttribute('aria-expanded');\n        }\n      }\n    });\n  }\n\n  _a11ySetRowDetailsCell(row, detailsCell) {\n    Array.from(row.children).forEach(cell => {\n      if (cell !== detailsCell) {\n        cell.setAttribute('aria-controls', detailsCell.id);\n      }\n    });\n  }\n\n  _a11yUpdateCellColspan(cell, colspan) {\n    cell.setAttribute('aria-colspan', Number(colspan));\n  }\n\n  _a11yUpdateSorters() {\n    Array.from(this.querySelectorAll('vaadin-grid-sorter')).forEach(sorter => {\n      let cellContent = sorter.parentNode;\n\n      while (cellContent && cellContent.localName !== 'vaadin-grid-cell-content') {\n        cellContent = cellContent.parentNode;\n      }\n\n      if (cellContent && cellContent.assignedSlot) {\n        const cell = cellContent.assignedSlot.parentNode;\n        cell.setAttribute('aria-sort', {\n          'asc': 'ascending',\n          'desc': 'descending'\n        }[String(sorter.direction)] || 'none');\n      }\n    });\n  }\n\n};","/**\n@license\nCopyright (c) 2017 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\n\n/**\n * @polymerMixin\n */\nexport const ActiveItemMixin = superClass => class ActiveItemMixin extends superClass {\n  static get properties() {\n    return {\n      /**\n       * The item user has last interacted with. Turns to `null` after user deactivates\n       * the item by re-interacting with the currently active item.\n       */\n      activeItem: {\n        type: Object,\n        notify: true,\n        value: null\n      }\n    };\n  }\n\n  ready() {\n    super.ready();\n    this.$.scroller.addEventListener('click', this._onClick.bind(this));\n    this.addEventListener('cell-activate', this._activateItem.bind(this));\n  }\n\n  _activateItem(e) {\n    const model = e.detail.model;\n    const clickedItem = model ? model.item : null;\n\n    if (clickedItem) {\n      this.activeItem = !this._itemsEqual(this.activeItem, clickedItem) ? clickedItem : null;\n    }\n  } // we need to listen to click instead of tap because on mobile safari, the\n  // document.activeElement has not been updated (focus has not been shifted)\n  // yet at the point when tap event is being executed.\n\n\n  _onClick(e) {\n    if (e.defaultPrevented) {\n      // Something has handled this click already, e. g., <vaadin-grid-sorter>\n      return;\n    }\n\n    const path = e.composedPath();\n    const cell = path[path.indexOf(this.$.table) - 3];\n\n    if (!cell || cell.getAttribute('part').indexOf('details-cell') > -1) {\n      return;\n    }\n\n    const cellContent = cell._content;\n    const activeElement = this.getRootNode().activeElement;\n\n    const cellContentHasFocus = cellContent.contains(activeElement) && ( // MSIE bug: flex children receive focus. Make type & attributes check.\n    !this._ie || this._isFocusable(activeElement));\n\n    if (!cellContentHasFocus && !this._isFocusable(e.target)) {\n      this.dispatchEvent(new CustomEvent('cell-activate', {\n        detail: {\n          model: this.__getRowModel(cell.parentElement)\n        }\n      }));\n    }\n  }\n\n  _isFocusable(target) {\n    if (!target.parentNode) {\n      return false;\n    }\n\n    const focusables = Array.from(target.parentNode.querySelectorAll('[tabindex], button, input, select, textarea, object, iframe, label, a[href], area[href]')).filter(element => element.getAttribute('part') !== 'cell body-cell');\n    const isFocusableElement = focusables.indexOf(target) !== -1;\n    return !target.disabled && isFocusableElement;\n  }\n\n};","/**\n@license\nCopyright (c) 2017 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\nimport { Base } from \"@polymer/polymer/polymer-legacy.js\";\n/**\n * @polymerMixin\n */\n\nexport const ArrayDataProviderMixin = superClass => class ArrayDataProviderMixin extends superClass {\n  static get properties() {\n    return {\n      /**\n       * An array containing the items which will be stamped to the column template\n       * instances.\n       */\n      items: Array\n    };\n  }\n\n  static get observers() {\n    return ['_itemsChanged(items, items.*, isAttached)'];\n  }\n\n  _itemsChanged(items, splices, isAttached) {\n    if (!isAttached) {\n      return;\n    }\n\n    if (!Array.isArray(items)) {\n      if (items === undefined || items === null) {\n        this.size = 0;\n      }\n\n      if (this.dataProvider === this._arrayDataProvider) {\n        this.dataProvider = undefined;\n      }\n\n      return;\n    }\n\n    this.size = items.length;\n    this.dataProvider = this.dataProvider || this._arrayDataProvider;\n    this.clearCache();\n\n    this._ensureFirstPageLoaded();\n  }\n\n  _arrayDataProvider(opts, cb) {\n    let items = (Array.isArray(this.items) ? this.items : []).slice(0);\n\n    if (this._filters && this._checkPaths(this._filters, 'filtering', items)) {\n      items = this._filter(items);\n    }\n\n    this.size = items.length;\n\n    if (opts.sortOrders.length && this._checkPaths(this._sorters, 'sorting', items)) {\n      items = items.sort(this._multiSort.bind(this));\n    }\n\n    const start = opts.page * opts.pageSize;\n    const end = start + opts.pageSize;\n    const slice = items.slice(start, end);\n    cb(slice, items.length);\n  }\n  /**\n   * Check array of filters/sorters for paths validity, console.warn invalid items\n   * @param {Array}  arrayToCheck The array of filters/sorters to check\n   * @param {string} action       The name of action to include in warning (filtering, sorting)\n   * @param {Array}  items\n   */\n\n\n  _checkPaths(arrayToCheck, action, items) {\n    if (!items.length) {\n      return false;\n    }\n\n    let result = true;\n\n    for (var i in arrayToCheck) {\n      const path = arrayToCheck[i].path; // skip simple paths\n\n      if (!path || path.indexOf('.') === -1) {\n        continue;\n      }\n\n      const parentProperty = path.replace(/\\.[^\\.]*$/, ''); // a.b.c -> a.b\n\n      if (Base.get(parentProperty, items[0]) === undefined) {\n        console.warn(`Path \"${path}\" used for ${action} does not exist in all of the items, ${action} is disabled.`);\n        result = false;\n      }\n    }\n\n    return result;\n  }\n\n  _multiSort(a, b) {\n    return this._sorters.map(sort => {\n      if (sort.direction === 'asc') {\n        return this._compare(Base.get(sort.path, a), Base.get(sort.path, b));\n      } else if (sort.direction === 'desc') {\n        return this._compare(Base.get(sort.path, b), Base.get(sort.path, a));\n      }\n\n      return 0;\n    }).reduce((p, n) => {\n      return p ? p : n;\n    }, 0);\n  }\n\n  _normalizeEmptyValue(value) {\n    if ([undefined, null].indexOf(value) >= 0) {\n      return '';\n    } else if (isNaN(value)) {\n      return value.toString();\n    } else {\n      return value;\n    }\n  }\n\n  _compare(a, b) {\n    a = this._normalizeEmptyValue(a);\n    b = this._normalizeEmptyValue(b);\n\n    if (a < b) {\n      return -1;\n    }\n\n    if (a > b) {\n      return 1;\n    }\n\n    return 0;\n  }\n\n  _filter(items) {\n    return items.filter((item, index) => {\n      return this._filters.filter(filter => {\n        const value = this._normalizeEmptyValue(Base.get(filter.path, item));\n\n        const filterValueLowercase = this._normalizeEmptyValue(filter.value).toString().toLowerCase();\n\n        return value.toString().toLowerCase().indexOf(filterValueLowercase) === -1;\n      }).length === 0;\n    });\n  }\n\n};","/**\n@license\nCopyright (c) 2017 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\nimport { GestureEventListeners } from \"/polymer/lib/mixins/gesture-event-listeners.js\";\nimport { addListener } from \"/polymer/lib/utils/gestures.js\";\n/**\n * @polymerMixin\n */\n\nexport const ColumnResizingMixin = superClass => class ColumnResizingMixin extends GestureEventListeners(superClass) {\n  ready() {\n    super.ready();\n    const scroller = this.$.scroller;\n    addListener(scroller, 'track', this._onHeaderTrack.bind(this)); // Disallow scrolling while resizing\n\n    scroller.addEventListener('touchmove', e => scroller.hasAttribute('column-resizing') && e.preventDefault()); // Disable contextmenu on any resize separator.\n\n    scroller.addEventListener('contextmenu', e => e.target.getAttribute('part') == 'resize-handle' && e.preventDefault()); // Disable native cell focus when resizing\n\n    scroller.addEventListener('mousedown', e => e.target.getAttribute('part') === 'resize-handle' && e.preventDefault());\n  }\n\n  _onHeaderTrack(e) {\n    const handle = e.target;\n\n    if (handle.getAttribute('part') === 'resize-handle') {\n      const cell = handle.parentElement;\n      let column = cell._column;\n\n      this._toggleAttribute('column-resizing', true, this.$.scroller); // Get the target column to resize\n\n\n      while (column.localName === 'vaadin-grid-column-group') {\n        column = Array.prototype.slice.call(column._childColumns, 0).sort(function (a, b) {\n          return a._order - b._order;\n        }).filter(function (column) {\n          return !column.hidden;\n        }).pop();\n      }\n\n      const columnRowCells = Array.from(this.$.header.querySelectorAll('[part~=\"row\"]:last-child [part~=\"cell\"]'));\n      var targetCell = columnRowCells.filter(cell => cell._column === column)[0]; // Resize the target column\n\n      if (targetCell.offsetWidth) {\n        var style = window.getComputedStyle(targetCell);\n        var minWidth = 10 + parseInt(style.paddingLeft) + parseInt(style.paddingRight) + parseInt(style.borderLeftWidth) + parseInt(style.borderRightWidth) + parseInt(style.marginLeft) + parseInt(style.marginRight);\n        column.width = Math.max(minWidth, targetCell.offsetWidth + e.detail.x - targetCell.getBoundingClientRect().right) + 'px';\n        column.flexGrow = 0;\n      } // Fix width and flex-grow for all preceding columns\n\n\n      columnRowCells.sort(function (a, b) {\n        return a._column._order - b._column._order;\n      }).forEach(function (cell, index, array) {\n        if (index < array.indexOf(targetCell)) {\n          cell._column.width = cell.offsetWidth + 'px';\n          cell._column.flexGrow = 0;\n        }\n      });\n\n      if (e.detail.state === 'end') {\n        this._toggleAttribute('column-resizing', false, this.$.scroller);\n      } // Notify resize\n\n\n      this._resizeHandler();\n    }\n  }\n\n};","/**\n@license\nCopyright (c) 2017 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\nimport { Debouncer } from \"/polymer/lib/utils/debounce.js\";\nimport { timeOut } from \"/polymer/lib/utils/async.js\";\nexport const ItemCache = class ItemCache {\n  constructor(grid, parentCache, parentItem) {\n    this.grid = grid;\n    this.parentCache = parentCache;\n    this.parentItem = parentItem;\n    this.itemCaches = {};\n    this.items = {};\n    this.effectiveSize = 0;\n    this.size = 0;\n    this.pendingRequests = {};\n  }\n\n  isLoading() {\n    return Object.keys(this.pendingRequests).length || Object.keys(this.itemCaches).filter(index => {\n      return this.itemCaches[index].isLoading();\n    })[0];\n  }\n\n  getItemForIndex(index) {\n    const {\n      cache,\n      scaledIndex\n    } = this.getCacheAndIndex(index);\n    return cache.items[scaledIndex];\n  }\n\n  updateSize() {\n    this.effectiveSize = !this.parentItem || this.grid._isExpanded(this.parentItem) ? this.size + Object.keys(this.itemCaches).reduce((prev, curr) => {\n      const subCache = this.itemCaches[curr];\n      subCache.updateSize();\n      return prev + subCache.effectiveSize;\n    }, 0) : 0;\n  }\n\n  ensureSubCacheForScaledIndex(scaledIndex) {\n    if (!this.itemCaches[scaledIndex]) {\n      const subCache = new ItemCache(this.grid, this, this.items[scaledIndex]);\n      this.itemCaches[scaledIndex] = subCache;\n\n      this.grid._loadPage(0, subCache);\n    }\n  }\n\n  getCacheAndIndex(index) {\n    let thisLevelIndex = index;\n    const keys = Object.keys(this.itemCaches);\n\n    for (var i = 0; i < keys.length; i++) {\n      const expandedIndex = Number(keys[i]);\n      const subCache = this.itemCaches[expandedIndex];\n\n      if (thisLevelIndex <= expandedIndex) {\n        return {\n          cache: this,\n          scaledIndex: thisLevelIndex\n        };\n      } else if (thisLevelIndex <= expandedIndex + subCache.effectiveSize) {\n        return subCache.getCacheAndIndex(thisLevelIndex - expandedIndex - 1);\n      }\n\n      thisLevelIndex -= subCache.effectiveSize;\n    }\n\n    return {\n      cache: this,\n      scaledIndex: thisLevelIndex\n    };\n  }\n\n};\n/**\n * @polymerMixin\n */\n\nexport const DataProviderMixin = superClass => class DataProviderMixin extends superClass {\n  static get properties() {\n    return {\n      /**\n       * Number of items fetched at a time from the dataprovider.\n       */\n      pageSize: {\n        type: Number,\n        value: 50,\n        observer: '_pageSizeChanged'\n      },\n\n      /**\n       * Function that provides items lazily. Receives arguments `params`, `callback`\n       *\n       * `params.page` Requested page index\n       *\n       * `params.pageSize` Current page size\n       *\n       * `params.filters` Currently applied filters\n       *\n       * `params.sortOrders` Currently applied sorting orders\n       *\n       * `params.parentItem` When tree is used, and sublevel items\n       * are requested, reference to parent item of the requested sublevel.\n       * Otherwise `undefined`.\n       *\n       * `callback(items, size)` Callback function with arguments:\n       *   - `items` Current page of items\n       *   - `size` Total number of items. When tree sublevel items\n       *     are requested, total number of items in the requested sublevel.\n       *     Optional when tree is not used, required for tree.\n       */\n      dataProvider: {\n        type: Object,\n        notify: true,\n        observer: '_dataProviderChanged'\n      },\n\n      /**\n       * `true` while data is being requested from the data provider.\n       */\n      loading: {\n        type: Boolean,\n        notify: true,\n        readOnly: true,\n        reflectToAttribute: true\n      },\n      _cache: {\n        type: Object,\n        value: function () {\n          const cache = new ItemCache(this);\n          return cache;\n        }\n      },\n\n      /**\n       * Path to an item sub-property that identifies the item.\n       */\n      itemIdPath: {\n        type: String,\n        value: null\n      },\n\n      /**\n       * An array that contains the expanded items.\n       */\n      expandedItems: {\n        type: Object,\n        notify: true,\n        value: () => []\n      }\n    };\n  }\n\n  static get observers() {\n    return ['_sizeChanged(size)', '_expandedItemsChanged(expandedItems.*)'];\n  }\n\n  _sizeChanged(size) {\n    const delta = size - this._cache.size;\n    this._cache.size += delta;\n    this._cache.effectiveSize += delta;\n    this._effectiveSize = this._cache.effectiveSize;\n  }\n\n  _updateRowItem(item, el) {\n    el.children.forEach(cell => {\n      cell._instance && (cell._instance.item = item);\n    });\n  }\n\n  _getItem(index, el) {\n    if (index >= this._effectiveSize) {\n      return;\n    }\n\n    el.index = index;\n\n    const {\n      cache,\n      scaledIndex\n    } = this._cache.getCacheAndIndex(index);\n\n    const item = cache.items[scaledIndex];\n\n    if (item) {\n      this._toggleAttribute('loading', false, el);\n\n      this._updateItem(el, item);\n\n      if (this._isExpanded(item)) {\n        cache.ensureSubCacheForScaledIndex(scaledIndex);\n      }\n    } else {\n      this._toggleAttribute('loading', true, el);\n\n      this._loadPage(this._getPageForIndex(scaledIndex), cache);\n    }\n  }\n\n  _pagesForPhysicalItems() {\n    // TODO: potentially heavy operation to run first visible index,\n    // reconsider if performance issues occur on data binding / scrolling.\n    // TODO: _vidxOffset shouldn't be read from here.\n    const firstVisiblePage = this._getPageForIndex(this._firstVisibleIndex + this._vidxOffset);\n\n    return [firstVisiblePage].concat(this._physicalItems.filter(row => row.index).items(row => this._getPageForIndex(row.index))).reduce((prev, curr) => {\n      if (prev.indexOf(curr) === -1) {\n        prev.push(curr);\n      }\n\n      return prev;\n    }, []);\n  }\n\n  _expandedInstanceChangedCallback(inst, value) {\n    if (inst.item === undefined) {\n      return;\n    }\n\n    if (value) {\n      this.expandItem(inst.item);\n    } else {\n      this.collapseItem(inst.item);\n    }\n  }\n  /**\n   * Returns a value that identifies the item. Uses `itemIdPath` if available.\n   * Can be customized by overriding.\n   */\n\n\n  getItemId(item) {\n    return this.itemIdPath ? this.get(this.itemIdPath, item) : item;\n  }\n\n  _isExpanded(item) {\n    return this.expandedItems && this._getItemIndexInArray(item, this.expandedItems) > -1;\n  }\n\n  _expandedItemsChanged(e) {\n    this._cache.updateSize();\n\n    this._effectiveSize = this._cache.effectiveSize;\n\n    this._assignModels();\n  }\n  /**\n   * Expands the given item tree.\n   */\n\n\n  expandItem(item) {\n    if (!this._isExpanded(item)) {\n      this.push('expandedItems', item);\n    }\n  }\n  /**\n   * Collapses the given item tree.\n   */\n\n\n  collapseItem(item) {\n    if (this._isExpanded(item)) {\n      this.splice('expandedItems', this._getItemIndexInArray(item, this.expandedItems), 1);\n    }\n  }\n\n  _getIndexLevel(index) {\n    let {\n      cache\n    } = this._cache.getCacheAndIndex(index);\n\n    let level = 0;\n\n    while (cache.parentCache) {\n      cache = cache.parentCache;\n      level++;\n    }\n\n    return level;\n  }\n\n  _canPopulate() {\n    return this._hasData && this._columnTree;\n  }\n\n  _loadPage(page, cache) {\n    // make sure same page isn't requested multiple times.\n    if (!cache.pendingRequests[page] && this.dataProvider) {\n      this._setLoading(true);\n\n      cache.pendingRequests[page] = true;\n      const params = {\n        page,\n        pageSize: this.pageSize,\n        sortOrders: this._mapSorters(),\n        filters: this._mapFilters(),\n        parentItem: cache.parentItem\n      };\n      this.dataProvider(params, (items, size) => {\n        if (size !== undefined) {\n          cache.size = size;\n        } else {\n          if (params.parentItem) {\n            cache.size = items.length;\n          }\n        } // Populate the cache with new items\n\n\n        items.forEach((item, itemsIndex) => {\n          const itemIndex = page * this.pageSize + itemsIndex;\n          cache.items[itemIndex] = item;\n\n          if (this._isExpanded(item)) {\n            // Force synchronous data request for expanded item sub-cache\n            cache.ensureSubCacheForScaledIndex(itemIndex);\n          }\n        });\n        this._hasData = true;\n        delete cache.pendingRequests[page];\n\n        if (!this._cache.isLoading()) {\n          // All active requests have finished, update the effective size and rows\n          this._setLoading(false);\n\n          this._cache.updateSize();\n\n          this._effectiveSize = this._cache.effectiveSize;\n          Array.from(this.$.items.children).filter(row => !row.hidden).forEach(row => {\n            const cachedItem = this._cache.getItemForIndex(row.index);\n\n            if (cachedItem) {\n              this._toggleAttribute('loading', false, row);\n\n              this._updateItem(row, cachedItem);\n            }\n          });\n\n          this._increasePoolIfNeeded(0);\n        }\n\n        this.__setInitialColumnWidths();\n      });\n    }\n  }\n\n  _getPageForIndex(index) {\n    return Math.floor(index / this.pageSize);\n  }\n  /**\n   * Clears the cached pages and reloads data from dataprovider when needed.\n   */\n\n\n  clearCache() {\n    this._cache = new ItemCache(this);\n    Array.from(this.$.items.children).forEach(row => {\n      Array.from(row.children).forEach(cell => {\n        // Force data system to pick up subproperty changes\n        cell._instance && cell._instance._setPendingProperty('item', {}, false);\n      });\n    });\n    this._cache.size = this.size || 0;\n\n    this._cache.updateSize();\n\n    this._hasData = false;\n\n    this._assignModels();\n\n    if (!this._effectiveSize) {\n      this._loadPage(0, this._cache);\n    }\n  }\n\n  _flushItemsDebouncer() {\n    if (this._debouncerLoad) {\n      this._debouncerLoad.flush();\n    }\n  }\n\n  _pageSizeChanged(pageSize, oldPageSize) {\n    if (oldPageSize !== undefined && pageSize !== oldPageSize) {\n      this.clearCache();\n    }\n  }\n\n  _checkSize() {\n    if (this.size === undefined && this._effectiveSize === 0) {\n      console.warn('The <vaadin-grid> needs the total number of items' + ' in order to display rows. Set the total number of items' + ' to the `size` property, or provide the total number of items' + ' in the second argument of the `dataProvider`’s `callback` call.');\n    }\n  }\n\n  _dataProviderChanged(dataProvider, oldDataProvider) {\n    if (oldDataProvider !== undefined) {\n      this.clearCache();\n    }\n\n    if (dataProvider && this.items && this.items.length) {\n      // Fixes possibly invalid cached lastVisibleIndex value in <iron-list>\n      this._scrollToIndex(this._firstVisibleIndex);\n    }\n\n    this._ensureFirstPageLoaded();\n\n    this._debouncerCheckSize = Debouncer.debounce(this._debouncerCheckSize, timeOut.after(2000), this._checkSize.bind(this));\n\n    this._scrollHandler();\n  }\n\n  _ensureFirstPageLoaded() {\n    if (!this._hasData) {\n      // load data before adding rows to make sure they have content when\n      // rendered for the first time.\n      this._loadPage(0, this._cache, () => {\n        const hadData = this._hasData;\n        this._hasData = true;\n\n        if (!hadData) {\n          this.notifyResize();\n        }\n      });\n    }\n  }\n\n  _itemsEqual(item1, item2) {\n    return this.getItemId(item1) === this.getItemId(item2);\n  }\n\n  _getItemIndexInArray(item, array) {\n    let result = -1;\n    array.forEach((i, idx) => {\n      if (this._itemsEqual(i, item)) {\n        result = idx;\n      }\n    });\n    return result;\n  }\n\n};","/**\n@license\nCopyright (c) 2017 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\nimport { FlattenedNodesObserver } from \"/polymer/lib/utils/flattened-nodes-observer.js\";\nimport { Debouncer } from \"/polymer/lib/utils/debounce.js\";\nimport { timeOut } from \"/polymer/lib/utils/async.js\";\nimport { PolymerElement } from \"/polymer/polymer-element.js\";\n/**\n * @polymerMixin\n */\n\nexport const DynamicColumnsMixin = superClass => class DynamicColumnsMixin extends superClass {\n  ready() {\n    super.ready();\n\n    this._addNodeObserver();\n  }\n\n  _hasColumnGroups(columns) {\n    for (let i = 0; i < columns.length; i++) {\n      if (columns[i].localName === 'vaadin-grid-column-group') {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  _getChildColumns(el) {\n    return FlattenedNodesObserver.getFlattenedNodes(el).filter(this._isColumnElement);\n  }\n\n  _flattenColumnGroups(columns) {\n    return columns.map(col => {\n      if (col.localName === 'vaadin-grid-column-group') {\n        return this._getChildColumns(col);\n      } else {\n        return [col];\n      }\n    }).reduce((prev, curr) => {\n      return prev.concat(curr);\n    }, []);\n  }\n\n  _getColumnTree() {\n    var rootColumns = FlattenedNodesObserver.getFlattenedNodes(this).filter(this._isColumnElement);\n    var _columnTree = [];\n\n    for (var c = rootColumns;;) {\n      _columnTree.push(c);\n\n      if (!this._hasColumnGroups(c)) {\n        break;\n      }\n\n      c = this._flattenColumnGroups(c);\n    }\n\n    return _columnTree;\n  }\n\n  _updateColumnTree() {\n    var columnTree = this._getColumnTree();\n\n    if (!this._arrayEquals(columnTree, this._columnTree)) {\n      this._columnTree = columnTree;\n    }\n  }\n\n  _addNodeObserver() {\n    this._observer = new FlattenedNodesObserver(this, info => {\n      const rowDetailsTemplate = info.addedNodes.filter(n => n.localName === 'template' && n.classList.contains('row-details'))[0];\n\n      if (rowDetailsTemplate && this._rowDetailsTemplate !== rowDetailsTemplate) {\n        this._rowDetailsTemplate = rowDetailsTemplate;\n      }\n\n      if (info.addedNodes.filter(this._isColumnElement).length > 0 || info.removedNodes.filter(this._isColumnElement).length > 0) {\n        this._updateColumnTree();\n      }\n\n      this._debouncerCheckImports = Debouncer.debounce(this._debouncerCheckImports, timeOut.after(2000), this._checkImports.bind(this));\n\n      this._ensureFirstPageLoaded();\n    });\n  }\n\n  _arrayEquals(arr1, arr2) {\n    if (!arr1 || !arr2 || arr1.length != arr2.length) {\n      return false;\n    }\n\n    for (var i = 0, l = arr1.length; i < l; i++) {\n      // Check if we have nested arrays\n      if (arr1[i] instanceof Array && arr2[i] instanceof Array) {\n        // recurse into the nested arrays\n        if (!this._arrayEquals(arr1[i], arr2[i])) {\n          return false;\n        }\n      } else if (arr1[i] != arr2[i]) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  _checkImports() {\n    ['vaadin-grid-column-group', 'vaadin-grid-filter', 'vaadin-grid-filter-column', 'vaadin-grid-tree-toggle', 'vaadin-grid-selection-column', 'vaadin-grid-sort-column', 'vaadin-grid-sorter'].forEach(elementName => {\n      var element = this.querySelector(elementName);\n\n      if (element && !(element instanceof PolymerElement)) {\n        console.warn(`Make sure you have imported the required module for <${elementName}> element.`);\n      }\n    });\n  }\n\n  _updateFirstAndLastColumn() {\n    Array.from(this.shadowRoot.querySelectorAll('tr')).forEach(row => this._updateFirstAndLastColumnForRow(row));\n  }\n\n  _updateFirstAndLastColumnForRow(row) {\n    Array.from(row.querySelectorAll('[part~=\"cell\"]:not([part~=\"details-cell\"])')).sort((a, b) => {\n      return a._column._order - b._column._order;\n    }).forEach((cell, cellIndex, children) => {\n      this._toggleAttribute('first-column', cellIndex === 0, cell);\n\n      this._toggleAttribute('last-column', cellIndex === children.length - 1, cell);\n    });\n  }\n\n  _isColumnElement(node) {\n    return node.nodeType === Node.ELEMENT_NODE && /\\bcolumn\\b/.test(node.localName);\n  }\n\n};","/**\n@license\nCopyright (c) 2018 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\n\n/**\n * @polymerMixin\n */\nexport const EventContextMixin = superClass => class EventContextMixin extends superClass {\n  /**\n   * Returns an object with context information about the event target:\n   * - `item`: the data object corresponding to the targeted row (not specified when targeting header or footer)\n   * - `column`: the column element corresponding to the targeted cell (not specified when targeting row details)\n   * - `section`: whether the event targeted the body, header, footer or details of the grid\n   *\n   * These additional properties are included when `item` is specified:\n   * - `index`: the index of the item\n   * - `selected`: the selected state of the item\n   * - `detailsOpened`: whether the row details are open for the item\n   * - `expanded`: the expanded state of the tree toggle\n   * - `level`: the tree hierarchy level\n   *\n   * The returned object is populated only when a grid cell, header, footer or row details is found in `event.composedPath()`.\n   * This means mostly mouse and keyboard events. If such a grid part is not found in the path, an empty object is returned.\n   * This may be the case eg. if the event is fired on the `<vaadin-grid>` element and not any deeper in the DOM, or if\n   * the event targets the empty part of the grid body.\n   */\n  getEventContext(event) {\n    const context = {};\n    const path = event.composedPath();\n    const cell = path[path.indexOf(this.$.table) - 3];\n\n    if (!cell) {\n      return context;\n    }\n\n    context.section = ['body', 'header', 'footer', 'details'].filter(section => cell.getAttribute('part').indexOf(section) > -1)[0];\n\n    if (cell._column) {\n      context.column = cell._column;\n    }\n\n    if (context.section === 'body' || context.section === 'details') {\n      Object.assign(context, this.__getRowModel(cell.parentElement));\n    }\n\n    return context;\n  }\n\n};","/**\n@license\nCopyright (c) 2017 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\n\n/**\n * @polymerMixin\n */\nexport const FilterMixin = superClass => class FilterMixin extends superClass {\n  static get properties() {\n    return {\n      _filters: {\n        type: Array,\n        value: function () {\n          return [];\n        }\n      }\n    };\n  }\n\n  ready() {\n    super.ready();\n    this.addEventListener('filter-changed', this._filterChanged.bind(this));\n  }\n\n  _filterChanged(e) {\n    if (this._filters.indexOf(e.target) === -1) {\n      this._filters.push(e.target);\n    }\n\n    e.stopPropagation();\n\n    if (this.dataProvider) {\n      this.clearCache();\n    }\n  }\n\n  _mapFilters() {\n    return this._filters.map(filter => {\n      return {\n        path: filter.path,\n        value: filter.value\n      };\n    });\n  }\n\n};","/**\n@license\nCopyright (c) 2017 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\nimport { PolymerElement } from \"/polymer/polymer-element.js\";\nimport { templatize } from \"/polymer/lib/utils/templatize.js\";\n/**\n * `vaadin-grid-templatizer` is a helper element for the `vaadin-grid` that is preparing and\n * stamping instances of cells and columns templates\n *\n * @memberof Vaadin\n * @private\n */\n\nclass GridTemplatizer extends class extends PolymerElement {} {\n  static get is() {\n    return 'vaadin-grid-templatizer';\n  }\n\n  static get properties() {\n    return {\n      dataHost: Object,\n      template: Object,\n      _templateInstances: {\n        type: Array,\n        value: function () {\n          return [];\n        }\n      },\n      _parentPathValues: {\n        value: function () {\n          return {};\n        }\n      },\n      _grid: Object\n    };\n  }\n\n  static get observers() {\n    return ['_templateInstancesChanged(_templateInstances.*, _parentPathValues.*)'];\n  }\n\n  constructor() {\n    super();\n    this._instanceProps = {\n      detailsOpened: true,\n      index: true,\n      item: true,\n      selected: true,\n      expanded: true,\n      level: true\n    };\n  }\n\n  createInstance() {\n    this._ensureTemplatized();\n\n    const instance = new this._TemplateClass({});\n    this.addInstance(instance);\n    return instance;\n  }\n\n  addInstance(instance) {\n    if (this._templateInstances.indexOf(instance) === -1) {\n      this._templateInstances.push(instance);\n\n      requestAnimationFrame(() => this.notifyPath('_templateInstances.*', this._templateInstances));\n    }\n  }\n\n  removeInstance(instance) {\n    const index = this._templateInstances.indexOf(instance);\n\n    this.splice('_templateInstances', index, 1);\n  }\n\n  _ensureTemplatized() {\n    if (!this._TemplateClass) {\n      this._TemplateClass = templatize(this.template, this, {\n        instanceProps: this._instanceProps,\n        parentModel: true,\n        forwardHostProp: function (prop, value) {\n          this._forwardParentProp(prop, value);\n\n          if (this._templateInstances) {\n            this._templateInstances.forEach(inst => inst.notifyPath(prop, value));\n          }\n        },\n        notifyInstanceProp: function (inst, prop, value) {\n          if (prop === 'index' || prop === 'item') {\n            // We don’t need a change notification for these.\n            return;\n          }\n\n          const originalProp = `__${prop}__`; // Notify for only user-action changes, not for scrolling updates. E. g.,\n          // if `detailsOpened` is different from `__detailsOpened__`, which was set during render.\n\n          if (inst[originalProp] === value) {\n            return;\n          }\n\n          inst[originalProp] = value;\n          const row = Array.from(this._grid.$.items.children).filter(row => this._grid._itemsEqual(row._item, inst.item))[0];\n\n          if (row) {\n            Array.from(row.children).forEach(cell => {\n              if (cell._instance) {\n                cell._instance[originalProp] = value;\n\n                cell._instance.notifyPath(prop, value);\n              }\n            });\n          }\n\n          const itemPrefix = 'item.';\n\n          if (Array.isArray(this._grid.items) && prop.indexOf(itemPrefix) === 0) {\n            const itemsIndex = this._grid.items.indexOf(inst.item);\n\n            const path = prop.slice(itemPrefix.length);\n\n            this._grid.notifyPath(`items.${itemsIndex}.${path}`, value);\n          }\n\n          const gridCallback = `_${prop}InstanceChangedCallback`;\n\n          if (this._grid && this._grid[gridCallback]) {\n            this._grid[gridCallback](inst, value);\n          }\n        }\n      });\n    }\n  }\n\n  _forwardParentProp(prop, value) {\n    this._parentPathValues[prop] = value;\n\n    this._templateInstances.forEach(inst => inst.notifyPath(prop, value));\n  }\n\n  _templateInstancesChanged(t, p) {\n    let index, count;\n\n    if (t.path === '_templateInstances') {\n      // Iterate all instances\n      index = 0;\n      count = this._templateInstances.length;\n    } else if (t.path === '_templateInstances.splices') {\n      // Iterate only new instances\n      index = t.value.index;\n      count = t.value.addedCount;\n    } else {\n      return;\n    }\n\n    Object.keys(this._parentPathValues || {}).forEach(keyName => {\n      for (var i = index; i < index + count; i++) {\n        this._templateInstances[i].set(keyName, this._parentPathValues[keyName]);\n      }\n    });\n  }\n\n}\n\ncustomElements.define(GridTemplatizer.is, GridTemplatizer);\nexport { GridTemplatizer as Templatizer };","/**\n@license\nCopyright (c) 2017 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\nimport { Templatizer } from './vaadin-grid-templatizer.js';\nimport { flush } from \"/polymer/lib/utils/flush.js\";\n/**\n * @polymerMixin\n */\n\nexport const RowDetailsMixin = superClass => class RowDetailsMixin extends superClass {\n  static get properties() {\n    return {\n      /**\n       * An array containing references to items with open row details.\n       */\n      detailsOpenedItems: {\n        type: Array,\n        value: function () {\n          return [];\n        }\n      },\n      _rowDetailsTemplate: Object,\n\n      /**\n       * Custom function for rendering the content of the row details.\n       * Receives three arguments:\n       *\n       * - `root` The row details content DOM element. Append your content to it.\n       * - `grid` The `<vaadin-grid>` element.\n       * - `rowData` The object with the properties related with\n       *   the rendered item, contains:\n       *   - `rowData.index` The index of the item.\n       *   - `rowData.item` The item.\n       */\n      rowDetailsRenderer: Function,\n      _detailsCells: {\n        type: Array\n      }\n    };\n  }\n\n  static get observers() {\n    return ['_detailsOpenedItemsChanged(detailsOpenedItems.*, _rowDetailsTemplate, rowDetailsRenderer)', '_rowDetailsTemplateOrRendererChanged(_rowDetailsTemplate, rowDetailsRenderer)'];\n  }\n\n  _rowDetailsTemplateOrRendererChanged(rowDetailsTemplate, rowDetailsRenderer) {\n    if (rowDetailsTemplate && rowDetailsRenderer) {\n      throw new Error('You should only use either a renderer or a template for row details');\n    }\n\n    if (rowDetailsTemplate || rowDetailsRenderer) {\n      if (rowDetailsTemplate && !rowDetailsTemplate.templatizer) {\n        var templatizer = new Templatizer();\n        templatizer._grid = this;\n        templatizer.dataHost = this.dataHost;\n        templatizer.template = rowDetailsTemplate;\n        rowDetailsTemplate.templatizer = templatizer;\n      }\n\n      if (this._columnTree) {\n        // Only update the rows if the column tree has already been initialized\n        Array.from(this.$.items.children).forEach(row => {\n          if (!row.querySelector('[part~=details-cell]')) {\n            this._updateRow(row, this._columnTree[this._columnTree.length - 1]);\n\n            this._a11yUpdateRowDetailsOpened(row, false);\n          } // Clear any old template instances\n\n\n          delete row.querySelector('[part~=details-cell]')._instance;\n        });\n      }\n\n      if (this.detailsOpenedItems.length) {\n        Array.from(this.$.items.children).forEach(this._toggleDetailsCell, this);\n\n        this._update();\n      }\n    }\n  }\n\n  _detailsOpenedItemsChanged(changeRecord, rowDetailsTemplate, rowDetailsRenderer) {\n    if (changeRecord.path === 'detailsOpenedItems.length' || !changeRecord.value) {\n      // Let’s avoid duplicate work of both “.splices” and “.length” updates.\n      return;\n    }\n\n    Array.from(this.$.items.children).forEach(row => {\n      this._toggleDetailsCell(row, row._item);\n\n      this._a11yUpdateRowDetailsOpened(row, this._isDetailsOpened(row._item));\n\n      this._toggleAttribute('details-opened', this._isDetailsOpened(row._item), row);\n    });\n  }\n\n  _configureDetailsCell(cell) {\n    cell.setAttribute('part', 'cell details-cell'); // Freeze the details cell, so that it does not scroll horizontally\n    // with the normal cells. This way it looks less weird.\n\n    this._toggleAttribute('frozen', true, cell);\n  }\n\n  _toggleDetailsCell(row, item) {\n    const cell = row.querySelector('[part~=\"details-cell\"]');\n\n    if (!cell) {\n      return;\n    }\n\n    const detailsHidden = !this._isDetailsOpened(item);\n    const hiddenChanged = !!cell.hidden !== detailsHidden;\n\n    if (!cell._instance && !cell._renderer || cell.hidden !== detailsHidden) {\n      cell.hidden = detailsHidden;\n\n      if (detailsHidden) {\n        row.style.removeProperty('padding-bottom');\n      } else {\n        if (this.rowDetailsRenderer) {\n          cell._renderer = this.rowDetailsRenderer;\n\n          cell._renderer.call(this, cell._content, this, {\n            index: row.index,\n            item: item\n          });\n        } else if (this._rowDetailsTemplate && !cell._instance) {\n          // Stamp the template\n          cell._instance = this._rowDetailsTemplate.templatizer.createInstance();\n          cell._content.innerHTML = '';\n\n          cell._content.appendChild(cell._instance.root);\n\n          this._updateItem(row, item);\n        }\n\n        flush();\n        row.style.setProperty('padding-bottom', `${cell.offsetHeight}px`);\n        requestAnimationFrame(() => this.notifyResize());\n      }\n    }\n\n    if (hiddenChanged) {\n      this._updateMetrics();\n\n      this._positionItems();\n    }\n  }\n\n  _updateDetailsCellHeights() {\n    Array.from(this.$.items.querySelectorAll('[part~=\"details-cell\"]:not([hidden])')).forEach(cell => {\n      cell.parentElement.style.setProperty('padding-bottom', `${cell.offsetHeight}px`);\n    });\n  }\n\n  _isDetailsOpened(item) {\n    return this.detailsOpenedItems && this._getItemIndexInArray(item, this.detailsOpenedItems) !== -1;\n  }\n  /**\n   * Open the details row of a given item.\n   */\n\n\n  openItemDetails(item) {\n    if (!this._isDetailsOpened(item)) {\n      this.push('detailsOpenedItems', item);\n    }\n  }\n  /**\n   * Close the details row of a given item.\n   */\n\n\n  closeItemDetails(item) {\n    if (this._isDetailsOpened(item)) {\n      this.splice('detailsOpenedItems', this._getItemIndexInArray(item, this.detailsOpenedItems), 1);\n    }\n  }\n\n  _detailsOpenedInstanceChangedCallback(instance, value) {\n    if (super._detailsOpenedInstanceChangedCallback) {\n      super._detailsOpenedInstanceChangedCallback(instance, value);\n    }\n\n    if (value) {\n      this.openItemDetails(instance.item);\n    } else {\n      this.closeItemDetails(instance.item);\n    }\n  }\n\n};","/**\n@license\nCopyright (c) 2017 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\nimport { Debouncer } from \"/polymer/lib/utils/debounce.js\";\nimport { timeOut, animationFrame, microTask } from \"/polymer/lib/utils/async.js\";\n/**\n * @polymerMixin\n */\n\nexport const ScrollMixin = superClass => class ScrollMixin extends superClass {\n  get _timeouts() {\n    return {\n      SCROLL_PERIOD: 1000,\n      WHEEL_SCROLLING: 200,\n      SCROLLING: 100,\n      IGNORE_WHEEL: 500\n    };\n  }\n\n  static get properties() {\n    return {\n      // Cached array of frozen cells\n      _frozenCells: {\n        type: Array,\n        value: function () {\n          return [];\n        }\n      },\n      _scrollbarWidth: {\n        type: Number,\n        value: function () {\n          // Create the measurement node\n          var scrollDiv = document.createElement('div');\n          scrollDiv.style.width = '100px';\n          scrollDiv.style.height = '100px';\n          scrollDiv.style.overflow = 'scroll';\n          scrollDiv.style.position = 'absolute';\n          scrollDiv.style.top = '-9999px';\n          document.body.appendChild(scrollDiv); // Get the scrollbar width\n\n          var scrollbarWidth = scrollDiv.offsetWidth - scrollDiv.clientWidth; // Delete the DIV\n\n          document.body.removeChild(scrollDiv);\n          return scrollbarWidth;\n        }\n      },\n      _rowWithFocusedElement: Element,\n      _deltaYAcc: {\n        type: Number,\n        value: 0\n      }\n    };\n  }\n\n  static get observers() {\n    return ['_scrollHeightUpdated(_estScrollHeight)', '_scrollViewportHeightUpdated(_viewportHeight)'];\n  } // Override (from iron-scroll-target-behavior) to avoid document scroll\n\n\n  set _scrollTop(top) {\n    this.$.table.scrollTop = top;\n  }\n\n  get _scrollTop() {\n    return this.$.table.scrollTop;\n  }\n\n  constructor() {\n    super();\n    this._scrollLineHeight = this._getScrollLineHeight();\n  }\n  /**\n   * @returns {Number|undefined} - The browser's default font-size in pixels\n   */\n\n\n  _getScrollLineHeight() {\n    const el = document.createElement('div');\n    el.style.fontSize = 'initial';\n    el.style.display = 'none';\n    document.body.appendChild(el);\n    const fontSize = window.getComputedStyle(el).fontSize;\n    document.body.removeChild(el);\n    return fontSize ? window.parseInt(fontSize) : undefined;\n  }\n\n  _scrollViewportHeightUpdated(_viewportHeight) {\n    this._scrollPageHeight = _viewportHeight - this.$.header.clientHeight - this.$.footer.clientHeight - this._scrollLineHeight;\n  }\n\n  ready() {\n    super.ready();\n    this.scrollTarget = this.$.table;\n    this.addEventListener('wheel', e => {\n      this._wheelScrolling = true;\n      this._debouncerWheelScrolling = Debouncer.debounce(this._debouncerWheelScrolling, timeOut.after(this._timeouts.WHEEL_SCROLLING), () => this._wheelScrolling = false);\n\n      this._onWheel(e);\n    });\n    this.$.table.addEventListener('scroll', e => {\n      if (this.$.outerscroller.outerScrolling) {\n        e.stopImmediatePropagation();\n      }\n    }, true);\n    this.$.items.addEventListener('focusin', e => {\n      const itemsIndex = e.composedPath().indexOf(this.$.items);\n      this._rowWithFocusedElement = e.composedPath()[itemsIndex - 1];\n    });\n    this.$.items.addEventListener('focusout', () => this._rowWithFocusedElement = undefined);\n  }\n\n  _onWheel(e) {\n    if (e.ctrlKey || this._hasScrolledAncestor(e.target, e.deltaX, e.deltaY)) {\n      return;\n    }\n\n    const table = this.$.table;\n    let deltaY = e.deltaY;\n\n    if (e.deltaMode === WheelEvent.DOM_DELTA_LINE) {\n      // Scrolling by \"lines of text\" instead of pixels\n      deltaY *= this._scrollLineHeight;\n    } else if (e.deltaMode === WheelEvent.DOM_DELTA_PAGE) {\n      // Scrolling by \"pages\" instead of pixels\n      deltaY *= this._scrollPageHeight;\n    }\n\n    if (this._wheelAnimationFrame) {\n      // Skip new wheel events while one is being processed\n      this._deltaYAcc += deltaY;\n      e.preventDefault();\n      return;\n    }\n\n    deltaY += this._deltaYAcc;\n    this._deltaYAcc = 0;\n    this._wheelAnimationFrame = true;\n    this._debouncerWheelAnimationFrame = Debouncer.debounce(this._debouncerWheelAnimationFrame, animationFrame, () => this._wheelAnimationFrame = false);\n    var momentum = Math.abs(e.deltaX) + Math.abs(deltaY);\n\n    if (this._canScroll(table, e.deltaX, deltaY)) {\n      e.preventDefault();\n      table.scrollTop += deltaY;\n      table.scrollLeft += e.deltaX;\n\n      this._scrollHandler();\n\n      this._hasResidualMomentum = true;\n      this._ignoreNewWheel = true;\n      this._debouncerIgnoreNewWheel = Debouncer.debounce(this._debouncerIgnoreNewWheel, timeOut.after(this._timeouts.IGNORE_WHEEL), () => this._ignoreNewWheel = false);\n    } else if (this._hasResidualMomentum && momentum <= this._previousMomentum || this._ignoreNewWheel) {\n      e.preventDefault();\n    } else if (momentum > this._previousMomentum) {\n      this._hasResidualMomentum = false;\n    }\n\n    this._previousMomentum = momentum;\n  }\n  /**\n   * Determines if the element has an ancestor prior to this\n   * cell content that handles the scroll delta\n   */\n\n\n  _hasScrolledAncestor(el, deltaX, deltaY) {\n    if (el.localName === 'vaadin-grid-cell-content') {\n      return false;\n    } else if (this._canScroll(el, deltaX, deltaY) && ['auto', 'scroll'].indexOf(getComputedStyle(el).overflow) !== -1) {\n      return true;\n    } else if (el !== this && el.parentElement) {\n      return this._hasScrolledAncestor(el.parentElement, deltaX, deltaY);\n    }\n  }\n  /**\n   * Determines if the the given scroll deltas can be applied to the element\n   * (fully or partially)\n   */\n\n\n  _canScroll(el, deltaX, deltaY) {\n    return deltaY > 0 && el.scrollTop < el.scrollHeight - el.offsetHeight || deltaY < 0 && el.scrollTop > 0 || deltaX > 0 && el.scrollLeft < el.scrollWidth - el.offsetWidth || deltaX < 0 && el.scrollLeft > 0;\n  }\n\n  _scheduleScrolling() {\n    if (!this._scrollingFrame) {\n      // Defer setting state attributes to avoid Edge hiccups\n      this._scrollingFrame = requestAnimationFrame(() => this._toggleAttribute('scrolling', true, this.$.scroller));\n    }\n\n    this._debounceScrolling = Debouncer.debounce(this._debounceScrolling, timeOut.after(this._timeouts.SCROLLING), () => {\n      cancelAnimationFrame(this._scrollingFrame);\n      delete this._scrollingFrame;\n\n      this._toggleAttribute('scrolling', false, this.$.scroller);\n\n      if (!this.$.outerscroller.outerScrolling) {\n        this._reorderRows();\n      }\n    });\n\n    if (!this._scrollPeriodFrame) {\n      this._scrollPeriodFrame = requestAnimationFrame(() => this._toggleAttribute('scroll-period', true, this.$.scroller));\n    }\n\n    this._debounceScrollPeriod = Debouncer.debounce(this._debounceScrollPeriod, timeOut.after(this._timeouts.SCROLL_PERIOD), () => {\n      cancelAnimationFrame(this._scrollPeriodFrame);\n      delete this._scrollPeriodFrame;\n\n      this._toggleAttribute('scroll-period', false, this.$.scroller);\n    });\n  }\n\n  _afterScroll() {\n    this._translateStationaryElements();\n\n    if (!this.hasAttribute('reordering')) {\n      this._scheduleScrolling();\n    }\n\n    const os = this.$.outerscroller;\n\n    if (!this._ios && (this._wheelScrolling || os.passthrough)) {\n      os.syncOuterScroller();\n    }\n\n    if (this._ios) {\n      // Enable vertical rubberband feedback\n      const overScroll = Math.max(-os.scrollTop, 0) || Math.min(0, os.scrollHeight - os.scrollTop - os.offsetHeight);\n      this.$.items.style.transform = `translateY(${overScroll}px)`;\n    }\n\n    this._updateOverflow();\n  }\n\n  _updateOverflow() {\n    // Set overflow styling attributes\n    let overflow = '';\n    const table = this.$.table;\n\n    if (table.scrollTop < table.scrollHeight - table.clientHeight) {\n      overflow += ' bottom';\n    }\n\n    if (table.scrollTop > 0) {\n      overflow += ' top';\n    }\n\n    if (table.scrollLeft < table.scrollWidth - table.clientWidth) {\n      overflow += ' right';\n    }\n\n    if (table.scrollLeft > 0) {\n      overflow += ' left';\n    }\n\n    this._debounceOverflow = Debouncer.debounce(this._debounceOverflow, animationFrame, () => {\n      const value = overflow.trim();\n\n      if (value.length > 0 && this.getAttribute('overflow') !== value) {\n        this.setAttribute('overflow', value);\n      } else if (value.length == 0 && this.hasAttribute('overflow')) {\n        this.removeAttribute('overflow');\n      }\n    });\n  } // correct order needed for preserving correct tab order between cell contents.\n\n\n  _reorderRows() {\n    const body = this.$.items;\n    const items = body.querySelectorAll('tr');\n\n    if (!items.length) {\n      return;\n    }\n\n    const adjustedVirtualStart = this._virtualStart + this._vidxOffset; // Which row to use as a target?\n\n    const targetRow = this._rowWithFocusedElement || Array.from(items).filter(row => !row.hidden)[0];\n\n    if (!targetRow) {\n      // All rows are hidden, don't reorder\n      return;\n    } // Where the target row should be?\n\n\n    const targetPhysicalIndex = targetRow.index - adjustedVirtualStart; // Reodrer the DOM elements to keep the target row at the target physical index\n\n    const delta = Array.from(items).indexOf(targetRow) - targetPhysicalIndex;\n\n    if (delta > 0) {\n      for (let i = 0; i < delta; i++) {\n        body.appendChild(items[i]);\n      }\n    } else if (delta < 0) {\n      for (let i = items.length + delta; i < items.length; i++) {\n        body.insertBefore(items[i], items[0]);\n      }\n    }\n  }\n\n  _frozenCellsChanged() {\n    this._debouncerCacheElements = Debouncer.debounce(this._debouncerCacheElements, microTask, () => {\n      Array.from(this.root.querySelectorAll('[part~=\"cell\"]')).forEach(function (cell) {\n        cell.style.transform = '';\n      });\n      this._frozenCells = Array.prototype.slice.call(this.$.table.querySelectorAll('[frozen]'));\n\n      this._translateStationaryElements();\n    });\n\n    this._updateLastFrozen();\n  }\n\n  _updateLastFrozen() {\n    if (!this._columnTree) {\n      return;\n    }\n\n    const columnsRow = this._columnTree[this._columnTree.length - 1].slice(0);\n\n    columnsRow.sort((a, b) => {\n      return a._order - b._order;\n    });\n    const lastFrozen = columnsRow.reduce((prev, col, index) => {\n      col._lastFrozen = false;\n      return col.frozen && !col.hidden ? index : prev;\n    }, undefined);\n\n    if (lastFrozen !== undefined) {\n      columnsRow[lastFrozen]._lastFrozen = true;\n    }\n  }\n\n  _translateStationaryElements() {\n    if (this._edge && !this._scrollbarWidth) {\n      // Fixed mode (Tablet Edge)\n      this.$.items.style.transform = this._getTranslate(-this._scrollLeft || 0, -this._scrollTop || 0);\n      this.$.footer.style.transform = this.$.header.style.transform = this._getTranslate(-this._scrollLeft || 0, 0);\n    } else {\n      this.$.footer.style.transform = this.$.header.style.transform = this._getTranslate(0, this._scrollTop);\n    }\n\n    var frozenCellTransform = this._getTranslate(this._scrollLeft, 0);\n\n    for (var i = 0; i < this._frozenCells.length; i++) {\n      this._frozenCells[i].style.transform = frozenCellTransform;\n    }\n  }\n\n  _getTranslate(x, y) {\n    return 'translate(' + x + 'px,' + y + 'px)';\n  }\n\n  _scrollHeightUpdated(_estScrollHeight) {\n    this.$.outersizer.style.top = this.$.fixedsizer.style.top = _estScrollHeight + 'px';\n  }\n\n};","/**\n@license\nCopyright (c) 2017 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\n\n/**\n * @polymerMixin\n */\nexport const SelectionMixin = superClass => class SelectionMixin extends superClass {\n  static get properties() {\n    return {\n      /**\n       * An array that contains the selected items.\n       */\n      selectedItems: {\n        type: Object,\n        notify: true,\n        value: () => []\n      }\n    };\n  }\n\n  static get observers() {\n    return ['_selectedItemsChanged(selectedItems.*)'];\n  }\n\n  _isSelected(item) {\n    return this.selectedItems && this._getItemIndexInArray(item, this.selectedItems) > -1;\n  }\n  /**\n   * Selects the given item.\n   *\n   * @method selectItem\n   * @param {Object} item The item object\n   */\n\n\n  selectItem(item) {\n    if (!this._isSelected(item)) {\n      this.push('selectedItems', item);\n    }\n  }\n  /**\n   * Deselects the given item if it is already selected.\n   *\n   * @method deselect\n   * @param {Object} item The item object\n   */\n\n\n  deselectItem(item) {\n    const index = this._getItemIndexInArray(item, this.selectedItems);\n\n    if (index > -1) {\n      this.splice('selectedItems', index, 1);\n    }\n  }\n  /**\n   * Toggles the selected state of the given item.\n   *\n   * @method toggle\n   * @param {Object} item The item object\n   */\n\n\n  _toggleItem(item) {\n    const index = this._getItemIndexInArray(item, this.selectedItems);\n\n    if (index === -1) {\n      this.selectItem(item);\n    } else {\n      this.deselectItem(item);\n    }\n  }\n\n  _selectedItemsChanged(e) {\n    if (this.$.items.children.length && (e.path === 'selectedItems' || e.path === 'selectedItems.splices')) {\n      Array.from(this.$.items.children).forEach(row => {\n        this._updateItem(row, row._item);\n      });\n    }\n  }\n\n  _selectedInstanceChangedCallback(instance, value) {\n    if (super._selectedInstanceChangedCallback) {\n      super._selectedInstanceChangedCallback(instance, value);\n    }\n\n    if (value) {\n      this.selectItem(instance.item);\n    } else {\n      this.deselectItem(instance.item);\n    }\n  }\n\n};","/**\n@license\nCopyright (c) 2017 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\nimport { microTask } from \"/polymer/lib/utils/async.js\";\nimport { PolymerElement } from \"/polymer/polymer-element.js\";\n/**\n * @polymerMixin\n */\n\nexport const SortMixin = superClass => class SortMixin extends superClass {\n  static get properties() {\n    return {\n      /**\n       * When `true`, all `<vaadin-grid-sorter>` are applied for sorting.\n       */\n      multiSort: {\n        type: Boolean,\n        value: false\n      },\n      _sorters: {\n        type: Array,\n        value: function () {\n          return [];\n        }\n      },\n      _previousSorters: {\n        type: Array,\n        value: function () {\n          return [];\n        }\n      }\n    };\n  }\n\n  ready() {\n    super.ready();\n    this.addEventListener('sorter-changed', this._onSorterChanged); // With Polymer 2 & shady the 'sorter-changed' listener isn't guaranteed to be registered\n    // before child <vaadin-grid-sorter>'s upgrade and fire the events. The following\n    // makes sure that 'sorter-changed' is fired for all <vaadin-grid-sorter> elements\n    // after this (<vaadin-grid>) is ready (and the listeners are active).\n\n    if (window.ShadyDOM) {\n      microTask.run(() => {\n        const sorters = this.querySelectorAll('vaadin-grid-sorter');\n        Array.from(sorters).forEach(sorter => {\n          // Don't try to fire if the sorter hasn't been upgraded yet\n          if (sorter instanceof PolymerElement) {\n            sorter.dispatchEvent(new CustomEvent('sorter-changed', {\n              bubbles: true,\n              composed: true\n            }));\n          }\n        });\n      });\n    }\n  }\n\n  _onSorterChanged(e) {\n    const sorter = e.target;\n\n    this._removeArrayItem(this._sorters, sorter);\n\n    sorter._order = null;\n\n    if (this.multiSort) {\n      if (sorter.direction) {\n        this._sorters.unshift(sorter);\n      }\n\n      this._sorters.forEach((sorter, index) => sorter._order = this._sorters.length > 1 ? index : null, this);\n    } else {\n      if (sorter.direction) {\n        this._sorters.forEach(sorter => {\n          sorter._order = null;\n          sorter.direction = null;\n        });\n\n        this._sorters = [sorter];\n      }\n    }\n\n    e.stopPropagation();\n\n    if (this.dataProvider && // No need to clear cache if sorters didn't change\n    JSON.stringify(this._previousSorters) !== JSON.stringify(this._mapSorters())) {\n      this.clearCache();\n    }\n\n    this._a11yUpdateSorters();\n\n    this._previousSorters = this._mapSorters();\n  }\n\n  _mapSorters() {\n    return this._sorters.map(sorter => {\n      return {\n        path: sorter.path,\n        direction: sorter.direction\n      };\n    });\n  }\n\n  _removeArrayItem(array, item) {\n    const index = array.indexOf(item);\n\n    if (index > -1) {\n      array.splice(index, 1);\n    }\n  }\n\n};","/**\n@license\nCopyright (c) 2018 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\n\n/**\n * @polymerMixin\n */\nexport const StylingMixin = superClass => class StylingMixin extends superClass {\n  static get properties() {\n    return {\n      /**\n       * A function that allows generating CSS class names for grid cells\n       * based on their row and column. The return value should be the generated\n       * class name as a string, or multiple class names separated by whitespace\n       * characters.\n       *\n       * Receives two arguments:\n       * - `column` The `<vaadin-grid-column>` element (`undefined` for details-cell).\n       * - `rowData` The object with the properties related with\n       *   the rendered item, contains:\n       *   - `rowData.index` The index of the item.\n       *   - `rowData.item` The item.\n       *   - `rowData.expanded` Sublevel toggle state.\n       *   - `rowData.level` Level of the tree represented with a horizontal offset of the toggle button.\n       *   - `rowData.selected` Selected state.\n       */\n      cellClassNameGenerator: Function\n    };\n  }\n\n  static get observers() {\n    return ['__cellClassNameGeneratorChanged(cellClassNameGenerator)'];\n  }\n\n  __cellClassNameGeneratorChanged(cellClassGenerator) {\n    this.generateCellClassNames();\n  }\n  /**\n   * Runs the `cellClassNameGenerator` for the visible cells.\n   * If the generator depends on varying conditions, you need to\n   * call this function manually in order to update the styles when\n   * the conditions change.\n   */\n\n\n  generateCellClassNames() {\n    Array.from(this.$.items.children).filter(row => !row.hidden).forEach(row => this._generateCellClassNames(row, this.__getRowModel(row)));\n  }\n\n  _generateCellClassNames(row, rowData) {\n    Array.from(row.children).forEach(cell => {\n      if (cell.__generatedClasses) {\n        cell.__generatedClasses.forEach(className => cell.classList.remove(className));\n      }\n\n      if (this.cellClassNameGenerator) {\n        const result = this.cellClassNameGenerator(cell._column, rowData);\n        cell.__generatedClasses = result && result.split(' ').filter(className => className.length > 0);\n\n        if (cell.__generatedClasses) {\n          cell.__generatedClasses.forEach(className => cell.classList.add(className));\n        }\n      }\n    });\n  }\n\n};","/**\n@license\nCopyright (c) 2019 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\nconst DropMode = {\n  BETWEEN: 'between',\n  ON_TOP: 'on-top',\n  ON_TOP_OR_BETWEEN: 'on-top-or-between',\n  ON_GRID: 'on-grid'\n};\nconst DropLocation = {\n  ON_TOP: 'on-top',\n  ABOVE: 'above',\n  BELOW: 'below',\n  EMPTY: 'empty'\n};\n/**\n * @polymerMixin\n */\n\nexport const DragAndDropMixin = superClass => class DragAndDropMixin extends superClass {\n  static get properties() {\n    return {\n      /**\n       * Defines the locations within the Grid row where an element can be dropped.\n       *\n       * Possible values are:\n       * - `between`: The drop event can happen between Grid rows.\n       * - `on-top`: The drop event can happen on top of Grid rows.\n       * - `on-top-or-between`: The drop event can happen either on top of or between Grid rows.\n       * - `on-grid`: The drop event will not happen on any specific row, it will show the drop target outline around the whole grid.\n       */\n      dropMode: String,\n\n      /**\n       * Marks the grid's rows to be available for dragging.\n       */\n      rowsDraggable: Boolean,\n\n      /**\n       * A function that filters dragging of specific grid rows. The return value should be false\n       * if dragging of the row should be disabled.\n       *\n       * Receives one argument:\n       * - `rowData` The object with the properties related with\n       *   the rendered item, contains:\n       *   - `rowData.index` The index of the item.\n       *   - `rowData.item` The item.\n       *   - `rowData.expanded` Sublevel toggle state.\n       *   - `rowData.level` Level of the tree represented with a horizontal offset of the toggle button.\n       *   - `rowData.selected` Selected state.\n       */\n      dragFilter: Function,\n\n      /**\n       * A function that filters dropping on specific grid rows. The return value should be false\n       * if dropping on the row should be disabled.\n       *\n       * Receives one argument:\n       * - `rowData` The object with the properties related with\n       *   the rendered item, contains:\n       *   - `rowData.index` The index of the item.\n       *   - `rowData.item` The item.\n       *   - `rowData.expanded` Sublevel toggle state.\n       *   - `rowData.level` Level of the tree represented with a horizontal offset of the toggle button.\n       *   - `rowData.selected` Selected state.\n       */\n      dropFilter: Function,\n      __dndAutoScrollThreshold: {\n        value: 50\n      }\n    };\n  }\n\n  static get observers() {\n    return ['_dragDropAccessChanged(rowsDraggable, dropMode, dragFilter, dropFilter)'];\n  }\n\n  ready() {\n    super.ready();\n    this.$.table.addEventListener('dragstart', this._onDragStart.bind(this));\n    this.$.table.addEventListener('dragend', this._onDragEnd.bind(this));\n    this.$.table.addEventListener('dragover', this._onDragOver.bind(this));\n    this.$.table.addEventListener('dragleave', this._onDragLeave.bind(this));\n    this.$.table.addEventListener('drop', this._onDrop.bind(this));\n    this.$.table.addEventListener('dragenter', e => {\n      if (this.dropMode) {\n        e.preventDefault();\n        e.stopPropagation();\n      }\n    });\n  }\n\n  _onDragStart(e) {\n    if (this.rowsDraggable) {\n      let row = e.target;\n\n      if (row.localName === 'vaadin-grid-cell-content') {\n        // The draggable node is the cell content element on browsers that support native shadow\n        row = row.assignedSlot.parentNode.parentNode;\n      }\n\n      if (row.parentNode !== this.$.items) {\n        return;\n      }\n\n      e.stopPropagation();\n\n      this._toggleAttribute('dragging-rows', true, this);\n\n      if (this._safari) {\n        // Safari doesn't get proper drag images from transformed\n        // elements so we need to switch to top temporarily\n        const transform = row.style.transform;\n        row.style.top = /translateY\\((.*)\\)/.exec(transform)[1];\n        row.style.transform = 'none';\n        requestAnimationFrame(() => {\n          row.style.top = '';\n          row.style.transform = transform;\n        });\n      }\n\n      const rowRect = row.getBoundingClientRect();\n\n      if (!window.ShadyDOM) {\n        if (this._ios) {\n          e.dataTransfer.setDragImage(row);\n        } else {\n          e.dataTransfer.setDragImage(row, e.clientX - rowRect.left, e.clientY - rowRect.top);\n        }\n      }\n\n      let rows = [row];\n\n      if (this._isSelected(row._item)) {\n        rows = this.__getViewportRows().filter(row => this._isSelected(row._item)).filter(row => !this.dragFilter || this.dragFilter(this.__getRowModel(row)));\n      } // Set the default transfer data\n\n\n      e.dataTransfer.setData('text', this.__formatDefaultTransferData(rows));\n      row.setAttribute('dragstart', rows.length > 1 ? rows.length : '');\n      this.updateStyles({\n        '--_grid-drag-start-x': `${e.clientX - rowRect.left + 20}px`,\n        '--_grid-drag-start-y': `${e.clientY - rowRect.top + 10}px`\n      });\n      requestAnimationFrame(() => {\n        row.removeAttribute('dragstart');\n        this.updateStyles({\n          '--_grid-drag-start-x': '',\n          '--_grid-drag-start-y': ''\n        });\n      });\n      const event = new CustomEvent('grid-dragstart', {\n        detail: {\n          draggedItems: rows.map(row => row._item),\n          setDragData: (type, data) => e.dataTransfer.setData(type, data),\n          setDraggedItemsCount: count => row.setAttribute('dragstart', count)\n        }\n      });\n      event.originalEvent = e;\n      this.dispatchEvent(event);\n    }\n  }\n\n  _onDragEnd(e) {\n    this._toggleAttribute('dragging-rows', false, this);\n\n    e.stopPropagation();\n    const event = new CustomEvent('grid-dragend');\n    event.originalEvent = e;\n    this.dispatchEvent(event);\n  }\n\n  _onDragLeave(e) {\n    e.stopPropagation();\n\n    this._clearDragStyles();\n  }\n\n  _onDragOver(e) {\n    if (this.dropMode) {\n      this._dropLocation = undefined;\n      this._dragOverItem = undefined;\n\n      if (this.__dndAutoScroll(e.clientY)) {\n        this._clearDragStyles();\n\n        return;\n      }\n\n      let row = e.composedPath().filter(node => node.localName === 'tr')[0];\n\n      if (!this._effectiveSize || this.dropMode === DropMode.ON_GRID) {\n        // The grid is empty or \"on-grid\" drop mode was used, always default to \"empty\"\n        this._dropLocation = DropLocation.EMPTY;\n      } else if (!row || row.parentNode !== this.$.items) {\n        // The dragover didn't occur on a body row but the grid has items\n        if (row) {\n          // The dragover occurred over a header/footer row\n          return;\n        } else if (this.dropMode === DropMode.BETWEEN || this.dropMode === DropMode.ON_TOP_OR_BETWEEN) {\n          // The drop mode allows setting the last row as the drag over item\n          row = Array.from(this.$.items.children).filter(row => !row.hidden).pop();\n          this._dropLocation = DropLocation.BELOW;\n        } else {\n          // Drop mode on-top used but the dragover didn't occur over one of the existing rows\n          return;\n        }\n      } else {\n        // The dragover occurred on a body row, determine the drop location from coordinates\n        const rowRect = row.getBoundingClientRect();\n        this._dropLocation = DropLocation.ON_TOP;\n\n        if (this.dropMode === DropMode.BETWEEN) {\n          const dropAbove = e.clientY - rowRect.top < rowRect.bottom - e.clientY;\n          this._dropLocation = dropAbove ? DropLocation.ABOVE : DropLocation.BELOW;\n        } else if (this.dropMode === DropMode.ON_TOP_OR_BETWEEN) {\n          if (e.clientY - rowRect.top < rowRect.height / 3) {\n            this._dropLocation = DropLocation.ABOVE;\n          } else if (e.clientY - rowRect.top > rowRect.height / 3 * 2) {\n            this._dropLocation = DropLocation.BELOW;\n          }\n        }\n      }\n\n      if (row && row.hasAttribute('drop-disabled')) {\n        this._dropLocation = undefined;\n        return;\n      }\n\n      e.stopPropagation();\n      e.preventDefault();\n\n      if (this._dropLocation === DropLocation.EMPTY) {\n        this._toggleAttribute('dragover', true, this);\n      } else if (row) {\n        this._dragOverItem = row._item;\n\n        if (row.getAttribute('dragover') !== this._dropLocation) {\n          row.setAttribute('dragover', this._dropLocation);\n        }\n      } else {\n        this._clearDragStyles();\n      }\n    }\n  }\n\n  __dndAutoScroll(clientY) {\n    if (this.__dndAutoScrolling) {\n      return true;\n    }\n\n    const headerBottom = this.$.header.getBoundingClientRect().bottom;\n    const footerTop = this.$.footer.getBoundingClientRect().top;\n    const topDiff = headerBottom - clientY + this.__dndAutoScrollThreshold;\n    const bottomDiff = clientY - footerTop + this.__dndAutoScrollThreshold;\n    let scrollTopDelta = 0;\n\n    if (bottomDiff > 0) {\n      scrollTopDelta = bottomDiff * 2;\n    } else if (topDiff > 0) {\n      scrollTopDelta = -topDiff * 2;\n    }\n\n    if (scrollTopDelta) {\n      const scrollTop = this.$.table.scrollTop;\n      this.$.table.scrollTop += scrollTopDelta;\n      const scrollTopChanged = scrollTop !== this.$.table.scrollTop;\n\n      if (scrollTopChanged) {\n        this.__dndAutoScrolling = true; // Disallow more auto-scrolls within 20ms\n\n        setTimeout(() => this.__dndAutoScrolling = false, 20);\n\n        this._scrollHandler();\n\n        return true;\n      }\n    }\n  }\n\n  __getViewportRows() {\n    const headerBottom = this.$.header.getBoundingClientRect().bottom;\n    const footerTop = this.$.footer.getBoundingClientRect().top;\n    return Array.from(this.$.items.children).filter(row => {\n      const rowRect = row.getBoundingClientRect();\n      return rowRect.bottom > headerBottom && rowRect.top < footerTop;\n    });\n  }\n\n  _clearDragStyles() {\n    this.removeAttribute('dragover');\n    Array.from(this.$.items.children).forEach(row => row.removeAttribute('dragover'));\n  }\n\n  _onDrop(e) {\n    if (this.dropMode) {\n      e.stopPropagation();\n      e.preventDefault();\n      const dragData = e.dataTransfer.types && Array.from(e.dataTransfer.types).map(type => {\n        return {\n          type,\n          data: e.dataTransfer.getData(type)\n        };\n      });\n\n      this._clearDragStyles();\n\n      const event = new CustomEvent('grid-drop', {\n        bubbles: e.bubbles,\n        cancelable: e.cancelable,\n        detail: {\n          dropTargetItem: this._dragOverItem,\n          dropLocation: this._dropLocation,\n          dragData\n        }\n      });\n      event.originalEvent = e;\n      this.dispatchEvent(event);\n    }\n  }\n\n  __formatDefaultTransferData(rows) {\n    return rows.map(row => {\n      return Array.from(row.children).filter(cell => !cell.hidden && cell.getAttribute('part').indexOf('details-cell') === -1).sort((a, b) => {\n        return a._column._order > b._column._order ? 1 : -1;\n      }).map(cell => cell._content.textContent.trim()).filter(content => content).join('\\t');\n    }).join('\\n');\n  }\n\n  _dragDropAccessChanged(rowsDraggable, dropMode, dragFilter, dropFilter) {\n    this.filterDragAndDrop();\n  }\n  /**\n   * Runs the `dragFilter` and `dropFilter` hooks for the visible cells.\n   * If the filter depends on varying conditions, you may need to\n   * call this function manually in order to update the draggability when\n   * the conditions change.\n   */\n\n\n  filterDragAndDrop() {\n    Array.from(this.$.items.children).filter(row => !row.hidden).forEach(row => {\n      this._filterDragAndDrop(row, this.__getRowModel(row));\n    });\n  }\n\n  _filterDragAndDrop(row, rowData) {\n    const dragDisabled = !this.rowsDraggable || this.dragFilter && !this.dragFilter(rowData);\n    const dropDisabled = !this.dropMode || this.dropFilter && !this.dropFilter(rowData);\n    const draggableElements = window.ShadyDOM ? [row] : Array.from(row.children).map(cell => cell._content);\n    draggableElements.forEach(e => {\n      if (dragDisabled) {\n        e.removeAttribute('draggable');\n      } else {\n        e.setAttribute('draggable', true);\n      }\n    });\n\n    this._toggleAttribute('drag-disabled', dragDisabled, row);\n\n    this._toggleAttribute('drop-disabled', dropDisabled, row);\n  }\n  /**\n   * Fired when starting to drag grid rows.\n   *\n   * @event grid-dragstart\n   * @param {Object} originalEvent The native dragstart event\n   * @param {Object} detail\n   * @param {Object} detail.draggedItems the items in the visible viewport that are dragged\n   * @param {Function} detail.setDraggedItemsCount Overrides the default number shown in the drag image on multi row drag.\n   * Parameter is of type number.\n   * @param {Function} detail.setDragData Sets dataTransfer data for the drag operation.\n   * Note that \"text\" is the only data type supported by all the browsers the grid currently supports (including IE11).\n   * The function takes two parameters:\n   * - type:string The type of the data\n   * - data:string The data\n   */\n\n  /**\n   * Fired when the dragging of the rows ends.\n   *\n   * @event grid-dragend\n   * @param {Object} originalEvent The native dragend event\n   */\n\n  /**\n   * Fired when a drop occurs on top of the grid.\n   *\n   * @event grid-drop\n   * @param {Object} originalEvent The native drop event\n   * @param {Object} detail\n   * @param {Object} detail.dropTargetItem The item of the grid row on which the drop occurred.\n   * @param {string} detail.dropLocation The position at which the drop event took place relative to a row.\n   * Depending on the dropMode value, the drop location can be one of the following\n   * - `on-top`: when the drop occurred on top of the row\n   * - `above`: when the drop occurred above the row\n   * - `below`: when the drop occurred below the row\n   * - `empty`: when the drop occurred over the grid, not relative to any specific row\n   * @param {string} detail.dragData An array of items with the payload as a string representation as the\n   * `data` property and the type of the data as `type` property.\n   */\n\n\n};","/**\n@license\nCopyright (c) 2017 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\n\n/**\n * @polymerMixin\n */\nexport const KeyboardNavigationMixin = superClass => class KeyboardNavigationMixin extends superClass {\n  static get properties() {\n    return {\n      _headerFocusable: {\n        type: Object,\n        observer: '_focusableChanged'\n      },\n      _itemsFocusable: {\n        type: Object,\n        observer: '_focusableChanged'\n      },\n      _footerFocusable: {\n        type: Object,\n        observer: '_focusableChanged'\n      },\n      _navigatingIsHidden: Boolean,\n      _focusedItemIndex: {\n        type: Number,\n        value: 0\n      },\n      _focusedColumnOrder: Number\n    };\n  }\n\n  ready() {\n    super.ready();\n\n    if (this._ios || this._android) {\n      // Disable keyboard navigation on mobile devices\n      return;\n    }\n\n    this.addEventListener('keydown', this._onKeyDown);\n    this.addEventListener('focusin', this._onFocusIn);\n    this.addEventListener('focusout', this._onFocusOut); // When focus goes from cell to another cell, focusin/focusout events do\n    // not escape the grid’s shadowRoot, thus listening inside the shadowRoot.\n\n    this.$.table.addEventListener('focusin', this._onCellFocusIn.bind(this));\n    this.$.table.addEventListener('focusout', this._onCellFocusOut.bind(this));\n    this.addEventListener('mousedown', () => {\n      this._toggleAttribute('navigating', false, this);\n\n      this._isMousedown = true;\n    });\n    this.addEventListener('mouseup', () => this._isMousedown = false);\n  }\n\n  _focusableChanged(focusable, oldFocusable) {\n    if (oldFocusable) {\n      oldFocusable.setAttribute('tabindex', '-1');\n    }\n\n    if (focusable) {\n      focusable.setAttribute('tabindex', '0');\n    }\n  }\n\n  _onKeyDown(e) {\n    // Ensure standard key value, unified across browsers\n    let key = e.key;\n\n    if (key === 'Up' || key === 'Down' || key === 'Left' || key === 'Right') {\n      // MSIE & Edge\n      key = 'Arrow' + key;\n    }\n\n    if (key === 'Esc') {\n      // MSIE & Edge\n      key = 'Escape';\n    }\n\n    if (key === 'Spacebar') {\n      // MSIE\n      key = ' ';\n    }\n\n    let keyGroup;\n\n    switch (key) {\n      case 'ArrowUp':\n      case 'ArrowDown':\n      case 'ArrowLeft':\n      case 'ArrowRight':\n      case 'PageUp':\n      case 'PageDown':\n      case 'Home':\n      case 'End':\n        keyGroup = 'Navigation';\n        break;\n\n      case 'Enter':\n      case 'Escape':\n      case 'F2':\n        keyGroup = 'Interaction';\n        break;\n\n      case 'Tab':\n        keyGroup = 'Tab';\n        break;\n\n      case ' ':\n        keyGroup = 'Space';\n        break;\n    }\n\n    this._detectInteracting(e);\n\n    if (this.hasAttribute('interacting') && keyGroup !== 'Interaction') {\n      // When in the interacting mode, only the “Interaction” keys are handled.\n      keyGroup = undefined;\n    }\n\n    if (keyGroup) {\n      this[`_on${keyGroup}KeyDown`](e, key);\n    }\n  }\n\n  _ensureScrolledToIndex(index) {\n    const targetRowInDom = Array.from(this.$.items.children).filter(child => child.index === index)[0];\n\n    if (!targetRowInDom) {\n      this._scrollToIndex(index);\n    }\n  }\n\n  _onNavigationKeyDown(e, key) {\n    e.preventDefault();\n\n    function indexOfChildElement(el) {\n      return Array.prototype.indexOf.call(el.parentNode.children, el);\n    }\n\n    const visibleItemsCount = this._lastVisibleIndex - this._firstVisibleIndex - 1;\n    let dx = 0,\n        dy = 0;\n\n    switch (key) {\n      case 'ArrowRight':\n        dx = 1;\n        break;\n\n      case 'ArrowLeft':\n        dx = -1;\n        break;\n\n      case 'Home':\n        dx = -Infinity;\n        e.ctrlKey && (dy = -Infinity);\n        break;\n\n      case 'End':\n        dx = Infinity;\n        e.ctrlKey && (dy = Infinity);\n        break;\n\n      case 'ArrowDown':\n        dy = 1;\n        break;\n\n      case 'ArrowUp':\n        dy = -1;\n        break;\n\n      case 'PageDown':\n        dy = visibleItemsCount;\n        break;\n\n      case 'PageUp':\n        dy = -visibleItemsCount;\n        break;\n    }\n\n    const activeCell = e.composedPath()[0];\n    const columnIndex = indexOfChildElement(activeCell);\n\n    const isRowDetails = this._elementMatches(activeCell, '[part~=\"details-cell\"]');\n\n    const activeRow = activeCell.parentNode;\n    const activeRowGroup = activeRow.parentNode;\n    const maxRowIndex = (activeRowGroup === this.$.items ? this._effectiveSize : activeRowGroup.children.length) - 1; // Body rows have index property, otherwise DOM child index of the row is used.\n\n    const rowIndex = activeRowGroup === this.$.items ? this._focusedItemIndex !== undefined ? this._focusedItemIndex : activeRow.index : indexOfChildElement(activeRow); // Index of the destination row\n\n    let dstRowIndex = Math.max(0, Math.min(rowIndex + dy, maxRowIndex)); // Row details navigation logic\n\n    let dstIsRowDetails = false;\n\n    if (activeRowGroup === this.$.items) {\n      const item = activeRow._item;\n\n      const dstItem = this._cache.getItemForIndex(dstRowIndex); // Should we navigate to row details?\n\n\n      if (isRowDetails) {\n        dstIsRowDetails = dy === 0;\n      } else {\n        dstIsRowDetails = dy === 1 && this._isDetailsOpened(item) || dy === -1 && dstRowIndex !== rowIndex && this._isDetailsOpened(dstItem);\n      } // Should we navigate between details and regular cells of the same row?\n\n\n      if (dstIsRowDetails !== isRowDetails && (dy === 1 && dstIsRowDetails || dy === -1 && !dstIsRowDetails)) {\n        dstRowIndex = rowIndex;\n      }\n    } // Header and footer could have hidden rows, e. g., if none of the columns\n    // or groups on the given column tree level define template. Skip them\n    // in vertical keyboard navigation.\n\n\n    if (activeRowGroup !== this.$.items) {\n      if (dstRowIndex > rowIndex) {\n        while (dstRowIndex < maxRowIndex && activeRowGroup.children[dstRowIndex].hidden) {\n          dstRowIndex++;\n        }\n      } else if (dstRowIndex < rowIndex) {\n        while (dstRowIndex > 0 && activeRowGroup.children[dstRowIndex].hidden) {\n          dstRowIndex--;\n        }\n      }\n    } // _focusedColumnOrder is memoized — this is to ensure predictable\n    // navigation when entering and leaving detail and column group cells.\n\n\n    if (this._focusedColumnOrder === undefined) {\n      if (isRowDetails) {\n        this._focusedColumnOrder = 0;\n      } else {\n        this._focusedColumnOrder = this._getColumns(activeRowGroup, rowIndex)[columnIndex]._order;\n      }\n    } // Find orderedColumnIndex — the index of order closest matching the\n    // original _focusedColumnOrder in the sorted array of orders\n    // of the visible columns on the destination row.\n\n\n    const dstColumns = this._getColumns(activeRowGroup, dstRowIndex);\n\n    const dstSortedColumnOrders = dstColumns.filter(c => !c.hidden).map(c => c._order).sort((b, a) => b - a);\n    const maxOrderedColumnIndex = dstSortedColumnOrders.length - 1;\n    const orderedColumnIndex = dstSortedColumnOrders.indexOf(dstSortedColumnOrders.slice(0).sort((b, a) => Math.abs(b - this._focusedColumnOrder) - Math.abs(a - this._focusedColumnOrder))[0]); // Index of the destination column order\n\n    const dstOrderedColumnIndex = dy === 0 && isRowDetails ? orderedColumnIndex : Math.max(0, Math.min(orderedColumnIndex + dx, maxOrderedColumnIndex));\n\n    if (dstOrderedColumnIndex !== orderedColumnIndex) {\n      // Horizontal movement invalidates stored _focusedColumnOrder\n      this._focusedColumnOrder = undefined;\n    } // Ensure correct vertical scroll position, destination row is visible\n\n\n    if (activeRowGroup === this.$.items) {\n      this._ensureScrolledToIndex(dstRowIndex);\n    } // This has to be set after scrolling, otherwise it can be removed by\n    // `_preventScrollerRotatingCellFocus(item, index)` during scrolling.\n\n\n    this._toggleAttribute('navigating', true, this);\n\n    const columnIndexByOrder = dstColumns.reduce((acc, col, i) => (acc[col._order] = i, acc), {});\n    const dstColumnIndex = columnIndexByOrder[dstSortedColumnOrders[dstOrderedColumnIndex]]; // For body rows, use index property to find destination row, otherwise use DOM child index\n\n    const dstRow = activeRowGroup === this.$.items ? Array.from(activeRowGroup.children).filter(el => el.index === dstRowIndex)[0] : activeRowGroup.children[dstRowIndex];\n\n    if (!dstRow) {\n      return;\n    } // Here we go!\n\n\n    const dstCell = dstIsRowDetails ? Array.from(dstRow.children).filter(el => this._elementMatches(el, '[part~=\"details-cell\"]'))[0] : dstRow.children[dstColumnIndex];\n\n    this._scrollHorizontallyToCell(dstCell);\n\n    if (activeRowGroup === this.$.items) {\n      // When scrolling with repeated keydown, sometimes FocusEvent listeners\n      // are too late to update _focusedItemIndex. Ensure next keydown\n      // listener invocation gets updated _focusedItemIndex value.\n      this._focusedItemIndex = dstRowIndex;\n    }\n\n    if (activeRowGroup === this.$.items) {\n      const dstRect = dstCell.getBoundingClientRect();\n      const footerTop = this.$.footer.getBoundingClientRect().top;\n      const headerBottom = this.$.header.getBoundingClientRect().bottom;\n\n      if (dstRect.bottom > footerTop) {\n        this.$.table.scrollTop += dstRect.bottom - footerTop;\n\n        this._scrollHandler();\n      } else if (dstRect.top < headerBottom) {\n        this.$.table.scrollTop -= headerBottom - dstRect.top;\n\n        this._scrollHandler();\n      }\n    }\n\n    dstCell.focus();\n  }\n\n  _parseEventPath(path) {\n    const tableIndex = path.indexOf(this.$.table);\n    return {\n      rowGroup: path[tableIndex - 1],\n      row: path[tableIndex - 2],\n      cell: path[tableIndex - 3]\n    };\n  }\n\n  _onInteractionKeyDown(e, key) {\n    const localTarget = e.composedPath()[0];\n    const localTargetIsTextInput = localTarget.localName === 'input' && !/^(button|checkbox|color|file|image|radio|range|reset|submit)$/i.test(localTarget.type);\n    let wantInteracting;\n\n    switch (key) {\n      case 'Enter':\n        wantInteracting = this.hasAttribute('interacting') ? !localTargetIsTextInput : true;\n        break;\n\n      case 'Escape':\n        wantInteracting = false;\n        break;\n\n      case 'F2':\n        wantInteracting = !this.hasAttribute('interacting');\n        break;\n    }\n\n    const {\n      cell\n    } = this._parseEventPath(e.composedPath());\n\n    if (this.hasAttribute('interacting') !== wantInteracting) {\n      if (wantInteracting) {\n        const focusTarget = cell._content.querySelector('[focus-target]') || cell._content.firstElementChild;\n\n        if (focusTarget) {\n          e.preventDefault();\n          focusTarget.focus();\n\n          this._toggleAttribute('interacting', true, this);\n\n          this._toggleAttribute('navigating', false, this);\n        }\n      } else {\n        e.preventDefault();\n        this._focusedColumnOrder = undefined;\n        cell.focus();\n\n        this._toggleAttribute('interacting', false, this);\n\n        this._toggleAttribute('navigating', true, this);\n      }\n    }\n  }\n\n  _predictFocusStepTarget(srcElement, step) {\n    const tabOrder = [this.$.table, this._headerFocusable, this._itemsFocusable, this._footerFocusable, this.$.focusexit];\n    let index = tabOrder.indexOf(srcElement);\n    index += step;\n\n    while (index >= 0 && index <= tabOrder.length - 1 && (!tabOrder[index] || tabOrder[index].parentNode.hidden)) {\n      index += step;\n    }\n\n    return tabOrder[index];\n  }\n\n  _onTabKeyDown(e) {\n    const focusTarget = this._predictFocusStepTarget(e.composedPath()[0], e.shiftKey ? -1 : 1);\n\n    if (focusTarget === this.$.table) {\n      // The focus is about to exit the grid to the top.\n      this.$.table.focus();\n    } else if (focusTarget === this.$.focusexit) {\n      // The focus is about to exit the grid to the bottom.\n      this.$.focusexit.focus();\n    } else if (focusTarget === this._itemsFocusable) {\n      let itemsFocusTarget = focusTarget;\n      const targetRow = this._itemsFocusable.parentNode;\n\n      this._ensureScrolledToIndex(this._focusedItemIndex);\n\n      if (targetRow.index !== this._focusedItemIndex) {\n        // The target row, which is about to be focused next, has been\n        // assigned with a new index since last focus, probably because of\n        // scrolling. Focus the row for the stored focused item index instead.\n        const columnIndex = Array.from(targetRow.children).indexOf(this._itemsFocusable);\n        const focusedItemRow = Array.from(this.$.items.children).filter(row => row.index === this._focusedItemIndex)[0];\n\n        if (focusedItemRow) {\n          itemsFocusTarget = focusedItemRow.children[columnIndex];\n        }\n      }\n\n      e.preventDefault();\n      itemsFocusTarget.focus();\n    } else {\n      e.preventDefault();\n      focusTarget.focus();\n    }\n\n    this._toggleAttribute('navigating', true, this);\n  }\n\n  _onSpaceKeyDown(e) {\n    e.preventDefault();\n    const cell = e.composedPath()[0];\n\n    if (cell._content && cell._content.firstElementChild) {\n      const wasNavigating = this.hasAttribute('navigating');\n\n      cell._content.firstElementChild.click();\n\n      this._toggleAttribute('navigating', wasNavigating, this);\n    } else {\n      this.dispatchEvent(new CustomEvent('cell-activate', {\n        detail: {\n          model: this.__getRowModel(cell.parentElement)\n        }\n      }));\n    }\n  }\n\n  _onFocusIn(e) {\n    if (!this._isMousedown) {\n      this._toggleAttribute('navigating', true, this);\n    }\n\n    const rootTarget = e.composedPath()[0];\n\n    if (rootTarget === this.$.table || rootTarget === this.$.focusexit) {\n      // The focus enters the top (bottom) of the grid, meaning that user has\n      // tabbed (shift-tabbed) into the grid. Move the focus to\n      // the first (the last) focusable.\n      this._predictFocusStepTarget(rootTarget, rootTarget === this.$.table ? 1 : -1).focus();\n\n      this._toggleAttribute('interacting', false, this);\n    } else {\n      this._detectInteracting(e);\n    }\n  }\n\n  _onFocusOut(e) {\n    this._toggleAttribute('navigating', false, this);\n\n    this._detectInteracting(e);\n  }\n\n  _onCellFocusIn(e) {\n    this._detectInteracting(e);\n\n    if (e.composedPath().indexOf(this.$.table) === 3) {\n      const cell = e.composedPath()[0];\n      this._activeRowGroup = cell.parentNode.parentNode;\n\n      if (this._activeRowGroup === this.$.header) {\n        this._headerFocusable = cell;\n      } else if (this._activeRowGroup === this.$.items) {\n        this._itemsFocusable = cell;\n      } else if (this._activeRowGroup === this.$.footer) {\n        this._footerFocusable = cell;\n      } // Inform cell content of the focus (used in <vaadin-grid-sorter>)\n\n\n      cell._content.dispatchEvent(new CustomEvent('cell-focusin', {\n        bubbles: false\n      }));\n    }\n\n    this._detectFocusedItemIndex(e);\n  }\n\n  _onCellFocusOut(e) {\n    if (e.composedPath().indexOf(this.$.table) === 3) {\n      const cell = e.composedPath()[0]; // Inform cell content of the focus (used in <vaadin-grid-sorter>)\n\n      cell._content.dispatchEvent(new CustomEvent('cell-focusout', {\n        bubbles: false\n      }));\n    }\n  }\n\n  _detectInteracting(e) {\n    this._toggleAttribute('interacting', e.composedPath().some(el => el.localName === 'vaadin-grid-cell-content'), this);\n  }\n\n  _detectFocusedItemIndex(e) {\n    const {\n      rowGroup,\n      row\n    } = this._parseEventPath(e.composedPath());\n\n    if (rowGroup === this.$.items) {\n      this._focusedItemIndex = row.index;\n    }\n  }\n\n  _preventScrollerRotatingCellFocus(item, index) {\n    if (item.index === this._focusedItemIndex && this.hasAttribute('navigating') && this._activeRowGroup === this.$.items) {\n      // Focused item has went, hide navigation mode\n      this._navigatingIsHidden = true;\n\n      this._toggleAttribute('navigating', false, this);\n    }\n\n    if (index === this._focusedItemIndex && this._navigatingIsHidden) {\n      // Focused item is back, restore navigation mode\n      this._navigatingIsHidden = false;\n\n      this._toggleAttribute('navigating', true, this);\n    }\n  }\n\n  _getColumns(rowGroup, rowIndex) {\n    let columnTreeLevel = this._columnTree.length - 1;\n\n    if (rowGroup === this.$.header) {\n      columnTreeLevel = rowIndex;\n    } else if (rowGroup === this.$.footer) {\n      columnTreeLevel = this._columnTree.length - 1 - rowIndex;\n    }\n\n    return this._columnTree[columnTreeLevel];\n  }\n\n  _resetKeyboardNavigation() {\n    if (this.$.header.firstElementChild) {\n      this._headerFocusable = Array.from(this.$.header.firstElementChild.children).filter(el => !el.hidden)[0];\n    }\n\n    if (this.$.items.firstElementChild) {\n      const firstVisibleIndexRow = this._iterateItems((pidx, vidx) => {\n        if (this._firstVisibleIndex === vidx) {\n          return this.$.items.children[pidx];\n        }\n      });\n\n      if (firstVisibleIndexRow) {\n        this._itemsFocusable = Array.from(firstVisibleIndexRow.children).filter(el => !el.hidden)[0];\n      }\n    }\n\n    if (this.$.footer.firstElementChild) {\n      this._footerFocusable = Array.from(this.$.footer.firstElementChild.children).filter(el => !el.hidden)[0];\n    }\n  }\n\n  _scrollHorizontallyToCell(dstCell) {\n    if (dstCell.hasAttribute('frozen') || this._elementMatches(dstCell, '[part~=\"details-cell\"]')) {\n      // These cells are, by design, always visible, no need to scroll.\n      return;\n    }\n\n    const dstCellRect = dstCell.getBoundingClientRect();\n    const dstRow = dstCell.parentNode;\n    const dstCellIndex = Array.from(dstRow.children).indexOf(dstCell);\n    const tableRect = this.$.table.getBoundingClientRect();\n    let leftBoundary = tableRect.left,\n        rightBoundary = tableRect.right;\n\n    for (let i = dstCellIndex - 1; i >= 0; i--) {\n      const cell = dstRow.children[i];\n\n      if (cell.hasAttribute('hidden') || this._elementMatches(cell, '[part~=\"details-cell\"]')) {\n        continue;\n      }\n\n      if (cell.hasAttribute('frozen')) {\n        leftBoundary = cell.getBoundingClientRect().right;\n        break;\n      }\n    }\n\n    for (let i = dstCellIndex + 1; i < dstRow.children.length; i++) {\n      const cell = dstRow.children[i];\n\n      if (cell.hasAttribute('hidden') || this._elementMatches(cell, '[part~=\"details-cell\"]')) {\n        continue;\n      }\n\n      if (cell.hasAttribute('frozen')) {\n        rightBoundary = cell.getBoundingClientRect().left;\n        break;\n      }\n    }\n\n    if (dstCellRect.left < leftBoundary) {\n      this.$.table.scrollLeft += Math.round(dstCellRect.left - leftBoundary);\n    }\n\n    if (dstCellRect.right > rightBoundary) {\n      this.$.table.scrollLeft += Math.round(dstCellRect.right - rightBoundary);\n    }\n  }\n\n  _elementMatches(el, query) {\n    return el.matches ? el.matches(query) : Array.from(el.parentNode.querySelectorAll(query)).indexOf(el) !== -1;\n  }\n\n};","/**\n@license\nCopyright (c) 2017 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\nimport { GestureEventListeners } from \"@polymer/polymer/lib/mixins/gesture-event-listeners.js\";\nimport { addListener } from \"@polymer/polymer/lib/utils/gestures.js\";\nimport { dom } from \"@polymer/polymer/lib/legacy/polymer.dom.js\";\nimport { useShadow } from \"@polymer/polymer/lib/utils/settings.js\";\n/**\n * @polymerMixin\n */\n\nexport const ColumnReorderingMixin = superClass => class ColumnReorderingMixin extends GestureEventListeners(superClass) {\n  static get properties() {\n    return {\n      /**\n       * Set to true to allow column reordering.\n       */\n      columnReorderingAllowed: {\n        type: Boolean,\n        value: false\n      },\n      _orderBaseScope: {\n        type: Number,\n        value: 10000000\n      }\n    };\n  }\n\n  static get observers() {\n    return ['_updateOrders(_columnTree, _columnTree.*)'];\n  }\n\n  ready() {\n    super.ready();\n    addListener(this, 'track', this._onTrackEvent);\n    this._reorderGhost = this.shadowRoot.querySelector('[part=\"reorder-ghost\"]');\n    this.addEventListener('touchstart', this._onTouchStart.bind(this));\n    this.addEventListener('touchmove', this._onTouchMove.bind(this));\n    this.addEventListener('touchend', this._onTouchEnd.bind(this));\n    this.addEventListener('contextmenu', this._onContextMenu.bind(this));\n  }\n\n  _onContextMenu(e) {\n    if (this.hasAttribute('reordering')) {\n      e.preventDefault();\n    }\n  }\n\n  _onTouchStart(e) {\n    // Touch event, delay activation by 100ms\n    this._startTouchReorderTimeout = setTimeout(() => {\n      this._onTrackStart({\n        detail: {\n          x: e.touches[0].clientX,\n          y: e.touches[0].clientY\n        }\n      });\n    }, 100);\n  }\n\n  _onTouchMove(e) {\n    if (this._draggedColumn) {\n      e.preventDefault();\n    }\n\n    clearTimeout(this._startTouchReorderTimeout);\n  }\n\n  _onTouchEnd() {\n    clearTimeout(this._startTouchReorderTimeout);\n\n    this._onTrackEnd();\n  }\n\n  _onTrackEvent(e) {\n    if (e.detail.state === 'start') {\n      const path = e.composedPath();\n      const headerCell = path[path.indexOf(this.$.header) - 2];\n\n      if (!headerCell || !headerCell._content) {\n        // Not a header column\n        return;\n      }\n\n      const activeElement = this.getRootNode().activeElement;\n\n      if (headerCell._content.contains(this.getRootNode().activeElement) && (!this._ie || !this._isFocusable(activeElement))) {\n        // Something was focused inside the cell\n        return;\n      }\n\n      if (this.$.scroller.hasAttribute('column-resizing')) {\n        // Resizing is in progress\n        return;\n      }\n\n      if (!this._touchDevice) {\n        // Not a touch device\n        this._onTrackStart(e);\n      }\n    } else if (e.detail.state === 'track') {\n      this._onTrack(e);\n    } else if (e.detail.state === 'end') {\n      this._onTrackEnd(e);\n    }\n  }\n\n  _onTrackStart(e) {\n    if (!this.columnReorderingAllowed) {\n      return;\n    } // Cancel reordering if there are draggable nodes on the event path\n\n\n    const path = e.path || dom(e).path;\n\n    if (path && path.filter(node => node.hasAttribute && node.hasAttribute('draggable'))[0]) {\n      return;\n    }\n\n    const headerCell = this._cellFromPoint(e.detail.x, e.detail.y);\n\n    if (!headerCell || headerCell.getAttribute('part').indexOf('header-cell') === -1) {\n      return;\n    }\n\n    this._toggleAttribute('reordering', true, this);\n\n    this._draggedColumn = headerCell._column;\n\n    while (this._draggedColumn.parentElement.childElementCount === 1) {\n      // This is the only column in the group, drag the whole group instead\n      this._draggedColumn = this._draggedColumn.parentElement;\n    }\n\n    this._setSiblingsReorderStatus(this._draggedColumn, 'allowed');\n\n    this._draggedColumn._reorderStatus = 'dragging';\n\n    this._updateGhost(headerCell);\n\n    this._reorderGhost.style.visibility = 'visible';\n\n    this._updateGhostPosition(e.detail.x, this._touchDevice ? e.detail.y - 50 : e.detail.y);\n\n    this._autoScroller();\n  }\n\n  _onTrack(e) {\n    if (!this._draggedColumn) {\n      // Reordering didn’t start. Skip this event.\n      return;\n    }\n\n    const targetCell = this._cellFromPoint(e.detail.x, e.detail.y);\n\n    if (!targetCell) {\n      return;\n    }\n\n    const targetColumn = this._getTargetColumn(targetCell, this._draggedColumn);\n\n    if (this._isSwapAllowed(this._draggedColumn, targetColumn) && this._isSwappableByPosition(targetColumn, e.detail.x)) {\n      this._swapColumnOrders(this._draggedColumn, targetColumn);\n    }\n\n    this._updateGhostPosition(e.detail.x, this._touchDevice ? e.detail.y - 50 : e.detail.y);\n\n    this._lastDragClientX = e.detail.x;\n  }\n\n  _onTrackEnd() {\n    if (!this._draggedColumn) {\n      // Reordering didn’t start. Skip this event.\n      return;\n    }\n\n    this._toggleAttribute('reordering', false, this);\n\n    this._draggedColumn._reorderStatus = '';\n\n    this._setSiblingsReorderStatus(this._draggedColumn, '');\n\n    this._draggedColumn = null;\n    this._lastDragClientX = null;\n    this._reorderGhost.style.visibility = 'hidden';\n    this.dispatchEvent(new CustomEvent('column-reorder', {\n      detail: {\n        columns: this._getColumnsInOrder()\n      }\n    }));\n  }\n\n  _getColumnsInOrder() {\n    return this._columnTree.slice(0).pop().filter(c => !c.hidden).sort((b, a) => b._order - a._order);\n  }\n\n  _cellFromPoint(x, y) {\n    x = x || 0;\n    y = y || 0;\n\n    if (!this._draggedColumn) {\n      this._toggleAttribute('no-content-pointer-events', true, this.$.scroller);\n    }\n\n    let cell;\n\n    if (useShadow) {\n      cell = this.shadowRoot.elementFromPoint(x, y);\n    } else {\n      cell = document.elementFromPoint(x, y); // Workaround a FF58 bug\n\n      if (cell.localName === 'vaadin-grid-cell-content') {\n        cell = cell.assignedSlot.parentNode;\n      }\n    }\n\n    this._toggleAttribute('no-content-pointer-events', false, this.$.scroller); // Make sure the element is actually a cell\n\n\n    if (cell && cell._column) {\n      return cell;\n    }\n  }\n\n  _updateGhostPosition(eventClientX, eventClientY) {\n    const ghostRect = this._reorderGhost.getBoundingClientRect(); // // This is where we want to position the ghost\n\n\n    const targetLeft = eventClientX - ghostRect.width / 2;\n    const targetTop = eventClientY - ghostRect.height / 2; // Current position\n\n    const _left = parseInt(this._reorderGhost._left || 0);\n\n    const _top = parseInt(this._reorderGhost._top || 0); // Reposition the ghost\n\n\n    this._reorderGhost._left = _left - (ghostRect.left - targetLeft);\n    this._reorderGhost._top = _top - (ghostRect.top - targetTop);\n    this._reorderGhost.style.transform = `translate(${this._reorderGhost._left}px, ${this._reorderGhost._top}px)`;\n  }\n\n  _getInnerText(e) {\n    if (e.localName) {\n      // Custom implementation needed since IE11 doesn't respect the spec in case of hidden elements\n      if (getComputedStyle(e).display === 'none') {\n        return '';\n      } else {\n        return Array.from(e.childNodes).map(n => this._getInnerText(n)).join('');\n      }\n    } else {\n      return e.textContent;\n    }\n  }\n\n  _updateGhost(cell) {\n    const ghost = this._reorderGhost;\n    ghost.textContent = this._getInnerText(cell._content);\n    const style = window.getComputedStyle(cell);\n    ['boxSizing', 'display', 'width', 'height', 'background', 'alignItems', 'padding', 'border', 'flex-direction', 'overflow'].forEach(propertyName => ghost.style[propertyName] = style[propertyName]);\n    return ghost;\n  }\n\n  _updateOrders(columnTree, splices) {\n    if (columnTree === undefined || splices === undefined) {\n      return;\n    } // Set order numbers to top-level columns\n\n\n    columnTree[0].forEach((column, index) => column._order = (index + 1) * this._orderBaseScope);\n  }\n\n  _setSiblingsReorderStatus(column, status) {\n    Array.from(column.parentNode.children).filter(child => /column/.test(child.localName) && this._isSwapAllowed(child, column)).forEach(sibling => sibling._reorderStatus = status);\n  }\n\n  _autoScroller() {\n    if (this._lastDragClientX) {\n      const rightDiff = this._lastDragClientX - this.getBoundingClientRect().right + 50;\n      const leftDiff = this.getBoundingClientRect().left - this._lastDragClientX + 50;\n\n      if (rightDiff > 0) {\n        this.$.table.scrollLeft += rightDiff / 10;\n      } else if (leftDiff > 0) {\n        this.$.table.scrollLeft -= leftDiff / 10;\n      }\n\n      this._scrollHandler();\n    }\n\n    if (this._draggedColumn) {\n      this.async(this._autoScroller, 10);\n    }\n  }\n\n  _isSwapAllowed(column1, column2) {\n    if (column1 && column2) {\n      const differentColumns = column1 !== column2;\n      const sameParent = column1.parentElement === column2.parentElement;\n      const sameFrozen = column1.frozen === column2.frozen;\n      return differentColumns && sameParent && sameFrozen;\n    }\n  }\n\n  _isSwappableByPosition(targetColumn, clientX) {\n    const targetCell = Array.from(this.$.header.querySelectorAll('tr:not([hidden]) [part~=\"cell\"]')).filter(cell => targetColumn.contains(cell._column))[0];\n    const sourceCellRect = this.$.header.querySelector('tr:not([hidden]) [reorder-status=dragging]').getBoundingClientRect();\n    const targetRect = targetCell.getBoundingClientRect();\n\n    if (targetRect.left > sourceCellRect.left) {\n      return clientX > targetRect.right - sourceCellRect.width;\n    } else {\n      return clientX < targetRect.left + sourceCellRect.width;\n    }\n  }\n\n  _swapColumnOrders(column1, column2) {\n    const _order = column1._order;\n    column1._order = column2._order;\n    column2._order = _order;\n\n    this._updateLastFrozen();\n\n    this._updateFirstAndLastColumn();\n  }\n\n  _getTargetColumn(targetCell, draggedColumn) {\n    if (targetCell && draggedColumn) {\n      let candidate = targetCell._column;\n\n      while (candidate.parentElement !== draggedColumn.parentElement && candidate !== this) {\n        candidate = candidate.parentElement;\n      }\n\n      if (candidate.parentElement === draggedColumn.parentElement) {\n        return candidate;\n      } else {\n        return targetCell._column;\n      }\n    }\n  }\n  /**\n   * Fired when the columns in the grid are reordered.\n   *\n   * @event column-reorder\n   * @param {Object} detail\n   * @param {Object} detail.columns the columns in the new order\n   */\n\n\n};","/**\n@license\nCopyright (c) 2018 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\nimport { PolymerElement } from \"/polymer/polymer-element.js\";\nimport { FlattenedNodesObserver } from \"/polymer/lib/utils/flattened-nodes-observer.js\";\nimport { Templatizer } from './vaadin-grid-templatizer.js';\n/**\n * @polymerMixin\n */\n\nexport const ColumnBaseMixin = superClass => class ColumnBaseMixin extends superClass {\n  static get properties() {\n    return {\n      /**\n       * When set to true, the column is user-resizable.\n       * @default false\n       */\n      resizable: {\n        type: Boolean,\n        value: function () {\n          if (this.localName === 'vaadin-grid-column-group') {\n            return;\n          }\n\n          const parent = this.parentNode;\n\n          if (parent && parent.localName === 'vaadin-grid-column-group') {\n            return parent.resizable || false;\n          } else {\n            return false;\n          }\n        }\n      },\n      _headerTemplate: {\n        type: Object\n      },\n      _footerTemplate: {\n        type: Object\n      },\n\n      /**\n       * When true, the column is frozen. When a column inside of a column group is frozen,\n       * all of the sibling columns inside the group will get frozen also.\n       */\n      frozen: {\n        type: Boolean,\n        value: false\n      },\n\n      /**\n       * When set to true, the cells for this column are hidden.\n       */\n      hidden: {\n        type: Boolean\n      },\n\n      /**\n       * Text content to display in the header cell of the column.\n       */\n      header: {\n        type: String\n      },\n\n      /**\n       * Aligns the columns cell content horizontally.\n       * Supported values: \"start\", \"center\" and \"end\".\n       */\n      textAlign: {\n        type: String\n      },\n      _lastFrozen: {\n        type: Boolean,\n        value: false\n      },\n      _order: Number,\n      _reorderStatus: Boolean,\n      _emptyCells: Array,\n      _headerCell: Object,\n      _footerCell: Object,\n      _grid: Object,\n\n      /**\n       * Custom function for rendering the header content.\n       * Receives two arguments:\n       *\n       * - `root` The header cell content DOM element. Append your content to it.\n       * - `column` The `<vaadin-grid-column>` element.\n       */\n      headerRenderer: Function,\n\n      /**\n       * Custom function for rendering the footer content.\n       * Receives two arguments:\n       *\n       * - `root` The footer cell content DOM element. Append your content to it.\n       * - `column` The `<vaadin-grid-column>` element.\n       */\n      footerRenderer: Function\n    };\n  }\n\n  static get observers() {\n    return ['_widthChanged(width, _headerCell, _footerCell, _cells.*)', '_frozenChanged(frozen, _headerCell, _footerCell, _cells.*)', '_flexGrowChanged(flexGrow, _headerCell, _footerCell, _cells.*)', '_pathOrHeaderChanged(path, header, _headerCell, _footerCell, _cells.*, renderer, headerRenderer, _bodyTemplate, _headerTemplate)', '_textAlignChanged(textAlign, _cells.*, _headerCell, _footerCell)', '_orderChanged(_order, _headerCell, _footerCell, _cells.*)', '_lastFrozenChanged(_lastFrozen)', '_setBodyTemplateOrRenderer(_bodyTemplate, renderer, _cells, _cells.*)', '_setHeaderTemplateOrRenderer(_headerTemplate, headerRenderer, _headerCell)', '_setFooterTemplateOrRenderer(_footerTemplate, footerRenderer, _footerCell)', '_resizableChanged(resizable, _headerCell)', '_reorderStatusChanged(_reorderStatus, _headerCell, _footerCell, _cells.*)', '_hiddenChanged(hidden, _headerCell, _footerCell, _cells.*)'];\n  }\n  /** @protected */\n\n\n  connectedCallback() {\n    super.connectedCallback();\n    this._bodyTemplate && (this._bodyTemplate.templatizer._grid = this._grid);\n    this._headerTemplate && (this._headerTemplate.templatizer._grid = this._grid);\n    this._footerTemplate && (this._footerTemplate.templatizer._grid = this._grid);\n\n    this._templateObserver.flush();\n\n    if (!this._bodyTemplate) {\n      // The observer might not have triggered if the tag is empty. Run manually.\n      this._templateObserver.callback();\n    }\n\n    requestAnimationFrame(() => {\n      this._allCells.forEach(cell => {\n        if (!cell._content.parentNode) {\n          this._grid && this._grid.appendChild(cell._content);\n        }\n      });\n    });\n  }\n  /** @protected */\n\n\n  disconnectedCallback() {\n    super.disconnectedCallback();\n    requestAnimationFrame(() => {\n      if (!this._findHostGrid()) {\n        this._allCells.forEach(cell => {\n          if (cell._content.parentNode) {\n            cell._content.parentNode.removeChild(cell._content);\n          }\n        });\n      }\n    });\n    this._gridValue = undefined;\n  }\n\n  _findHostGrid() {\n    let el = this; // Custom elements extending grid must have a specific localName\n\n    while (el && !/^vaadin.*grid(-pro)?$/.test(el.localName)) {\n      el = el.assignedSlot ? el.assignedSlot.parentNode : el.parentNode;\n    }\n\n    return el || undefined;\n  }\n\n  get _grid() {\n    if (!this._gridValue) {\n      this._gridValue = this._findHostGrid();\n    }\n\n    return this._gridValue;\n  }\n\n  get _allCells() {\n    return [].concat(this._cells || []).concat(this._emptyCells || []).concat(this._headerCell).concat(this._footerCell).filter(cell => cell);\n  }\n\n  constructor() {\n    super();\n    this._templateObserver = new FlattenedNodesObserver(this, info => {\n      this._headerTemplate = this._prepareHeaderTemplate();\n      this._footerTemplate = this._prepareFooterTemplate();\n      this._bodyTemplate = this._prepareBodyTemplate();\n    });\n  }\n\n  _prepareHeaderTemplate() {\n    return this._prepareTemplatizer(this._findTemplate(true) || null, {});\n  }\n\n  _prepareFooterTemplate() {\n    return this._prepareTemplatizer(this._findTemplate(false, true) || null, {});\n  }\n\n  _prepareBodyTemplate() {\n    return this._prepareTemplatizer(this._findTemplate() || null);\n  }\n\n  _prepareTemplatizer(template, instanceProps) {\n    if (template && !template.templatizer) {\n      const templatizer = new Templatizer();\n      templatizer._grid = this._grid;\n      templatizer.dataHost = this.dataHost;\n      templatizer._instanceProps = instanceProps || templatizer._instanceProps;\n      templatizer.template = template;\n      template.templatizer = templatizer;\n    }\n\n    return template;\n  }\n\n  _renderHeaderAndFooter() {\n    if (this.headerRenderer) {\n      this.__runRenderer(this.headerRenderer, this._headerCell);\n    }\n\n    if (this.footerRenderer) {\n      this.__runRenderer(this.footerRenderer, this._footerCell);\n    }\n  }\n\n  __runRenderer(renderer, cell, rowData) {\n    const args = [cell._content, this];\n\n    if (rowData && rowData.item) {\n      args.push(rowData);\n    }\n\n    renderer.apply(this, args);\n  }\n\n  __setColumnTemplateOrRenderer(template, renderer, cells) {\n    if (template && renderer) {\n      throw new Error('You should only use either a renderer or a template');\n    }\n\n    cells.forEach(cell => {\n      const model = this._grid.__getRowModel(cell.parentElement);\n\n      if (renderer) {\n        cell._renderer = renderer;\n\n        if (model.item || renderer === this.headerRenderer || renderer === this.footerRenderer) {\n          this.__runRenderer(renderer, cell, model);\n        }\n      } else if (cell._template !== template) {\n        cell._template = template;\n        cell._content.innerHTML = '';\n        template.templatizer._grid = template.templatizer._grid || this._grid;\n        const inst = template.templatizer.createInstance();\n\n        cell._content.appendChild(inst.root);\n\n        cell._instance = inst;\n\n        if (model.item) {\n          cell._instance.setProperties(model);\n        }\n      }\n    });\n  }\n\n  _setBodyTemplateOrRenderer(template, renderer, cells, splices) {\n    if ((template || renderer) && cells) {\n      this.__setColumnTemplateOrRenderer(template, renderer, cells);\n    }\n  }\n\n  _setHeaderTemplateOrRenderer(headerTemplate, headerRenderer, headerCell) {\n    if ((headerTemplate || headerRenderer) && headerCell) {\n      this.__setColumnTemplateOrRenderer(headerTemplate, headerRenderer, [headerCell]);\n    }\n  }\n\n  _setFooterTemplateOrRenderer(footerTemplate, footerRenderer, footerCell) {\n    if ((footerTemplate || footerRenderer) && footerCell) {\n      this.__setColumnTemplateOrRenderer(footerTemplate, footerRenderer, [footerCell]);\n\n      this._grid.__updateHeaderFooterRowVisibility(footerCell.parentElement);\n    }\n  }\n\n  _selectFirstTemplate(header = false, footer = false) {\n    return FlattenedNodesObserver.getFlattenedNodes(this).filter(node => node.localName === 'template' && node.classList.contains('header') === header && node.classList.contains('footer') === footer)[0];\n  }\n\n  _findTemplate(header, footer) {\n    const template = this._selectFirstTemplate(header, footer);\n\n    if (template) {\n      if (this.dataHost) {\n        // set dataHost to the context where template has been defined\n        template._rootDataHost = this.dataHost._rootDataHost || this.dataHost;\n      }\n    }\n\n    return template;\n  }\n\n  _flexGrowChanged(flexGrow, headerCell, footerCell, cells) {\n    if (this.parentElement && this.parentElement._columnPropChanged) {\n      this.parentElement._columnPropChanged('flexGrow');\n    }\n\n    this._allCells.forEach(cell => cell.style.flexGrow = flexGrow);\n  }\n\n  _orderChanged(order, headerCell, footerCell, cells) {\n    this._allCells.forEach(cell => cell.style.order = order);\n  }\n\n  _widthChanged(width, headerCell, footerCell, cells) {\n    if (this.parentElement && this.parentElement._columnPropChanged) {\n      this.parentElement._columnPropChanged('width');\n    }\n\n    this._allCells.forEach(cell => cell.style.width = width); // Force a reflow to workaround browser issues causing double scrollbars to grid\n    // https://github.com/vaadin/vaadin-grid/issues/1586\n\n\n    if (this._grid && this._grid.__forceReflow) {\n      this._grid.__forceReflow();\n    }\n  }\n\n  _frozenChanged(frozen, headerCell, footerCell, cells) {\n    if (this.parentElement && this.parentElement._columnPropChanged) {\n      this.parentElement._columnPropChanged('frozen', frozen);\n    }\n\n    this._allCells.forEach(cell => this._toggleAttribute('frozen', frozen, cell));\n\n    this._grid && this._grid._frozenCellsChanged && this._grid._frozenCellsChanged();\n  }\n\n  _lastFrozenChanged(lastFrozen) {\n    this._allCells.forEach(cell => this._toggleAttribute('last-frozen', lastFrozen, cell));\n\n    if (this.parentElement && this.parentElement._columnPropChanged) {\n      this.parentElement._lastFrozen = lastFrozen;\n    }\n  }\n\n  _pathOrHeaderChanged(path, header, headerCell, footerCell, cells, renderer, headerRenderer, bodyTemplate, headerTemplate) {\n    const hasHeaderText = header !== undefined;\n\n    if (!headerRenderer && !headerTemplate && hasHeaderText && headerCell) {\n      this.__setTextContent(headerCell._content, header);\n    }\n\n    if (path && cells.value) {\n      if (!renderer && !bodyTemplate) {\n        const pathRenderer = (root, owner, {\n          item\n        }) => this.__setTextContent(root, this.get(path, item));\n\n        this.__setColumnTemplateOrRenderer(undefined, pathRenderer, cells.value);\n      }\n\n      if (!headerRenderer && !headerTemplate && !hasHeaderText && headerCell && header !== null) {\n        this.__setTextContent(headerCell._content, this._generateHeader(path));\n      }\n    }\n\n    if (headerCell) {\n      this._grid.__updateHeaderFooterRowVisibility(headerCell.parentElement);\n    }\n  }\n\n  __setTextContent(node, textContent) {\n    node.textContent !== textContent && (node.textContent = textContent);\n  }\n\n  _generateHeader(path) {\n    return path.substr(path.lastIndexOf('.') + 1).replace(/([A-Z])/g, '-$1').toLowerCase().replace(/-/g, ' ').replace(/^./, match => match.toUpperCase());\n  }\n\n  _toggleAttribute(name, bool, node) {\n    if (node.hasAttribute(name) === !bool) {\n      if (bool) {\n        node.setAttribute(name, '');\n      } else {\n        node.removeAttribute(name);\n      }\n    }\n  }\n\n  _reorderStatusChanged(reorderStatus, headerCell, footerCell, cells) {\n    this._allCells.forEach(cell => cell.setAttribute('reorder-status', reorderStatus));\n  }\n\n  _resizableChanged(resizable, headerCell) {\n    if (resizable === undefined || headerCell === undefined) {\n      return;\n    }\n\n    if (headerCell) {\n      [headerCell].concat(this._emptyCells).forEach(cell => {\n        if (cell) {\n          const existingHandle = cell.querySelector('[part~=\"resize-handle\"]');\n\n          if (existingHandle) {\n            cell.removeChild(existingHandle);\n          }\n\n          if (resizable) {\n            const handle = document.createElement('div');\n            handle.setAttribute('part', 'resize-handle');\n            cell.appendChild(handle);\n          }\n        }\n      });\n    }\n  }\n\n  _textAlignChanged(textAlign, _cells, _headerCell, _footerCell) {\n    if (textAlign === undefined) {\n      return;\n    }\n\n    if (['start', 'end', 'center'].indexOf(textAlign) === -1) {\n      console.warn('textAlign can only be set as \"start\", \"end\" or \"center\"');\n      return;\n    }\n\n    let textAlignFallback;\n\n    if (getComputedStyle(this._grid).direction === 'ltr') {\n      if (textAlign === 'start') {\n        textAlignFallback = 'left';\n      } else if (textAlign === 'end') {\n        textAlignFallback = 'right';\n      }\n    } else {\n      if (textAlign === 'start') {\n        textAlignFallback = 'right';\n      } else if (textAlign === 'end') {\n        textAlignFallback = 'left';\n      }\n    }\n\n    this._allCells.forEach(cell => {\n      cell._content.style.textAlign = textAlign;\n\n      if (getComputedStyle(cell._content).textAlign !== textAlign) {\n        cell._content.style.textAlign = textAlignFallback;\n      }\n    });\n  }\n\n  _hiddenChanged(hidden, headerCell, footerCell, cells) {\n    if (this.parentElement && this.parentElement._columnPropChanged) {\n      this.parentElement._columnPropChanged('hidden', hidden);\n    }\n\n    this._allCells.forEach(cell => this._toggleAttribute('hidden', hidden, cell));\n\n    if (!!hidden !== !!this._previousHidden && this._grid) {\n      this._grid._updateLastFrozen && this._grid._updateLastFrozen();\n      this._grid.notifyResize && this._grid.notifyResize();\n      this._grid._resetKeyboardNavigation && this._grid._resetKeyboardNavigation();\n    }\n\n    this._previousHidden = hidden;\n  }\n\n};\n/**\n * A `<vaadin-grid-column>` is used to configure how a column in `<vaadin-grid>`\n * should look like.\n *\n * See `<vaadin-grid>` documentation and demos for instructions and examples on how\n * to configure the `<vaadin-grid-column>`.\n * ```\n *\n * @memberof Vaadin\n * @mixes Vaadin.Grid.ColumnBaseMixin\n */\n\nclass GridColumnElement extends ColumnBaseMixin(PolymerElement) {\n  static get is() {\n    return 'vaadin-grid-column';\n  }\n\n  static get properties() {\n    return {\n      /**\n       * Width of the cells for this column.\n       */\n      width: {\n        type: String,\n        value: '100px'\n      },\n\n      /**\n       * Flex grow ratio for the cell widths. When set to 0, cell width is fixed.\n       */\n      flexGrow: {\n        type: Number,\n        value: 1\n      },\n\n      /**\n       * Custom function for rendering the cell content.\n       * Receives three arguments:\n       *\n       * - `root` The cell content DOM element. Append your content to it.\n       * - `column` The `<vaadin-grid-column>` element.\n       * - `rowData` The object with the properties related with\n       *   the rendered item, contains:\n       *   - `rowData.index` The index of the item.\n       *   - `rowData.item` The item.\n       *   - `rowData.expanded` Sublevel toggle state.\n       *   - `rowData.level` Level of the tree represented with a horizontal offset of the toggle button.\n       *   - `rowData.selected` Selected state.\n       */\n      renderer: Function,\n\n      /**\n       * Path to an item sub-property whose value gets displayed in the column body cells.\n       * The property name is also shown in the column header if an explicit header or renderer isn't defined.\n       */\n      path: {\n        type: String\n      },\n\n      /**\n       * Automatically sets the width of the column based on the column contents when this is set to `true`.\n       *\n       * For performance reasons the column width is calculated automatically only once when the grid items\n       * are rendered for the first time and the calculation only considers the rows which are currently\n       * rendered in DOM (a bit more than what is currently visible). If the grid is scrolled, or the cell\n       * content changes, the column width might not match the contents anymore.\n       *\n       * Hidden columns are ignored in the calculation and their widths are not automatically updated when\n       * you show a column that was initially hidden.\n       *\n       * You can manually trigger the auto sizing behavior again by calling `grid.recalculateColumnWidths()`.\n       *\n       * The column width may still grow larger when `flexGrow` is not 0.\n       */\n      autoWidth: {\n        type: Boolean,\n        value: false\n      },\n      _bodyTemplate: {\n        type: Object\n      },\n      _cells: Array\n    };\n  }\n\n}\n\ncustomElements.define(GridColumnElement.is, GridColumnElement);\nexport { GridColumnElement };","/**\n@license\nCopyright (c) 2017 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\nimport { PolymerElement } from \"/polymer/polymer-element.js\";\nimport { html } from \"/polymer/lib/utils/html-tag.js\";\n/**\n * This Element is used internally by vaadin-grid.\n *\n * @private\n */\n\nclass GridOuterScrollerElement extends class extends PolymerElement {} {\n  static get template() {\n    return html`\n    <style>\n      :host {\n        display: block;\n        height: 100%;\n        width: 100%;\n        position: absolute;\n        top: 0;\n        box-sizing: border-box;\n        overflow: auto;\n      }\n\n      :host([passthrough]) {\n        pointer-events: none;\n      }\n    </style>\n\n    <slot></slot>\n`;\n  }\n\n  static get is() {\n    return 'vaadin-grid-outer-scroller';\n  }\n\n  static get properties() {\n    return {\n      scrollTarget: {\n        type: Object\n      },\n      scrollHandler: {\n        type: Object\n      },\n      passthrough: {\n        type: Boolean,\n        reflectToAttribute: true,\n        value: true\n      },\n      outerScrolling: Boolean,\n      noScrollbars: Boolean,\n      _touchDevice: Boolean\n    };\n  }\n\n  ready() {\n    super.ready();\n    this.addEventListener('scroll', () => this._syncScrollTarget());\n    this.parentElement.addEventListener('mousemove', this._onMouseMove.bind(this)); // for some reason scroll bars are hidden in iOS if this style is\n    // added in stylesheets or before attaching.\n\n    this.style.webkitOverflowScrolling = 'touch';\n    this.addEventListener('mousedown', _ => this.outerScrolling = true);\n    this.addEventListener('mouseup', _ => {\n      this.outerScrolling = false;\n\n      this.scrollHandler._scrollHandler();\n    });\n  }\n\n  _onMouseMove(e) {\n    // Ignore mousemove events on touch devices\n    if (!this._touchDevice) {\n      if (this.noScrollbars && this.parentElement.hasAttribute('scroll-period')) {\n        this.passthrough = e.offsetY <= this.clientHeight - 20 && e.offsetX <= this.clientWidth - 20;\n      } else {\n        this.passthrough = e.offsetY <= this.clientHeight && e.offsetX <= this.clientWidth;\n      }\n    }\n  }\n\n  syncOuterScroller() {\n    this.scrollTop = this.scrollTarget.scrollTop;\n    this.scrollLeft = this.scrollTarget.scrollLeft;\n  }\n\n  _syncScrollTarget() {\n    requestAnimationFrame(() => {\n      this.scrollTarget.scrollTop = this.scrollTop;\n      this.scrollTarget.scrollLeft = this.scrollLeft;\n\n      this.scrollHandler._scrollHandler();\n    });\n  }\n\n}\n\ncustomElements.define(GridOuterScrollerElement.is, GridOuterScrollerElement);","/**\n@license\nCopyright (c) 2017 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\nimport \"/polymer/lib/elements/dom-module.js\";\nimport { html } from \"/polymer/lib/utils/html-tag.js\";\nconst VaadinGridStyles = document.createElement('dom-module'); // NOTE(web-padawan): https://github.com/vaadin/vaadin-grid/issues/1514\n\nVaadinGridStyles.appendChild(html`\n  <style>\n    @keyframes vaadin-grid-appear {\n      to {\n        opacity: 1;\n      }\n    }\n\n    :host {\n      display: block;\n      animation: 1ms vaadin-grid-appear;\n      height: 400px;\n      flex: 1 1 auto;\n      align-self: stretch;\n      position: relative;\n    }\n\n    :host([hidden]) {\n      display: none !important;\n    }\n\n    #scroller {\n      display: block;\n      transform: translateY(0);\n      width: auto;\n      height: auto;\n      position: absolute;\n      top: 0;\n      right: 0;\n      bottom: 0;\n      left: 0;\n    }\n\n    :host([height-by-rows]) {\n      height: auto;\n      align-self: flex-start;\n      flex-grow: 0;\n      width: 100%;\n    }\n\n    :host([height-by-rows]) #scroller {\n      width: 100%;\n      height: 100%;\n      position: relative;\n    }\n\n    #table {\n      display: block;\n      width: 100%;\n      height: 100%;\n      overflow: auto;\n      z-index: -2;\n      position: relative;\n      outline: none;\n    }\n\n    #header {\n      display: block;\n      position: absolute;\n      top: 0;\n      width: 100%;\n    }\n\n    th {\n      text-align: inherit;\n    }\n\n    /* Safari doesn't work with \"inherit\" */\n    [safari] th {\n      text-align: initial;\n    }\n\n    #footer {\n      display: block;\n      position: absolute;\n      bottom: 0;\n      width: 100%;\n    }\n\n    #items {\n      display: block;\n      width: 100%;\n      position: relative;\n      z-index: -1;\n    }\n\n    #items,\n    #outersizer,\n    #fixedsizer {\n      border-top: 0 solid transparent;\n      border-bottom: 0 solid transparent;\n    }\n\n    [part~=\"row\"] {\n      display: flex;\n      width: 100%;\n      box-sizing: border-box;\n      margin: 0;\n    }\n\n    [part~=\"row\"][loading] [part~=\"body-cell\"] ::slotted(vaadin-grid-cell-content) {\n      opacity: 0;\n    }\n\n    #items [part~=\"row\"] {\n      position: absolute;\n    }\n\n    #items [part~=\"row\"]:empty {\n      height: 1em;\n    }\n\n    [part~=\"cell\"]:not([part~=\"details-cell\"]) {\n      flex-shrink: 0;\n      flex-grow: 1;\n      box-sizing: border-box;\n      display: flex;\n      width: 100%;\n      position: relative;\n      align-items: center;\n      padding: 0;\n      white-space: nowrap;\n    }\n\n    [part~=\"details-cell\"] {\n      position: absolute;\n      bottom: 0;\n      width: 100%;\n      box-sizing: border-box;\n      padding: 0;\n    }\n\n    [part~=\"cell\"] ::slotted(vaadin-grid-cell-content) {\n      display: block;\n      width: 100%;\n      box-sizing: border-box;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n\n    [hidden] {\n      display: none !important;\n    }\n\n    [frozen] {\n      z-index: 2;\n      will-change: transform;\n    }\n\n    #outerscroller {\n      /* Needed (at least) for Android Chrome */\n      z-index: 0;\n    }\n\n    #scroller:not([safari]) #outerscroller {\n      /* Needed for Android Chrome (#1020). Can't be applied to Safari\n      since it would re-introduce the sub-pixel overflow bug (#853) */\n      will-change: transform;\n    }\n\n    [no-scrollbars]:not([safari]):not([firefox]) #outerscroller,\n    [no-scrollbars][safari] #table,\n    [no-scrollbars][firefox] #table {\n      overflow: hidden;\n    }\n\n    [no-scrollbars]:not([safari]):not([firefox]) #outerscroller {\n      pointer-events: none;\n    }\n\n    /* Reordering styles */\n    :host([reordering]) [part~=\"cell\"] ::slotted(vaadin-grid-cell-content),\n    :host([reordering]) [part~=\"resize-handle\"],\n    #scroller[no-content-pointer-events] [part~=\"cell\"] ::slotted(vaadin-grid-cell-content) {\n      pointer-events: none;\n    }\n\n    [part~=\"reorder-ghost\"] {\n      visibility: hidden;\n      position: fixed;\n      pointer-events: none;\n      opacity: 0.5;\n\n      /* Prevent overflowing the grid in Firefox */\n      top: 0;\n      left: 0;\n    }\n\n    :host([reordering]) {\n      -moz-user-select: none;\n      -webkit-user-select: none;\n      user-select: none;\n    }\n\n    #scroller[ie][column-reordering-allowed] [part~=\"header-cell\"] {\n      -ms-user-select: none;\n    }\n\n    :host([reordering]) #outerscroller {\n      -webkit-overflow-scrolling: auto !important;\n    }\n\n    /* Resizing styles */\n    [part~=\"resize-handle\"] {\n      position: absolute;\n      top: 0;\n      right: 0;\n      height: 100%;\n      cursor: col-resize;\n      z-index: 1;\n    }\n\n    [part~=\"resize-handle\"]::before {\n      position: absolute;\n      content: \"\";\n      height: 100%;\n      width: 35px;\n      transform: translateX(-50%);\n    }\n\n    [last-column] [part~=\"resize-handle\"]::before,\n    [last-frozen] [part~=\"resize-handle\"]::before {\n      width: 18px;\n      transform: none;\n      right: 0;\n    }\n\n    #scroller[column-resizing] {\n      -ms-user-select: none;\n      -moz-user-select: none;\n      -webkit-user-select: none;\n      user-select: none;\n    }\n\n    /* Sizer styles */\n    .sizer {\n      display: flex;\n      position: relative;\n      width: 100%;\n      visibility: hidden;\n    }\n\n    .sizer [part~=\"details-cell\"] {\n      display: none !important;\n    }\n\n    .sizer [part~=\"cell\"][hidden] {\n      display: none !important;\n    }\n\n    .sizer [part~=\"cell\"] {\n      display: block;\n      flex-shrink: 0;\n      line-height: 0;\n      margin-top: -1em;\n      height: 0 !important;\n      min-height: 0 !important;\n      max-height: 0 !important;\n      padding: 0 !important;\n    }\n\n    .sizer [part~=\"cell\"]::before {\n      content: \"-\";\n    }\n\n    .sizer [part~=\"cell\"] ::slotted(vaadin-grid-cell-content) {\n      display: none !important;\n    }\n\n    /* Fixed mode (Tablet Edge) */\n    #fixedsizer {\n      position: absolute;\n    }\n\n    :not([edge][no-scrollbars]) #fixedsizer {\n      display: none;\n    }\n\n    [edge][no-scrollbars] {\n      /* Any value other than ‘none’ for the transform results in the creation of both a stacking context and\n      a containing block. The object acts as a containing block for fixed positioned descendants. */\n      transform: translateZ(0);\n      overflow: hidden;\n    }\n\n    [edge][no-scrollbars] #header,\n    [edge][no-scrollbars] #footer {\n      position: fixed;\n    }\n\n    [edge][no-scrollbars] #items {\n      position: fixed;\n      width: 100%;\n      will-change: transform;\n    }\n  </style>\n`);\nconst safari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\nconst firefox = navigator.userAgent.toLowerCase().indexOf('firefox') > -1;\n\nif (safari || firefox) {\n  const scrollingStyles = document.createElement('style');\n  scrollingStyles.textContent = `\n    [scrolling][safari] #outerscroller,\n    [scrolling][firefox] #outerscroller {\n      pointer-events: auto;\n    }\n\n    [ios] #outerscroller {\n      pointer-events: auto;\n      z-index: -3;\n    }\n\n    [ios][scrolling] #outerscroller {\n      z-index: 0;\n    }\n\n    [ios] [frozen] {\n      will-change: auto;\n    }\n  `;\n  VaadinGridStyles.querySelector('template').content.appendChild(scrollingStyles);\n}\n\nVaadinGridStyles.register('vaadin-grid-styles');","/**\n@license\nCopyright (c) 2017 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\nimport \"/polymer/polymer-legacy.js\";\nimport { ThemableMixin } from \"../../vaadin-themable-mixin/vaadin-themable-mixin.js\";\nimport { ScrollerElement } from './vaadin-grid-scroller.js';\nimport { A11yMixin } from './vaadin-grid-a11y-mixin.js';\nimport { ActiveItemMixin } from './vaadin-grid-active-item-mixin.js';\nimport { ArrayDataProviderMixin } from './vaadin-grid-array-data-provider-mixin.js';\nimport { ColumnResizingMixin } from './vaadin-grid-column-resizing-mixin.js';\nimport { DataProviderMixin } from './vaadin-grid-data-provider-mixin.js';\nimport { DynamicColumnsMixin } from './vaadin-grid-dynamic-columns-mixin.js';\nimport { EventContextMixin } from './vaadin-grid-event-context-mixin.js';\nimport { FilterMixin } from './vaadin-grid-filter-mixin.js';\nimport { RowDetailsMixin } from './vaadin-grid-row-details-mixin.js';\nimport { ScrollMixin } from './vaadin-grid-scroll-mixin.js';\nimport { SelectionMixin } from './vaadin-grid-selection-mixin.js';\nimport { SortMixin } from './vaadin-grid-sort-mixin.js';\nimport { StylingMixin } from './vaadin-grid-styling-mixin.js';\nimport { DragAndDropMixin } from './vaadin-grid-drag-and-drop-mixin.js';\nimport { KeyboardNavigationMixin } from './vaadin-grid-keyboard-navigation-mixin.js';\nimport { ColumnReorderingMixin } from './vaadin-grid-column-reordering-mixin.js';\nimport './vaadin-grid-column.js';\nimport './vaadin-grid-outer-scroller.js';\nimport './vaadin-grid-styles.js';\nimport { ElementMixin } from \"../../vaadin-element-mixin/vaadin-element-mixin.js\";\nimport { html } from \"/polymer/lib/utils/html-tag.js\";\nimport { beforeNextRender, afterNextRender } from \"/polymer/lib/utils/render-status.js\";\nimport { Debouncer } from \"/polymer/lib/utils/debounce.js\";\nimport { timeOut, animationFrame } from \"/polymer/lib/utils/async.js\";\n\nconst TOUCH_DEVICE = (() => {\n  try {\n    document.createEvent('TouchEvent');\n    return true;\n  } catch (e) {\n    return false;\n  }\n})();\n/**\n *\n * `<vaadin-grid>` is a free, high quality data grid / data table Web Component. The content of the\n * the grid can be populated in two ways: imperatively by using renderer callback function and\n * declaratively by using Polymer's Templates.\n *\n * ### Quick Start\n *\n * Start with an assigning an array to the [`items`](#/elements/vaadin-grid#property-items) property to visualize your data.\n *\n * Use the [`<vaadin-grid-column>`](#/elements/vaadin-grid-column) element to configure the grid columns. Set `path` and `header`\n * shorthand properties for the columns to define what gets rendered in the cells of the column.\n *\n * #### Example:\n * ```html\n * <vaadin-grid>\n *   <vaadin-grid-column path=\"name.first\" header=\"First name\"></vaadin-grid-column>\n *   <vaadin-grid-column path=\"name.last\" header=\"Last name\"></vaadin-grid-column>\n *   <vaadin-grid-column path=\"email\"></vaadin-grid-column>\n * </vaadin-grid>\n * ```\n *\n * For custom content `vaadin-grid-column` element provides you with three types of `renderer` callback functions: `headerRenderer`,\n * `renderer` and `footerRenderer`.\n *\n * Each of those renderer functions provides `root`, `column`, `rowData` arguments when applicable.\n * Generate DOM content, append it to the `root` element and control the state\n * of the host element by accessing `column`. Before generating new content,\n * users are able to check if there is already content in `root` for reusing it.\n *\n * Renderers are called on initialization of new column cells and each time the\n * related row data is updated. DOM generated during the renderer call can be reused\n * in the next renderer call and will be provided with the `root` argument.\n * On first call it will be empty.\n *\n * #### Example:\n * ```html\n * <vaadin-grid>\n *   <vaadin-grid-column></vaadin-grid-column>\n *   <vaadin-grid-column></vaadin-grid-column>\n *   <vaadin-grid-column></vaadin-grid-column>\n * </vaadin-grid>\n * ```\n * ```js\n * const grid = document.querySelector('vaadin-grid');\n * grid.items = [{'name': 'John', 'surname': 'Lennon', 'role': 'singer'},\n *               {'name': 'Ringo', 'surname': 'Starr', 'role': 'drums'}];\n *\n * const columns = grid.querySelectorAll('vaadin-grid-column');\n *\n * columns[0].headerRenderer = function(root) {\n *   root.textContent = 'Name';\n * };\n * columns[0].renderer = function(root, column, rowData) {\n *   root.textContent = rowData.item.name;\n * };\n *\n * columns[1].headerRenderer = function(root) {\n *   root.textContent = 'Surname';\n * };\n * columns[1].renderer = function(root, column, rowData) {\n *   root.textContent = rowData.item.surname;\n * };\n *\n * columns[2].headerRenderer = function(root) {\n *   root.textContent = 'Role';\n * };\n * columns[2].renderer = function(root, column, rowData) {\n *   root.textContent = rowData.item.role;\n * };\n * ```\n *\n * Alternatively, the content can be provided with Polymer's Templates:\n *\n * #### Example:\n * ```html\n * <vaadin-grid items='[{\"name\": \"John\", \"surname\": \"Lennon\", \"role\": \"singer\"},\n * {\"name\": \"Ringo\", \"surname\": \"Starr\", \"role\": \"drums\"}]'>\n *   <vaadin-grid-column>\n *     <template class=\"header\">Name</template>\n *     <template>[[item.name]]</template>\n *   </vaadin-grid-column>\n *   <vaadin-grid-column>\n *     <template class=\"header\">Surname</template>\n *     <template>[[item.surname]]</template>\n *   </vaadin-grid-column>\n *   <vaadin-grid-column>\n *     <template class=\"header\">Role</template>\n *     <template>[[item.role]]</template>\n *   </vaadin-grid-column>\n * </vaadin-grid>\n * ```\n *\n * The following helper elements can be used for further customization:\n * - [`<vaadin-grid-column-group>`](#/elements/vaadin-grid-column-group)\n * - [`<vaadin-grid-filter>`](#/elements/vaadin-grid-filter)\n * - [`<vaadin-grid-sorter>`](#/elements/vaadin-grid-sorter)\n * - [`<vaadin-grid-selection-column>`](#/elements/vaadin-grid-selection-column)\n * - [`<vaadin-grid-tree-toggle>`](#/elements/vaadin-grid-tree-toggle)\n *\n * __Note that the helper elements must be explicitly imported.__\n * If you want to import everything at once you can use the `all-imports.html` bundle.\n *\n * A column template can be decorated with one the following class names to specify its purpose\n * - `header`: Marks a header template\n * - `footer`: Marks a footer template\n * - `row-details`: Marks a row details template\n *\n * The following built-in template variables can be bound to inside the column templates:\n * - `[[index]]`: Number representing the row index\n * - `[[item]]` and it's sub-properties: Data object (provided by a data provider / items array)\n * - `{{selected}}`: True if the item is selected (can be two-way bound)\n * - `{{detailsOpened}}`: True if the item has row details opened (can be two-way bound)\n * - `{{expanded}}`: True if the item has tree sublevel expanded (can be two-way bound)\n * - `[[level]]`: Number of the tree sublevel of the item, first level-items have 0\n *\n * ### Lazy Loading with Function Data Provider\n *\n * In addition to assigning an array to the items property, you can alternatively\n * provide the `<vaadin-grid>` data through the\n * [`dataProvider`](#/elements/vaadin-grid#property-dataProvider) function property.\n * The `<vaadin-grid>` calls this function lazily, only when it needs more data\n * to be displayed.\n *\n * See the [`dataProvider`](#/elements/vaadin-grid#property-dataProvider) in\n * the API reference below for the detailed data provider arguments description,\n * and the “Assigning Data” page in the demos.\n *\n * __Note that expanding the tree grid's item will trigger a call to the `dataProvider`.__\n *\n * __Also, note that when using function data providers, the total number of items\n * needs to be set manually. The total number of items can be returned\n * in the second argument of the data provider callback:__\n *\n * ```javascript\n * grid.dataProvider = function(params, callback) {\n *   var url = 'https://api.example/data' +\n *       '?page=' + params.page +        // the requested page index\n *       '&per_page=' + params.pageSize; // number of items on the page\n *   var xhr = new XMLHttpRequest();\n *   xhr.onload = function() {\n *     var response = JSON.parse(xhr.responseText);\n *     callback(\n *       response.employees, // requested page of items\n *       response.totalSize  // total number of items\n *     );\n *   };\n *   xhr.open('GET', url, true);\n *   xhr.send();\n * };\n * ```\n *\n * __Alternatively, you can use the `size` property to set the total number of items:__\n *\n * ```javascript\n * grid.size = 200; // The total number of items\n * grid.dataProvider = function(params, callback) {\n *   var url = 'https://api.example/data' +\n *       '?page=' + params.page +        // the requested page index\n *       '&per_page=' + params.pageSize; // number of items on the page\n *   var xhr = new XMLHttpRequest();\n *   xhr.onload = function() {\n *     var response = JSON.parse(xhr.responseText);\n *     callback(response.employees);\n *   };\n *   xhr.open('GET', url, true);\n *   xhr.send();\n * };\n * ```\n *\n * ### Styling\n *\n * The following shadow DOM parts are available for styling:\n *\n * Part name | Description\n * ----------------|----------------\n * `row` | Row in the internal table\n * `cell` | Cell in the internal table\n * `header-cell` | Header cell in the internal table\n * `body-cell` | Body cell in the internal table\n * `footer-cell` | Footer cell in the internal table\n * `details-cell` | Row details cell in the internal table\n * `resize-handle` | Handle for resizing the columns\n * `reorder-ghost` | Ghost element of the header cell being dragged\n *\n * The following state attributes are available for styling:\n *\n * Attribute    | Description | Part name\n * -------------|-------------|------------\n * `loading` | Set when the grid is loading data from data provider | :host\n * `interacting` | Keyboard navigation in interaction mode | :host\n * `navigating` | Keyboard navigation in navigation mode | :host\n * `overflow` | Set when rows are overflowing the grid viewport. Possible values: `top`, `bottom`, `left`, `right` | :host\n * `reordering` | Set when the grid's columns are being reordered | :host\n * `dragover` | Set when the grid (not a specific row) is dragged over | :host\n * `dragging-rows` : Set when grid rows are dragged  | :host\n * `reorder-status` | Reflects the status of a cell while columns are being reordered | cell\n * `frozen` | Frozen cell | cell\n * `last-frozen` | Last frozen cell | cell\n* * `first-column` | First visible cell on a row | cell\n * `last-column` | Last visible cell on a row | cell\n * `selected` | Selected row | row\n * `expanded` | Expanded row | row\n * `details-opened` | Row with details open | row\n * `loading` | Row that is waiting for data from data provider | row\n * `odd` | Odd row | row\n * `first` | The first body row | row\n * `dragstart` | Set for one frame when drag of a row is starting. The value is a number when multiple rows are dragged | row\n * `dragover` | Set when the row is dragged over | row\n * `drag-disabled` | Set to a row that isn't available for dragging | row\n * `drop-disabled` | Set to a row that can't be dropped on top of | row\n *\n * See [ThemableMixin – how to apply styles for shadow parts](https://github.com/vaadin/vaadin-themable-mixin/wiki)\n *\n * @memberof Vaadin\n * @mixes Vaadin.ThemableMixin\n * @mixes Vaadin.Grid.A11yMixin\n * @mixes Vaadin.Grid.ActiveItemMixin\n * @mixes Vaadin.Grid.ArrayDataProviderMixin\n * @mixes Vaadin.Grid.ColumnResizingMixin\n * @mixes Vaadin.Grid.DataProviderMixin\n * @mixes Vaadin.Grid.DynamicColumnsMixin\n * @mixes Vaadin.Grid.FilterMixin\n * @mixes Vaadin.Grid.RowDetailsMixin\n * @mixes Vaadin.Grid.ScrollMixin\n * @mixes Vaadin.Grid.SelectionMixin\n * @mixes Vaadin.Grid.SortMixin\n * @mixes Vaadin.Grid.KeyboardNavigationMixin\n * @mixes Vaadin.Grid.ColumnReorderingMixin\n * @mixes Vaadin.Grid.EventContextMixin\n * @mixes Vaadin.Grid.StylingMixin\n * @mixes Vaadin.Grid.DragAndDropMixin\n * @demo demo/index.html\n */\n\n\nclass GridElement extends ElementMixin(ThemableMixin(DataProviderMixin(ArrayDataProviderMixin(DynamicColumnsMixin(ActiveItemMixin(ScrollMixin(SelectionMixin(SortMixin(RowDetailsMixin(KeyboardNavigationMixin(A11yMixin(FilterMixin(ColumnReorderingMixin(ColumnResizingMixin(EventContextMixin(DragAndDropMixin(StylingMixin(ScrollerElement)))))))))))))))))) {\n  static get template() {\n    return html`\n    <style include=\"vaadin-grid-styles\"></style>\n\n    <div id=\"scroller\" no-scrollbars\\$=\"[[!_scrollbarWidth]]\" wheel-scrolling\\$=\"[[_wheelScrolling]]\" safari\\$=\"[[_safari]]\" ios\\$=\"[[_ios]]\" loading\\$=\"[[loading]]\" edge\\$=\"[[_edge]]\" firefox\\$=\"[[_firefox]]\" ie\\$=\"[[_ie]]\" column-reordering-allowed\\$=\"[[columnReorderingAllowed]]\">\n\n      <table id=\"table\" role=\"grid\" aria-multiselectable=\"true\" tabindex=\"0\">\n        <caption id=\"fixedsizer\" class=\"sizer\" part=\"row\"></caption>\n        <thead id=\"header\" role=\"rowgroup\"></thead>\n        <tbody id=\"items\" role=\"rowgroup\"></tbody>\n        <tfoot id=\"footer\" role=\"rowgroup\"></tfoot>\n      </table>\n\n      <div part=\"reorder-ghost\"></div>\n      <vaadin-grid-outer-scroller id=\"outerscroller\" _touch-device=\"[[_touchDevice]]\" scroll-target=\"[[scrollTarget]]\" scroll-handler=\"[[_this]]\" no-scrollbars=\"[[!_scrollbarWidth]]\">\n        <div id=\"outersizer\" class=\"sizer\" part=\"row\"></div>\n      </vaadin-grid-outer-scroller>\n    </div>\n\n    <!-- The template needs at least one slot or else shady doesn't distribute -->\n    <slot name=\"nodistribute\"></slot>\n\n    <div id=\"focusexit\" tabindex=\"0\"></div>\n`;\n  }\n\n  static get is() {\n    return 'vaadin-grid';\n  }\n\n  static get version() {\n    return '5.4.12';\n  }\n\n  static get observers() {\n    return ['_columnTreeChanged(_columnTree, _columnTree.*)'];\n  }\n\n  static get properties() {\n    return {\n      _this: {\n        type: Object,\n        value: function () {\n          return this;\n        }\n      },\n      _safari: {\n        type: Boolean,\n        value: /^((?!chrome|android).)*safari/i.test(navigator.userAgent)\n      },\n      _ios: {\n        type: Boolean,\n        value: /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream || navigator.platform === 'MacIntel' && navigator.maxTouchPoints > 1\n      },\n      _edge: {\n        type: Boolean,\n        value: typeof CSS !== 'undefined' && CSS.supports('(-ms-ime-align:auto)')\n      },\n      _ie: {\n        type: Boolean,\n        value: !!(navigator.userAgent.match(/Trident/) && !navigator.userAgent.match(/MSIE/))\n      },\n      _firefox: {\n        type: Boolean,\n        value: navigator.userAgent.toLowerCase().indexOf('firefox') > -1\n      },\n      _android: {\n        type: Boolean,\n        value: /android/i.test(navigator.userAgent)\n      },\n      _touchDevice: {\n        type: Boolean,\n        value: TOUCH_DEVICE\n      },\n\n      /**\n       * If true, the grid's height is defined by the number of its rows.\n       */\n      heightByRows: {\n        type: Boolean,\n        value: false,\n        reflectToAttribute: true,\n        observer: '_heightByRowsChanged'\n      }\n    };\n  }\n\n  constructor() {\n    super();\n    this.addEventListener('animationend', this._onAnimationEnd);\n  }\n\n  __hasRowsWithClientHeight() {\n    return !!Array.from(this.$.items.children).filter(row => row.clientHeight).length;\n  }\n\n  __setInitialColumnWidths() {\n    if (!this._initialColumnWidthsSet && this.__hasRowsWithClientHeight()) {\n      this._initialColumnWidthsSet = true;\n      this.recalculateColumnWidths();\n    }\n  }\n  /**\n   * @param {Array<Vaadin.GridColumnElement>} cols the columns to auto size based on their content width\n   */\n\n\n  _recalculateColumnWidths(cols) {\n    // Note: The `cols.forEach()` loops below could be implemented as a single loop but this has been\n    // split for performance reasons to batch these similar actions [write/read] together to avoid\n    // unnecessary layout trashing.\n    // [write] Set automatic width for all cells (breaks column alignment)\n    cols.forEach(col => {\n      col.width = 'auto';\n      col._origFlexGrow = col.flexGrow;\n      col.flexGrow = 0;\n    }); // [read] Measure max cell width in each column\n\n    cols.forEach(col => {\n      col._currentWidth = 0; // Note: _allCells only contains cells which are currently rendered in DOM\n\n      col._allCells.forEach(c => {\n        const cellWidth = Math.ceil(c.getBoundingClientRect().width);\n        col._currentWidth = Math.max(col._currentWidth, cellWidth);\n      });\n    }); // [write] Set column widths to fit widest measured content\n\n    cols.forEach(col => {\n      col.width = `${col._currentWidth}px`;\n      col.flexGrow = col._origFlexGrow;\n      col._currentWidth = undefined;\n      col._origFlexGrow = undefined;\n    });\n  }\n  /**\n   * Updates the `width` of all columns which have `autoWidth` set to `true`.\n   */\n\n\n  recalculateColumnWidths() {\n    if (!this._columnTree) {\n      return; // No columns\n    }\n\n    const cols = this._getColumns().filter(col => !col.hidden && col.autoWidth);\n\n    this._recalculateColumnWidths(cols);\n  }\n\n  _createScrollerRows(count) {\n    const rows = [];\n\n    for (var i = 0; i < count; i++) {\n      const row = document.createElement('tr');\n      row.setAttribute('part', 'row');\n      row.setAttribute('role', 'row');\n\n      if (this._columnTree) {\n        this._updateRow(row, this._columnTree[this._columnTree.length - 1], 'body', false, true);\n      }\n\n      rows.push(row);\n    }\n\n    if (this._columnTree) {\n      this._columnTree[this._columnTree.length - 1].forEach(c => c.notifyPath && c.notifyPath('_cells.*', c._cells));\n    }\n\n    beforeNextRender(this, () => {\n      this._updateFirstAndLastColumn();\n\n      this._resetKeyboardNavigation();\n    });\n    return rows;\n  }\n\n  _getRowTarget() {\n    return this.$.items;\n  }\n\n  _createCell(tagName) {\n    const contentId = this._contentIndex = this._contentIndex + 1 || 0;\n    const slotName = 'vaadin-grid-cell-content-' + contentId;\n    const cellContent = document.createElement('vaadin-grid-cell-content');\n    cellContent.setAttribute('slot', slotName);\n    const cell = document.createElement(tagName);\n    cell.id = slotName.replace('-content-', '-');\n    cell.setAttribute('tabindex', '-1');\n    cell.setAttribute('role', tagName === 'td' ? 'gridcell' : 'columnheader');\n    const slot = document.createElement('slot');\n    slot.setAttribute('name', slotName);\n    cell.appendChild(slot);\n    cell._content = cellContent; // With native Shadow DOM, mousedown on slotted element does not focus\n    // focusable slot wrapper, that is why cells are not focused with\n    // mousedown. Workaround: listen for mousedown and focus manually.\n\n    cellContent.addEventListener('mousedown', () => {\n      if (window.chrome) {\n        // Chrome bug: focusing before mouseup prevents text selection, see http://crbug.com/771903\n        const mouseUpListener = () => {\n          if (!cellContent.contains(this.getRootNode().activeElement)) {\n            cell.focus();\n          } // If focus is in the cell content — respect it, do not change.\n\n\n          document.removeEventListener('mouseup', mouseUpListener, true);\n        };\n\n        document.addEventListener('mouseup', mouseUpListener, true);\n      } else {\n        // Focus on mouseup, on the other hand, removes selection on Safari.\n        // Watch out sync focus removal issue, only async focus works here.\n        setTimeout(() => {\n          if (!cellContent.contains(this.getRootNode().activeElement)) {\n            cell.focus();\n          }\n        });\n      }\n    });\n    return cell;\n  }\n\n  _updateRow(row, columns, section, isColumnRow, noNotify) {\n    section = section || 'body';\n    const contentsFragment = document.createDocumentFragment();\n    Array.from(row.children).forEach(cell => cell._vacant = true);\n    row.innerHTML = '';\n\n    if (row.id !== 'outersizer' && row.id !== 'fixedsizer') {\n      row.hidden = true;\n    }\n\n    columns.forEach((column, index) => {\n      let cell;\n\n      if (section === 'body') {\n        // Body\n        column._cells = column._cells || [];\n        cell = column._cells.filter(cell => cell._vacant)[0];\n\n        if (!cell) {\n          cell = this._createCell('td');\n\n          column._cells.push(cell);\n        }\n\n        cell.setAttribute('part', 'cell body-cell');\n        row.appendChild(cell);\n\n        if (index === columns.length - 1 && (this._rowDetailsTemplate || this.rowDetailsRenderer)) {\n          // Add details cell as last cell to body rows\n          this._detailsCells = this._detailsCells || [];\n\n          const detailsCell = this._detailsCells.filter(cell => cell._vacant)[0] || this._createCell('td');\n\n          if (this._detailsCells.indexOf(detailsCell) === -1) {\n            this._detailsCells.push(detailsCell);\n          }\n\n          if (!detailsCell._content.parentElement) {\n            contentsFragment.appendChild(detailsCell._content);\n          }\n\n          this._configureDetailsCell(detailsCell);\n\n          row.appendChild(detailsCell);\n\n          this._a11ySetRowDetailsCell(row, detailsCell);\n\n          detailsCell._vacant = false;\n        }\n\n        if (column.notifyPath && !noNotify) {\n          column.notifyPath('_cells.*', column._cells);\n        }\n      } else {\n        // Header & footer\n        const tagName = section === 'header' ? 'th' : 'td';\n\n        if (isColumnRow || column.localName === 'vaadin-grid-column-group') {\n          cell = column[`_${section}Cell`] || this._createCell(tagName);\n          cell._column = column;\n          row.appendChild(cell);\n          column[`_${section}Cell`] = cell;\n        } else {\n          column._emptyCells = column._emptyCells || [];\n          cell = column._emptyCells.filter(cell => cell._vacant)[0] || this._createCell(tagName);\n          cell._column = column;\n          row.appendChild(cell);\n\n          if (column._emptyCells.indexOf(cell) === -1) {\n            column._emptyCells.push(cell);\n          }\n        }\n\n        cell.setAttribute('part', `cell ${section}-cell`);\n\n        this.__updateHeaderFooterRowVisibility(row);\n      }\n\n      if (!cell._content.parentElement) {\n        contentsFragment.appendChild(cell._content);\n      }\n\n      cell._vacant = false;\n      cell._column = column;\n    }); // Might be empty if only cache was used\n\n    this.appendChild(contentsFragment);\n\n    this._frozenCellsChanged();\n\n    this._updateFirstAndLastColumnForRow(row);\n  }\n\n  __updateHeaderFooterRowVisibility(row) {\n    if (!row) {\n      return;\n    }\n\n    const visibleRowCells = Array.from(row.children).filter(cell => {\n      const column = cell._column;\n\n      if (column._emptyCells && column._emptyCells.indexOf(cell) > -1) {\n        // The cell is an \"empty cell\"  -> doesn't block hiding the row\n        return false;\n      }\n\n      if (row.parentElement === this.$.header) {\n        if (column.headerRenderer || column._headerTemplate) {\n          // The cell is the header cell of a column that has a header renderer\n          // or a header template -> row should be visible\n          return true;\n        }\n\n        if (column.header === null) {\n          // The column header is explicilty set to null -> doesn't block hiding the row\n          return false;\n        }\n\n        if (column.path || column.header !== undefined) {\n          // The column has an explicit non-null header or a path that generates a header\n          // -> row should be visible\n          return true;\n        }\n      } else {\n        if (column.footerRenderer || column._footerTemplate) {\n          // The cell is the footer cell of a column that has a footer renderer\n          // or a footer template -> row should be visible\n          return true;\n        }\n      }\n    });\n\n    if (row.hidden !== !visibleRowCells.length) {\n      row.hidden = !visibleRowCells.length;\n      this.notifyResize();\n    }\n  }\n\n  _updateScrollerItem(row, index) {\n    this._preventScrollerRotatingCellFocus(row, index);\n\n    if (!this._columnTree) {\n      return;\n    }\n\n    this._toggleAttribute('first', index === 0, row);\n\n    this._toggleAttribute('odd', index % 2, row);\n\n    this._a11yUpdateRowRowindex(row, index);\n\n    this._getItem(index, row);\n  }\n\n  _columnTreeChanged(columnTree, splices) {\n    Array.from(this.$.items.children).forEach(row => this._updateRow(row, columnTree[columnTree.length - 1]));\n\n    while (this.$.header.children.length < columnTree.length) {\n      const headerRow = document.createElement('tr');\n      headerRow.setAttribute('part', 'row');\n      headerRow.setAttribute('role', 'row');\n      this.$.header.appendChild(headerRow);\n      const footerRow = document.createElement('tr');\n      footerRow.setAttribute('part', 'row');\n      footerRow.setAttribute('role', 'row');\n      this.$.footer.appendChild(footerRow);\n    }\n\n    while (this.$.header.children.length > columnTree.length) {\n      this.$.header.removeChild(this.$.header.firstElementChild);\n      this.$.footer.removeChild(this.$.footer.firstElementChild);\n    }\n\n    Array.from(this.$.header.children).forEach((headerRow, index) => this._updateRow(headerRow, columnTree[index], 'header', index === columnTree.length - 1));\n    Array.from(this.$.footer.children).forEach((footerRow, index) => this._updateRow(footerRow, columnTree[columnTree.length - 1 - index], 'footer', index === 0)); // Sizer rows\n\n    this._updateRow(this.$.outersizer, columnTree[columnTree.length - 1]);\n\n    this._updateRow(this.$.fixedsizer, columnTree[columnTree.length - 1]);\n\n    this._resizeHandler();\n\n    this._frozenCellsChanged();\n\n    this._updateFirstAndLastColumn();\n\n    this._resetKeyboardNavigation();\n\n    this._a11yUpdateHeaderRows();\n\n    this._a11yUpdateFooterRows();\n  }\n\n  _updateItem(row, item) {\n    row._item = item;\n\n    const model = this.__getRowModel(row);\n\n    this._toggleAttribute('selected', model.selected, row);\n\n    this._a11yUpdateRowSelected(row, model.selected);\n\n    this._a11yUpdateRowLevel(row, model.level);\n\n    this._toggleAttribute('expanded', model.expanded, row);\n\n    if (this._rowDetailsTemplate || this.rowDetailsRenderer) {\n      this._toggleDetailsCell(row, item);\n    }\n\n    this._generateCellClassNames(row, model);\n\n    this._filterDragAndDrop(row, model);\n\n    Array.from(row.children).forEach(cell => {\n      if (cell._renderer) {\n        const owner = cell._column || this;\n\n        cell._renderer.call(owner, cell._content, owner, model);\n      } else if (cell._instance) {\n        cell._instance.__detailsOpened__ = model.detailsOpened;\n        cell._instance.__selected__ = model.selected;\n        cell._instance.__level__ = model.level;\n        cell._instance.__expanded__ = model.expanded;\n\n        cell._instance.setProperties(model);\n      }\n    });\n    this._debouncerUpdateHeights = Debouncer.debounce(this._debouncerUpdateHeights, timeOut.after(1), () => {\n      this._updateMetrics();\n\n      this._positionItems();\n\n      this._updateScrollerSize();\n    });\n  }\n\n  _resizeHandler() {\n    this._updateDetailsCellHeights();\n\n    this._accessIronListAPI(super._resizeHandler, true);\n\n    this._updateHeaderFooterMetrics();\n  }\n\n  _updateHeaderFooterMetrics() {\n    const headerHeight = this.$.header.clientHeight + 'px';\n    const footerHeight = this.$.footer.clientHeight + 'px';\n    [this.$.outersizer, this.$.fixedsizer, this.$.items].forEach(element => {\n      element.style.borderTopWidth = headerHeight;\n      element.style.borderBottomWidth = footerHeight;\n    });\n    afterNextRender(this.$.header, () => {\n      if (this._pendingScrollToIndex) {\n        this._scrollToIndex(this._pendingScrollToIndex);\n      }\n    });\n  }\n\n  _onAnimationEnd(e) {\n    // ShadyCSS applies scoping suffixes to animation names\n    if (e.animationName.indexOf('vaadin-grid-appear') === 0) {\n      this._render();\n\n      this._updateHeaderFooterMetrics();\n\n      e.stopPropagation();\n      this.notifyResize();\n\n      this.__setInitialColumnWidths();\n    }\n  }\n\n  _toggleAttribute(name, bool, node) {\n    if (node.hasAttribute(name) === !bool) {\n      if (bool) {\n        node.setAttribute(name, '');\n      } else {\n        node.removeAttribute(name);\n      }\n    }\n  }\n\n  __getRowModel(row) {\n    return {\n      index: row.index,\n      item: row._item,\n      level: this._getIndexLevel(row.index),\n      expanded: this._isExpanded(row._item),\n      selected: this._isSelected(row._item),\n      detailsOpened: !!(this._rowDetailsTemplate || this.rowDetailsRenderer) && this._isDetailsOpened(row._item)\n    };\n  }\n  /**\n   * Manually invoke existing renderers for all the columns\n   * (header, footer and body cells) and opened row details.\n   */\n\n\n  render() {\n    if (this._columnTree) {\n      // header and footer renderers\n      this._columnTree.forEach(level => {\n        level.forEach(column => column._renderHeaderAndFooter());\n      }); // body and row details renderers\n\n\n      this._update();\n    }\n  }\n  /**\n   * Updates the computed metrics and positioning of internal grid parts\n   * (row/details cell positioning etc). Needs to be invoked whenever the sizing of grid\n   * content changes asynchronously to ensure consistent appearance (e.g. when a\n   * contained image whose bounds aren't known beforehand finishes loading).\n   */\n\n\n  notifyResize() {\n    super.notifyResize();\n  }\n\n  _heightByRowsChanged(value, oldValue) {\n    if (value || oldValue) {\n      this.notifyResize();\n    }\n  }\n\n  __forceReflow() {\n    this._debouncerForceReflow = Debouncer.debounce(this._debouncerForceReflow, animationFrame, () => {\n      this.$.scroller.style.overflow = 'hidden';\n      setTimeout(() => this.$.scroller.style.overflow = '');\n    });\n  }\n\n}\n\ncustomElements.define(GridElement.is, GridElement);\nexport { GridElement };"],"names":["Lumo","HTMLElement","version","customElements","define","$_documentContainer","document","createElement","innerHTML","head","appendChild","content","html","ThemePropertyMixin","superClass","VaadinThemePropertyMixin","properties","theme","type","String","readOnly","attributeChangedCallback","name","oldValue","newValue","_setTheme","ThemableMixin","VaadinThemableMixin","finalize","template","prototype","_template","hasOwnTemplate","parentElement","id","is","inheritedTemplate","Object","getPrototypeOf","Array","from","querySelectorAll","forEach","s","_includeStyle","getAttribute","_includeMatchingThemes","domModule","DomModule","modules","hasThemes","defaultModuleName","keys","sort","moduleNameA","moduleNameB","vaadinA","indexOf","vaadinB","vaadinThemePrefixes","vaadinThemeA","filter","prefix","length","vaadinThemeB","moduleName","themeFor","split","themeForToken","RegExp","join","test","querySelector","styleEl","setAttribute","TabIndexMixin","VaadinTabIndexMixin","tabindex","Number","value","reflectToAttribute","observer","window","ShadyDOM","ControlStateMixin","VaadinControlStateMixin","autofocus","Boolean","_previousTabIndex","disabled","_isShiftTabbing","ready","addEventListener","e","composedPath","_focus","focusElement","_setFocused","ensureEventComposed","composed","target","dispatchEvent","CustomEvent","bubbles","cancelable","shadowRoot","defaultPrevented","keyCode","shiftKey","focus","apply","setTimeout","firefox","navigator","userAgent","match","parseFloat","parentNode","nextSibling","fakeTarget","style","position","opacity","tabIndex","insertBefore","removeChild","focused","requestAnimationFrame","_boundKeydownListener","_bodyKeydownListener","bind","_boundKeyupListener","_bodyKeyupListener","connectedCallback","body","disconnectedCallback","removeEventListener","hasAttribute","removeAttribute","_tabPressed","console","warn","localName","blur","_disabledChanged","_tabindexChanged","undefined","setProperties","click","DEV_MODE_CODE_REGEXP","FlowClients","Vaadin","Flow","clients","isMinified","uncommentAndRun","isDevelopmentMode","isForcedDevelopmentMode","isLocalhost","isFlowProductionMode","localStorage","getItem","location","hostname","productionModeApps","map","key","client","productionMode","callback","args","exec","toString","Function","log","runIfDevelopmentMode","developmentMode","maybeGatherAndSendStats","usageStatistics","registrations","developmentModeCallback","statsJob","registered","Set","ElementMixin","VaadinElementMixin","has","push","add","Debouncer","debounce","idlePeriod","enqueueDebouncer","constructor","doctype","CheckboxElement","GestureEventListeners","PolymerElement","checked","notify","indeterminate","_nativeCheckbox","_storedName","_handleClick","_addActiveListeners","attrName","_updateLabelAttribute","label","assignedNodes","firstElementChild","_isAssignedNodesEmpty","nodes","nodeType","Node","TEXT_NODE","textContent","trim","_checkedChanged","_indeterminateChanged","_addEventListenerToNode","__interactionsAllowed","preventDefault","_toggleChecked","IOS","IOS_TOUCH_SCROLLING","DEFAULT_PHYSICAL_COUNT","ANIMATION_FRAME","animationFrame","IDLE_TIME","MICRO_TASK","microTask","PolymerIronList","Class","behaviors","IronResizableBehavior","IronScrollTargetBehavior","_ratio","_scrollerPaddingTop","_scrollPosition","_physicalSize","_physicalAverage","_physicalAverageCount","_physicalTop","_virtualCount","_estScrollHeight","_scrollHeight","_viewportHeight","_viewportWidth","_physicalItems","_physicalSizes","_firstVisibleIndexVal","_collection","_lastVisibleIndexVal","_maxPages","_focusedVirtualIndex","_itemsPerRow","_rowHeight","_templateCost","_physicalBottom","_scrollBottom","_virtualEnd","_virtualStart","_physicalCount","_hiddenContentSize","size","grid","_physicalRows","_maxScrollTop","_scrollOffset","_maxVirtualStart","virtualCount","_convertIndexToCompleteRow","Math","max","val","_clamp","_virtualStartVal","_physicalStart","_physicalStartVal","_physicalEnd","_physicalCountVal","_optPhysicalSize","Infinity","_isVisible","offsetWidth","offsetHeight","firstVisibleIndex","idx","physicalOffset","_iterateItems","pidx","vidx","_getPhysicalSizeIncrement","lastVisibleIndex","min","_estRowsInView","attached","_debounce","_render","listen","detached","unlisten","updateViewportBoundaries","styles","getComputedStyle","scrollTarget","parseInt","_isRTL","direction","$","items","_scrollTargetHeight","_updateGridMetrics","_scrollHandler","scrollTop","_scrollTop","delta","isScrollingDown","abs","idxAdjustment","round","floor","_update","reusables","_getReusables","physicalTop","indexes","_increasePoolIfNeeded","fromTop","ith","offsetContent","physicalItemHeight","idxs","protectedOffsetContent","virtualStart","virtualEnd","physicalCount","top","bottom","scrollBottom","itemSet","movingUp","_manageFocus","_assignModels","_updateMetrics","pop","_positionItems","_updateScrollerSize","_isClientFull","count","nextPhysicalCount","nextIncrease","ts","performance","now","_createPool","i","_isIndexRendered","_getPhysicalIndex","isAttached","_itemsChanged","change","path","get","_physicalIndexForKey","_resetScrollPosition","_removeFocusedItem","fn","rtn","arguments","_computeVidx","call","flush","flush$0","newPhysicalSize","oldPhysicalSize","prevAvgCount","prevPhysicalAvg","ceil","_adjustScrollPosition","y","translate3d","deltaHeight","pos","forceUpdate","_virtualRowCount","height","scrollToIndex","currentTopItem","currentVirtualItem","targetOffsetTop","hiddenContentSize","_resetAverage","_resizeHandler","toggleScrollListener","v","cb","asyncModule","_debouncers","GridScrollerElement","_vidxOffset","observers","_updateScrollerItem","item","index","_afterScroll","_getRowTarget","_createScrollerRows","_canPopulate","_warnPrivateAPIAccess","_pendingScrollToIndex","borderTopWidth","_scrollingToIndex","_effectiveSize","table","scrollHeight","_accessIronListAPI","_adjustVirtualIndexOffset","row","children","child","headerOffset","getBoundingClientRect","header","_effectiveSizeChanged","fvi","fviOffset","_firstVisibleIndex","isArray","maxVirtualItems","_edge","_ie","_scrollToIndex","_focusedItemIndex","_itemsFocusable","contains","activeElement","cellIndex","rePosition","isNaN","transform","_initialPoolCreated","_debounceIncreasePool","remainingPhysicalSize","estimatedMissingRowCount","__reorderChildNodes","childNodes","rowsInOrder","reduce","inOrder","current","currentIndex","array","row1","row2","fragment","createDocumentFragment","physicalItems","inst","slot","_updateHeaderFooterMetrics","afterNextRender","notifyResize","el","_toggleAttribute","oldOffset","_noScale","scale","offset","threshold","maxShift","maxOffset","_warnPrivateAPIAccessAsyncEnabled","returnValue","_debouncerWarnPrivateAPIAccess","_debounceRender","apiName","_createFocusBackfillItem","_multiSelectionChanged","clearSelection","_lastVisibleIndex","A11yMixin","_a11yGetHeaderRowCount","_columnTree","level","some","col","_headerTemplate","headerRenderer","_a11yGetFooterRowCount","_a11yUpdateGridSize","bodyColumns","_a11yUpdateHeaderRows","_a11yUpdateFooterRows","headerRow","footer","footerRow","_a11yUpdateRowRowindex","_a11yUpdateRowSelected","selected","cell","_a11yUpdateRowLevel","_a11yUpdateRowDetailsOpened","detailsOpened","_a11ySetRowDetailsCell","detailsCell","_a11yUpdateCellColspan","colspan","_a11yUpdateSorters","sorter","cellContent","assignedSlot","ActiveItemMixin","activeItem","scroller","_onClick","_activateItem","model","detail","clickedItem","_itemsEqual","_content","getRootNode","cellContentHasFocus","_isFocusable","__getRowModel","focusables","element","isFocusableElement","ArrayDataProviderMixin","splices","dataProvider","_arrayDataProvider","clearCache","_ensureFirstPageLoaded","opts","slice","_filters","_checkPaths","_filter","sortOrders","_sorters","_multiSort","start","page","pageSize","end","arrayToCheck","action","result","parentProperty","replace","Base","a","b","_compare","p","n","_normalizeEmptyValue","filterValueLowercase","toLowerCase","ColumnResizingMixin","addListener","_onHeaderTrack","handle","column","_column","_childColumns","_order","hidden","columnRowCells","targetCell","minWidth","paddingLeft","paddingRight","borderLeftWidth","borderRightWidth","marginLeft","marginRight","width","x","right","flexGrow","state","ItemCache","parentCache","parentItem","itemCaches","effectiveSize","pendingRequests","isLoading","getItemForIndex","cache","scaledIndex","getCacheAndIndex","updateSize","_isExpanded","prev","curr","subCache","ensureSubCacheForScaledIndex","_loadPage","thisLevelIndex","expandedIndex","DataProviderMixin","loading","_cache","itemIdPath","expandedItems","_sizeChanged","_updateRowItem","_instance","_getItem","_updateItem","_getPageForIndex","_pagesForPhysicalItems","firstVisiblePage","concat","_expandedInstanceChangedCallback","expandItem","collapseItem","getItemId","_getItemIndexInArray","_expandedItemsChanged","splice","_getIndexLevel","_hasData","_setLoading","params","_mapSorters","filters","_mapFilters","itemsIndex","itemIndex","cachedItem","__setInitialColumnWidths","_setPendingProperty","_flushItemsDebouncer","_debouncerLoad","_pageSizeChanged","oldPageSize","_checkSize","_dataProviderChanged","oldDataProvider","_debouncerCheckSize","timeOut","after","hadData","item1","item2","DynamicColumnsMixin","_addNodeObserver","_hasColumnGroups","columns","_getChildColumns","FlattenedNodesObserver","getFlattenedNodes","_isColumnElement","_flattenColumnGroups","_getColumnTree","rootColumns","c","_updateColumnTree","columnTree","_arrayEquals","_observer","info","rowDetailsTemplate","addedNodes","classList","_rowDetailsTemplate","removedNodes","_debouncerCheckImports","_checkImports","arr1","arr2","l","elementName","_updateFirstAndLastColumn","_updateFirstAndLastColumnForRow","node","ELEMENT_NODE","EventContextMixin","getEventContext","event","context","section","assign","FilterMixin","_filterChanged","stopPropagation","GridTemplatizer","dataHost","_templateInstances","_parentPathValues","_grid","_instanceProps","expanded","createInstance","_ensureTemplatized","instance","_TemplateClass","addInstance","notifyPath","removeInstance","templatize","instanceProps","parentModel","forwardHostProp","prop","_forwardParentProp","notifyInstanceProp","originalProp","_item","itemPrefix","gridCallback","_templateInstancesChanged","t","addedCount","keyName","set","RowDetailsMixin","detailsOpenedItems","rowDetailsRenderer","_detailsCells","_rowDetailsTemplateOrRendererChanged","Error","templatizer","Templatizer","_updateRow","_toggleDetailsCell","_detailsOpenedItemsChanged","changeRecord","_isDetailsOpened","_configureDetailsCell","detailsHidden","hiddenChanged","_renderer","removeProperty","root","setProperty","_updateDetailsCellHeights","openItemDetails","closeItemDetails","_detailsOpenedInstanceChangedCallback","ScrollMixin","_timeouts","SCROLL_PERIOD","WHEEL_SCROLLING","SCROLLING","IGNORE_WHEEL","_frozenCells","_scrollbarWidth","scrollDiv","overflow","scrollbarWidth","clientWidth","_rowWithFocusedElement","Element","_deltaYAcc","_scrollLineHeight","_getScrollLineHeight","fontSize","display","_scrollViewportHeightUpdated","_scrollPageHeight","clientHeight","_wheelScrolling","_debouncerWheelScrolling","_onWheel","outerscroller","outerScrolling","stopImmediatePropagation","ctrlKey","_hasScrolledAncestor","deltaX","deltaY","deltaMode","WheelEvent","DOM_DELTA_LINE","DOM_DELTA_PAGE","_wheelAnimationFrame","_debouncerWheelAnimationFrame","momentum","_canScroll","scrollLeft","_hasResidualMomentum","_ignoreNewWheel","_debouncerIgnoreNewWheel","_previousMomentum","scrollWidth","_scheduleScrolling","_scrollingFrame","_debounceScrolling","cancelAnimationFrame","_reorderRows","_scrollPeriodFrame","_debounceScrollPeriod","_translateStationaryElements","os","_ios","passthrough","syncOuterScroller","overScroll","_updateOverflow","_debounceOverflow","adjustedVirtualStart","targetRow","targetPhysicalIndex","_frozenCellsChanged","_debouncerCacheElements","_updateLastFrozen","columnsRow","lastFrozen","_lastFrozen","frozen","_getTranslate","_scrollLeft","frozenCellTransform","_scrollHeightUpdated","outersizer","fixedsizer","SelectionMixin","selectedItems","_isSelected","selectItem","deselectItem","_toggleItem","_selectedItemsChanged","_selectedInstanceChangedCallback","SortMixin","multiSort","_previousSorters","_onSorterChanged","run","sorters","_removeArrayItem","unshift","JSON","stringify","StylingMixin","cellClassNameGenerator","__cellClassNameGeneratorChanged","cellClassGenerator","generateCellClassNames","_generateCellClassNames","rowData","__generatedClasses","className","remove","DropMode","BETWEEN","ON_TOP","ON_TOP_OR_BETWEEN","ON_GRID","DropLocation","ABOVE","BELOW","EMPTY","DragAndDropMixin","dropMode","rowsDraggable","dragFilter","dropFilter","__dndAutoScrollThreshold","_onDragStart","_onDragEnd","_onDragOver","_onDragLeave","_onDrop","_safari","rowRect","dataTransfer","setDragImage","clientX","left","clientY","rows","__getViewportRows","setData","__formatDefaultTransferData","updateStyles","draggedItems","setDragData","data","setDraggedItemsCount","originalEvent","_clearDragStyles","_dropLocation","_dragOverItem","__dndAutoScroll","dropAbove","__dndAutoScrolling","headerBottom","footerTop","topDiff","bottomDiff","scrollTopDelta","scrollTopChanged","dragData","types","getData","dropTargetItem","dropLocation","_dragDropAccessChanged","filterDragAndDrop","_filterDragAndDrop","dragDisabled","dropDisabled","draggableElements","KeyboardNavigationMixin","_headerFocusable","_footerFocusable","_navigatingIsHidden","_focusedColumnOrder","_android","_onKeyDown","_onFocusIn","_onFocusOut","_onCellFocusIn","_onCellFocusOut","_isMousedown","_focusableChanged","focusable","oldFocusable","keyGroup","_detectInteracting","_ensureScrolledToIndex","targetRowInDom","_onNavigationKeyDown","indexOfChildElement","visibleItemsCount","dx","dy","activeCell","columnIndex","isRowDetails","_elementMatches","activeRow","activeRowGroup","maxRowIndex","rowIndex","dstRowIndex","dstIsRowDetails","dstItem","_getColumns","dstColumns","dstSortedColumnOrders","maxOrderedColumnIndex","orderedColumnIndex","dstOrderedColumnIndex","columnIndexByOrder","acc","dstColumnIndex","dstRow","dstCell","_scrollHorizontallyToCell","dstRect","_parseEventPath","tableIndex","rowGroup","_onInteractionKeyDown","localTarget","localTargetIsTextInput","wantInteracting","focusTarget","_predictFocusStepTarget","srcElement","step","tabOrder","focusexit","_onTabKeyDown","itemsFocusTarget","focusedItemRow","_onSpaceKeyDown","wasNavigating","rootTarget","_activeRowGroup","_detectFocusedItemIndex","_preventScrollerRotatingCellFocus","columnTreeLevel","_resetKeyboardNavigation","firstVisibleIndexRow","dstCellRect","dstCellIndex","tableRect","leftBoundary","rightBoundary","query","matches","ColumnReorderingMixin","columnReorderingAllowed","_orderBaseScope","_onTrackEvent","_reorderGhost","_onTouchStart","_onTouchMove","_onTouchEnd","_onContextMenu","_startTouchReorderTimeout","_onTrackStart","touches","_draggedColumn","clearTimeout","_onTrackEnd","headerCell","_touchDevice","_onTrack","dom","_cellFromPoint","childElementCount","_setSiblingsReorderStatus","_reorderStatus","_updateGhost","visibility","_updateGhostPosition","_autoScroller","targetColumn","_getTargetColumn","_isSwapAllowed","_isSwappableByPosition","_swapColumnOrders","_lastDragClientX","_getColumnsInOrder","useShadow","elementFromPoint","eventClientX","eventClientY","ghostRect","targetLeft","targetTop","_left","_top","_getInnerText","ghost","propertyName","_updateOrders","status","sibling","rightDiff","leftDiff","async","column1","column2","differentColumns","sameParent","sameFrozen","sourceCellRect","targetRect","draggedColumn","candidate","ColumnBaseMixin","resizable","parent","_footerTemplate","textAlign","_emptyCells","_headerCell","_footerCell","footerRenderer","_bodyTemplate","_templateObserver","_allCells","_findHostGrid","_gridValue","_cells","_prepareHeaderTemplate","_prepareFooterTemplate","_prepareBodyTemplate","_prepareTemplatizer","_findTemplate","_renderHeaderAndFooter","__runRenderer","renderer","__setColumnTemplateOrRenderer","cells","_setBodyTemplateOrRenderer","_setHeaderTemplateOrRenderer","headerTemplate","_setFooterTemplateOrRenderer","footerTemplate","footerCell","__updateHeaderFooterRowVisibility","_selectFirstTemplate","_rootDataHost","_flexGrowChanged","_columnPropChanged","_orderChanged","order","_widthChanged","__forceReflow","_frozenChanged","_lastFrozenChanged","_pathOrHeaderChanged","bodyTemplate","hasHeaderText","__setTextContent","pathRenderer","owner","_generateHeader","substr","lastIndexOf","toUpperCase","bool","_reorderStatusChanged","reorderStatus","_resizableChanged","existingHandle","_textAlignChanged","textAlignFallback","_hiddenChanged","_previousHidden","GridColumnElement","autoWidth","GridOuterScrollerElement","scrollHandler","noScrollbars","_syncScrollTarget","_onMouseMove","webkitOverflowScrolling","_","offsetY","offsetX","VaadinGridStyles","safari","scrollingStyles","register","TOUCH_DEVICE","createEvent","GridElement","ScrollerElement","_this","MSStream","platform","maxTouchPoints","CSS","supports","_firefox","heightByRows","_onAnimationEnd","__hasRowsWithClientHeight","_initialColumnWidthsSet","recalculateColumnWidths","_recalculateColumnWidths","cols","_origFlexGrow","_currentWidth","cellWidth","beforeNextRender","_createCell","tagName","contentId","_contentIndex","slotName","chrome","mouseUpListener","isColumnRow","noNotify","contentsFragment","_vacant","visibleRowCells","_columnTreeChanged","__detailsOpened__","__selected__","__level__","__expanded__","_debouncerUpdateHeights","headerHeight","footerHeight","borderBottomWidth","animationName","render","_heightByRowsChanged","_debouncerForceReflow"],"mappings":"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"}