{"version":3,"file":"index.js","sources":["../dist-src/vaadin-lumo-styles/version.js","../dist-src/vaadin-lumo-styles/color.js","../dist-src/vaadin-lumo-styles/sizing.js","../dist-src/vaadin-lumo-styles/spacing.js","../dist-src/vaadin-lumo-styles/style.js","../dist-src/vaadin-lumo-styles/typography.js","../dist-src/vaadin-button/theme/lumo/vaadin-button-styles.js","../dist-src/vaadin-themable-mixin/vaadin-theme-property-mixin.js","../dist-src/vaadin-themable-mixin/vaadin-themable-mixin.js","../dist-src/vaadin-control-state-mixin/vaadin-control-state-mixin.js","../dist-src/vaadin-development-mode-detector/vaadin-development-mode-detector.js","../dist-src/vaadin-usage-statistics/vaadin-usage-statistics-collect.js","../dist-src/vaadin-element-mixin/vaadin-element-mixin.js","../dist-src/vaadin-button/src/vaadin-button.js","../dist-src/vaadin-checkbox/theme/lumo/vaadin-checkbox-styles.js","../dist-src/vaadin-checkbox/src/vaadin-checkbox.js","../dist-src/vaadin-lumo-styles/mixins/overlay.js","../dist-src/vaadin-overlay/theme/lumo/vaadin-overlay-styles.js","../dist-src/vaadin-overlay/src/vaadin-focusables-helper.js","../dist-src/vaadin-overlay/src/vaadin-overlay-position-mixin.js","../dist-src/vaadin-overlay/src/vaadin-overlay.js","../dist-src/vaadin-lumo-styles/mixins/menu-overlay.js","../dist-src/vaadin-combo-box/theme/lumo/vaadin-combo-box-dropdown-styles.js","../dist-src/vaadin-lumo-styles/font-icons.js","../dist-src/vaadin-item/theme/lumo/vaadin-item-styles.js","../dist-src/vaadin-item/src/vaadin-item-mixin.js","../dist-src/vaadin-item/src/vaadin-item.js","../dist-src/vaadin-combo-box/theme/lumo/vaadin-combo-box-item-styles.js","../dist-src/vaadin-lumo-styles/mixins/field-button.js","../dist-src/vaadin-lumo-styles/mixins/required-field.js","../dist-src/vaadin-text-field/theme/lumo/vaadin-text-field-styles.js","../dist-src/vaadin-text-field/src/vaadin-text-field-mixin.js","../dist-src/vaadin-text-field/src/vaadin-text-field.js","../dist-src/vaadin-combo-box/theme/lumo/vaadin-combo-box-styles.js","../dist-src/vaadin-combo-box/src/vaadin-combo-box-placeholder.js","../dist-src/vaadin-combo-box/src/vaadin-combo-box-mixin.js","../dist-src/vaadin-combo-box/src/vaadin-combo-box-item.js","../dist-src/vaadin-combo-box/src/vaadin-combo-box-dropdown.js","../dist-src/vaadin-combo-box/src/vaadin-combo-box-dropdown-wrapper.js","../dist-src/vaadin-combo-box/src/vaadin-combo-box-data-provider-mixin.js","../dist-src/vaadin-combo-box/src/vaadin-combo-box.js","../dist-src/vaadin-context-menu/theme/lumo/vaadin-context-menu-styles.js","../dist-src/vaadin-list-box/theme/lumo/vaadin-list-box-styles.js","../dist-src/vaadin-list-mixin/vaadin-list-mixin.js","../dist-src/vaadin-list-mixin/vaadin-multi-select-list-mixin.js","../dist-src/vaadin-list-box/src/vaadin-list-box.js","../dist-src/vaadin-context-menu/src/vaadin-contextmenu-event.js","../dist-src/vaadin-context-menu/src/vaadin-device-detector.js","../dist-src/vaadin-context-menu/src/vaadin-contextmenu-items-mixin.js","../dist-src/vaadin-context-menu/src/vaadin-context-menu-overlay.js","../dist-src/vaadin-context-menu/src/vaadin-context-menu.js","../dist-src/vaadin-date-picker/theme/lumo/vaadin-date-picker-overlay-styles.js","../dist-src/vaadin-date-picker/theme/lumo/vaadin-date-picker-overlay-content-styles.js","../dist-src/vaadin-date-picker/theme/lumo/vaadin-month-calendar-styles.js","../dist-src/vaadin-date-picker/theme/lumo/vaadin-date-picker-styles.js","../dist-src/vaadin-date-picker/src/vaadin-date-picker-overlay.js","../dist-src/vaadin-date-picker/src/vaadin-date-picker-helper.js","../dist-src/vaadin-date-picker/src/vaadin-month-calendar.js","../dist-src/vaadin-date-picker/src/vaadin-infinite-scroller.js","../dist-src/vaadin-date-picker/src/vaadin-date-picker-styles.js","../dist-src/vaadin-date-picker/src/vaadin-date-picker-overlay-content.js","../dist-src/vaadin-date-picker/src/vaadin-date-picker-mixin.js","../dist-src/vaadin-date-picker/src/vaadin-date-picker.js","../dist-src/vaadin-dialog/theme/lumo/vaadin-dialog-styles.js","../dist-src/vaadin-dialog/src/vaadin-dialog.js","../dist-src/vaadin-grid/theme/lumo/vaadin-grid-styles.js","../dist-src/vaadin-grid/src/iron-list.js","../dist-src/vaadin-grid/src/vaadin-grid-scroller.js","../dist-src/vaadin-grid/src/vaadin-grid-a11y-mixin.js","../dist-src/vaadin-grid/src/vaadin-grid-active-item-mixin.js","../dist-src/vaadin-grid/src/vaadin-grid-array-data-provider-mixin.js","../dist-src/vaadin-grid/src/vaadin-grid-column-resizing-mixin.js","../dist-src/vaadin-grid/src/vaadin-grid-data-provider-mixin.js","../dist-src/vaadin-grid/src/vaadin-grid-dynamic-columns-mixin.js","../dist-src/vaadin-grid/src/vaadin-grid-event-context-mixin.js","../dist-src/vaadin-grid/src/vaadin-grid-filter-mixin.js","../dist-src/vaadin-grid/src/vaadin-grid-templatizer.js","../dist-src/vaadin-grid/src/vaadin-grid-row-details-mixin.js","../dist-src/vaadin-grid/src/vaadin-grid-scroll-mixin.js","../dist-src/vaadin-grid/src/vaadin-grid-selection-mixin.js","../dist-src/vaadin-grid/src/vaadin-grid-sort-mixin.js","../dist-src/vaadin-grid/src/vaadin-grid-styling-mixin.js","../dist-src/vaadin-grid/src/vaadin-grid-drag-and-drop-mixin.js","../dist-src/vaadin-grid/src/vaadin-grid-keyboard-navigation-mixin.js","../dist-src/vaadin-grid/src/vaadin-grid-column-reordering-mixin.js","../dist-src/vaadin-grid/src/vaadin-grid-column.js","../dist-src/vaadin-grid/src/vaadin-grid-outer-scroller.js","../dist-src/vaadin-grid/src/vaadin-grid-styles.js","../dist-src/vaadin-grid/src/vaadin-grid.js"],"sourcesContent":["class Lumo extends HTMLElement {\n  static get version() {\n    return '1.5.0';\n  }\n\n}\n\ncustomElements.define('vaadin-lumo-styles', Lumo);\nexport { Lumo };","import './version.js';\nimport \"@polymer/polymer/lib/elements/custom-style.js\";\nimport \"@polymer/polymer/lib/elements/dom-module.js\";\nconst $_documentContainer = document.createElement('template');\n$_documentContainer.innerHTML = `<custom-style>\n  <style>\n    html {\n      /* Base (background) */\n      --lumo-base-color: #FFF;\n\n      /* Tint */\n      --lumo-tint-5pct: hsla(0, 0%, 100%, 0.3);\n      --lumo-tint-10pct: hsla(0, 0%, 100%, 0.37);\n      --lumo-tint-20pct: hsla(0, 0%, 100%, 0.44);\n      --lumo-tint-30pct: hsla(0, 0%, 100%, 0.5);\n      --lumo-tint-40pct: hsla(0, 0%, 100%, 0.57);\n      --lumo-tint-50pct: hsla(0, 0%, 100%, 0.64);\n      --lumo-tint-60pct: hsla(0, 0%, 100%, 0.7);\n      --lumo-tint-70pct: hsla(0, 0%, 100%, 0.77);\n      --lumo-tint-80pct: hsla(0, 0%, 100%, 0.84);\n      --lumo-tint-90pct: hsla(0, 0%, 100%, 0.9);\n      --lumo-tint: #FFF;\n\n      /* Shade */\n      --lumo-shade-5pct: hsla(214, 61%, 25%, 0.05);\n      --lumo-shade-10pct: hsla(214, 57%, 24%, 0.1);\n      --lumo-shade-20pct: hsla(214, 53%, 23%, 0.16);\n      --lumo-shade-30pct: hsla(214, 50%, 22%, 0.26);\n      --lumo-shade-40pct: hsla(214, 47%, 21%, 0.38);\n      --lumo-shade-50pct: hsla(214, 45%, 20%, 0.5);\n      --lumo-shade-60pct: hsla(214, 43%, 19%, 0.61);\n      --lumo-shade-70pct: hsla(214, 42%, 18%, 0.72);\n      --lumo-shade-80pct: hsla(214, 41%, 17%, 0.83);\n      --lumo-shade-90pct: hsla(214, 40%, 16%, 0.94);\n      --lumo-shade: hsl(214, 35%, 15%);\n\n      /* Contrast */\n      --lumo-contrast-5pct: var(--lumo-shade-5pct);\n      --lumo-contrast-10pct: var(--lumo-shade-10pct);\n      --lumo-contrast-20pct: var(--lumo-shade-20pct);\n      --lumo-contrast-30pct: var(--lumo-shade-30pct);\n      --lumo-contrast-40pct: var(--lumo-shade-40pct);\n      --lumo-contrast-50pct: var(--lumo-shade-50pct);\n      --lumo-contrast-60pct: var(--lumo-shade-60pct);\n      --lumo-contrast-70pct: var(--lumo-shade-70pct);\n      --lumo-contrast-80pct: var(--lumo-shade-80pct);\n      --lumo-contrast-90pct: var(--lumo-shade-90pct);\n      --lumo-contrast: var(--lumo-shade);\n\n      /* Text */\n      --lumo-header-text-color: var(--lumo-contrast);\n      --lumo-body-text-color: var(--lumo-contrast-90pct);\n      --lumo-secondary-text-color: var(--lumo-contrast-70pct);\n      --lumo-tertiary-text-color: var(--lumo-contrast-50pct);\n      --lumo-disabled-text-color: var(--lumo-contrast-30pct);\n\n      /* Primary */\n      --lumo-primary-color: hsl(214, 90%, 52%);\n      --lumo-primary-color-50pct: hsla(214, 90%, 52%, 0.5);\n      --lumo-primary-color-10pct: hsla(214, 90%, 52%, 0.1);\n      --lumo-primary-text-color: var(--lumo-primary-color);\n      --lumo-primary-contrast-color: #FFF;\n\n      /* Error */\n      --lumo-error-color: hsl(3, 100%, 61%);\n      --lumo-error-color-50pct: hsla(3, 100%, 60%, 0.5);\n      --lumo-error-color-10pct: hsla(3, 100%, 60%, 0.1);\n      --lumo-error-text-color: hsl(3, 92%, 53%);\n      --lumo-error-contrast-color: #FFF;\n\n      /* Success */\n      --lumo-success-color: hsl(145, 80%, 42%); /* hsl(144,82%,37%); */\n      --lumo-success-color-50pct: hsla(145, 76%, 44%, 0.55);\n      --lumo-success-color-10pct: hsla(145, 76%, 44%, 0.12);\n      --lumo-success-text-color: hsl(145, 100%, 32%);\n      --lumo-success-contrast-color: #FFF;\n    }\n  </style>\n</custom-style><dom-module id=\"lumo-color\">\n  <template>\n    <style>\n      [theme~=\"dark\"] {\n        /* Base (background) */\n        --lumo-base-color: hsl(214, 35%, 21%);\n\n        /* Tint */\n        --lumo-tint-5pct: hsla(214, 65%, 85%, 0.06);\n        --lumo-tint-10pct: hsla(214, 60%, 80%, 0.14);\n        --lumo-tint-20pct: hsla(214, 64%, 82%, 0.23);\n        --lumo-tint-30pct: hsla(214, 69%, 84%, 0.32);\n        --lumo-tint-40pct: hsla(214, 73%, 86%, 0.41);\n        --lumo-tint-50pct: hsla(214, 78%, 88%, 0.5);\n        --lumo-tint-60pct: hsla(214, 82%, 90%, 0.6);\n        --lumo-tint-70pct: hsla(214, 87%, 92%, 0.7);\n        --lumo-tint-80pct: hsla(214, 91%, 94%, 0.8);\n        --lumo-tint-90pct: hsla(214, 96%, 96%, 0.9);\n        --lumo-tint: hsl(214, 100%, 98%);\n\n        /* Shade */\n        --lumo-shade-5pct: hsla(214, 0%, 0%, 0.07);\n        --lumo-shade-10pct: hsla(214, 4%, 2%, 0.15);\n        --lumo-shade-20pct: hsla(214, 8%, 4%, 0.23);\n        --lumo-shade-30pct: hsla(214, 12%, 6%, 0.32);\n        --lumo-shade-40pct: hsla(214, 16%, 8%, 0.41);\n        --lumo-shade-50pct: hsla(214, 20%, 10%, 0.5);\n        --lumo-shade-60pct: hsla(214, 24%, 12%, 0.6);\n        --lumo-shade-70pct: hsla(214, 28%, 13%, 0.7);\n        --lumo-shade-80pct: hsla(214, 32%, 13%, 0.8);\n        --lumo-shade-90pct: hsla(214, 33%, 13%, 0.9);\n        --lumo-shade: hsl(214, 33%, 13%);\n\n        /* Contrast */\n        --lumo-contrast-5pct: var(--lumo-tint-5pct);\n        --lumo-contrast-10pct: var(--lumo-tint-10pct);\n        --lumo-contrast-20pct: var(--lumo-tint-20pct);\n        --lumo-contrast-30pct: var(--lumo-tint-30pct);\n        --lumo-contrast-40pct: var(--lumo-tint-40pct);\n        --lumo-contrast-50pct: var(--lumo-tint-50pct);\n        --lumo-contrast-60pct: var(--lumo-tint-60pct);\n        --lumo-contrast-70pct: var(--lumo-tint-70pct);\n        --lumo-contrast-80pct: var(--lumo-tint-80pct);\n        --lumo-contrast-90pct: var(--lumo-tint-90pct);\n        --lumo-contrast: var(--lumo-tint);\n\n        /* Text */\n        --lumo-header-text-color: var(--lumo-contrast);\n        --lumo-body-text-color: var(--lumo-contrast-90pct);\n        --lumo-secondary-text-color: var(--lumo-contrast-70pct);\n        --lumo-tertiary-text-color: var(--lumo-contrast-50pct);\n        --lumo-disabled-text-color: var(--lumo-contrast-30pct);\n\n        /* Primary */\n        --lumo-primary-color: hsl(214, 86%, 55%);\n        --lumo-primary-color-50pct: hsla(214, 86%, 55%, 0.5);\n        --lumo-primary-color-10pct: hsla(214, 90%, 63%, 0.1);\n        --lumo-primary-text-color: hsl(214, 100%, 70%);\n        --lumo-primary-contrast-color: #FFF;\n\n        /* Error */\n        --lumo-error-color: hsl(3, 90%, 63%);\n        --lumo-error-color-50pct: hsla(3, 90%, 63%, 0.5);\n        --lumo-error-color-10pct: hsla(3, 90%, 63%, 0.1);\n        --lumo-error-text-color: hsl(3, 100%, 67%);\n\n        /* Success */\n        --lumo-success-color: hsl(145, 65%, 42%);\n        --lumo-success-color-50pct: hsla(145, 65%, 42%, 0.5);\n        --lumo-success-color-10pct: hsla(145, 65%, 42%, 0.1);\n        --lumo-success-text-color: hsl(145, 85%, 47%);\n      }\n\n      html {\n        color: var(--lumo-body-text-color);\n        background-color: var(--lumo-base-color);\n      }\n\n      [theme~=\"dark\"] {\n        color: var(--lumo-body-text-color);\n        background-color: var(--lumo-base-color);\n      }\n\n      h1,\n      h2,\n      h3,\n      h4,\n      h5,\n      h6 {\n        color: var(--lumo-header-text-color);\n      }\n\n      a {\n        color: var(--lumo-primary-text-color);\n      }\n\n      blockquote {\n        color: var(--lumo-secondary-text-color);\n      }\n\n      code,\n      pre {\n        background-color: var(--lumo-contrast-10pct);\n        border-radius: var(--lumo-border-radius-m);\n      }\n    </style>\n  </template>\n</dom-module><dom-module id=\"lumo-color-legacy\">\n  <template>\n    <style include=\"lumo-color\">\n      :host {\n        color: var(--lumo-body-text-color) !important;\n        background-color: var(--lumo-base-color) !important;\n      }\n    </style>\n  </template>\n</dom-module>`;\ndocument.head.appendChild($_documentContainer.content);\n/* Only needed for IE11 when you want to use the dark palette inside the light palette */\n\n/*\n  FIXME(polymer-modulizer): the above comments were extracted\n  from HTML and may be out of place here. Review them and\n  then delete this comment!\n*/\n\n;","import './version.js';\nimport \"@polymer/polymer/lib/elements/custom-style.js\";\nconst $_documentContainer = document.createElement('template');\n$_documentContainer.innerHTML = `<custom-style>\n  <style>\n    html {\n      --lumo-size-xs: 1.625rem;\n      --lumo-size-s: 1.875rem;\n      --lumo-size-m: 2.25rem;\n      --lumo-size-l: 2.75rem;\n      --lumo-size-xl: 3.5rem;\n\n      /* Icons */\n      --lumo-icon-size-s: 1.25em;\n      --lumo-icon-size-m: 1.5em;\n      --lumo-icon-size-l: 2.25em;\n      /* For backwards compatibility */\n      --lumo-icon-size: var(--lumo-icon-size-m);\n    }\n  </style>\n</custom-style>`;\ndocument.head.appendChild($_documentContainer.content);","import './version.js';\nimport \"@polymer/polymer/lib/elements/custom-style.js\";\nconst $_documentContainer = document.createElement('template');\n$_documentContainer.innerHTML = `<custom-style>\n  <style>\n    html {\n      /* Square */\n      --lumo-space-xs: 0.25rem;\n      --lumo-space-s: 0.5rem;\n      --lumo-space-m: 1rem;\n      --lumo-space-l: 1.5rem;\n      --lumo-space-xl: 2.5rem;\n\n      /* Wide */\n      --lumo-space-wide-xs: calc(var(--lumo-space-xs) / 2) var(--lumo-space-xs);\n      --lumo-space-wide-s: calc(var(--lumo-space-s) / 2) var(--lumo-space-s);\n      --lumo-space-wide-m: calc(var(--lumo-space-m) / 2) var(--lumo-space-m);\n      --lumo-space-wide-l: calc(var(--lumo-space-l) / 2) var(--lumo-space-l);\n      --lumo-space-wide-xl: calc(var(--lumo-space-xl) / 2) var(--lumo-space-xl);\n\n      /* Tall */\n      --lumo-space-tall-xs: var(--lumo-space-xs) calc(var(--lumo-space-xs) / 2);\n      --lumo-space-tall-s: var(--lumo-space-s) calc(var(--lumo-space-s) / 2);\n      --lumo-space-tall-m: var(--lumo-space-m) calc(var(--lumo-space-m) / 2);\n      --lumo-space-tall-l: var(--lumo-space-l) calc(var(--lumo-space-l) / 2);\n      --lumo-space-tall-xl: var(--lumo-space-xl) calc(var(--lumo-space-xl) / 2);\n    }\n  </style>\n</custom-style>`;\ndocument.head.appendChild($_documentContainer.content);","import './version.js';\nimport \"@polymer/polymer/lib/elements/custom-style.js\";\nconst $_documentContainer = document.createElement('template');\n$_documentContainer.innerHTML = `<custom-style>\n  <style>\n    html {\n      /* Border radius */\n      --lumo-border-radius-s: 0.25em; /* Checkbox, badge, date-picker year indicator, etc */\n      --lumo-border-radius-m: var(--lumo-border-radius, 0.25em); /* Button, text field, menu overlay, etc */\n      --lumo-border-radius-l: 0.5em; /* Dialog, notification, etc */\n      --lumo-border-radius: 0.25em; /* Deprecated */\n\n      /* Shadow */\n      --lumo-box-shadow-xs: 0 1px 4px -1px var(--lumo-shade-50pct);\n      --lumo-box-shadow-s: 0 2px 4px -1px var(--lumo-shade-20pct), 0 3px 12px -1px var(--lumo-shade-30pct);\n      --lumo-box-shadow-m: 0 2px 6px -1px var(--lumo-shade-20pct), 0 8px 24px -4px var(--lumo-shade-40pct);\n      --lumo-box-shadow-l: 0 3px 18px -2px var(--lumo-shade-20pct), 0 12px 48px -6px var(--lumo-shade-40pct);\n      --lumo-box-shadow-xl: 0 4px 24px -3px var(--lumo-shade-20pct), 0 18px 64px -8px var(--lumo-shade-40pct);\n\n      /* Clickable element cursor */\n      --lumo-clickable-cursor: default;\n    }\n  </style>\n</custom-style>`;\ndocument.head.appendChild($_documentContainer.content);","import './version.js';\nimport \"@polymer/polymer/lib/elements/custom-style.js\";\nimport \"@polymer/polymer/lib/elements/dom-module.js\";\nconst $_documentContainer = document.createElement('template');\n$_documentContainer.innerHTML = `<custom-style>\n  <style>\n    html {\n      /* Font families */\n      --lumo-font-family: -apple-system, BlinkMacSystemFont, \"Roboto\", \"Segoe UI\", Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";\n\n      /* Font sizes */\n      --lumo-font-size-xxs: .75rem;\n      --lumo-font-size-xs: .8125rem;\n      --lumo-font-size-s: .875rem;\n      --lumo-font-size-m: 1rem;\n      --lumo-font-size-l: 1.125rem;\n      --lumo-font-size-xl: 1.375rem;\n      --lumo-font-size-xxl: 1.75rem;\n      --lumo-font-size-xxxl: 2.5rem;\n\n      /* Line heights */\n      --lumo-line-height-xs: 1.25;\n      --lumo-line-height-s: 1.375;\n      --lumo-line-height-m: 1.625;\n    }\n\n  </style>\n</custom-style><dom-module id=\"lumo-typography\">\n  <template>\n    <style>\n      html {\n        font-family: var(--lumo-font-family);\n        font-size: var(--lumo-font-size, var(--lumo-font-size-m));\n        line-height: var(--lumo-line-height-m);\n        -webkit-text-size-adjust: 100%;\n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: grayscale;\n      }\n\n      /* Can’t combine with the above selector because that doesn’t work in browsers without native shadow dom */\n      :host {\n        font-family: var(--lumo-font-family);\n        font-size: var(--lumo-font-size, var(--lumo-font-size-m));\n        line-height: var(--lumo-line-height-m);\n        -webkit-text-size-adjust: 100%;\n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: grayscale;\n      }\n\n      small,\n      [theme~=\"font-size-s\"] {\n        font-size: var(--lumo-font-size-s);\n        line-height: var(--lumo-line-height-s);\n      }\n\n      [theme~=\"font-size-xs\"] {\n        font-size: var(--lumo-font-size-xs);\n        line-height: var(--lumo-line-height-xs);\n      }\n\n      h1,\n      h2,\n      h3,\n      h4,\n      h5,\n      h6 {\n        font-weight: 600;\n        line-height: var(--lumo-line-height-xs);\n        margin-top: 1.25em;\n      }\n\n      h1 {\n        font-size: var(--lumo-font-size-xxxl);\n        margin-bottom: 0.75em;\n      }\n\n      h2 {\n        font-size: var(--lumo-font-size-xxl);\n        margin-bottom: 0.5em;\n      }\n\n      h3 {\n        font-size: var(--lumo-font-size-xl);\n        margin-bottom: 0.5em;\n      }\n\n      h4 {\n        font-size: var(--lumo-font-size-l);\n        margin-bottom: 0.5em;\n      }\n\n      h5 {\n        font-size: var(--lumo-font-size-m);\n        margin-bottom: 0.25em;\n      }\n\n      h6 {\n        font-size: var(--lumo-font-size-xs);\n        margin-bottom: 0;\n        text-transform: uppercase;\n        letter-spacing: 0.03em;\n      }\n\n      p,\n      blockquote {\n        margin-top: 0.5em;\n        margin-bottom: 0.75em;\n      }\n\n      a {\n        text-decoration: none;\n      }\n\n      a:hover {\n        text-decoration: underline;\n      }\n\n      hr {\n        display: block;\n        align-self: stretch;\n        height: 1px;\n        border: 0;\n        padding: 0;\n        margin: var(--lumo-space-s) calc(var(--lumo-border-radius-m) / 2);\n        background-color: var(--lumo-contrast-10pct);\n      }\n\n      blockquote {\n        border-left: 2px solid var(--lumo-contrast-30pct);\n      }\n\n      b,\n      strong {\n        font-weight: 600;\n      }\n    </style>\n  </template>\n</dom-module>`;\ndocument.head.appendChild($_documentContainer.content);","import \"../../../vaadin-lumo-styles/color.js\";\nimport \"../../../vaadin-lumo-styles/sizing.js\";\nimport \"../../../vaadin-lumo-styles/spacing.js\";\nimport \"../../../vaadin-lumo-styles/style.js\";\nimport \"../../../vaadin-lumo-styles/typography.js\";\nimport { html } from \"@polymer/polymer/lib/utils/html-tag.js\";\nconst $_documentContainer = html`<dom-module id=\"lumo-button\" theme-for=\"vaadin-button\">\n  <template>\n    <style>\n      :host {\n        /* Sizing */\n        --lumo-button-size: var(--lumo-size-m);\n        min-width: calc(var(--lumo-button-size) * 2);\n        height: var(--lumo-button-size);\n        padding: 0 calc(var(--lumo-button-size) / 3 + var(--lumo-border-radius) / 2);\n        margin: var(--lumo-space-xs) 0;\n        box-sizing: border-box;\n        /* Style */\n        font-family: var(--lumo-font-family);\n        font-size: var(--lumo-font-size-m);\n        font-weight: 500;\n        color: var(--_lumo-button-color, var(--lumo-primary-text-color));\n        background-color: var(--_lumo-button-background-color, var(--lumo-contrast-5pct));\n        border-radius: var(--lumo-border-radius);\n        cursor: default;\n        -webkit-tap-highlight-color: transparent;\n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: grayscale;\n      }\n\n      /* Set only for the internal parts so we don’t affect the host vertical alignment */\n      [part=\"label\"],\n      [part=\"prefix\"],\n      [part=\"suffix\"] {\n        line-height: var(--lumo-line-height-xs);\n      }\n\n      [part=\"label\"] {\n        padding: calc(var(--lumo-button-size) / 6) 0;\n      }\n\n      :host([theme~=\"small\"]) {\n        font-size: var(--lumo-font-size-s);\n        --lumo-button-size: var(--lumo-size-s);\n      }\n\n      :host([theme~=\"large\"]) {\n        font-size: var(--lumo-font-size-l);\n        --lumo-button-size: var(--lumo-size-l);\n      }\n\n      /* This needs to be the last selector for it to take priority */\n      :host([disabled][disabled]) {\n        pointer-events: none;\n        color: var(--lumo-disabled-text-color);\n        background-color: var(--lumo-contrast-5pct);\n      }\n\n      /* For interaction states */\n      :host::before,\n      :host::after {\n        content: \"\";\n        /* We rely on the host always being relative */\n        position: absolute;\n        z-index: 1;\n        top: 0;\n        right: 0;\n        bottom: 0;\n        left: 0;\n        background-color: currentColor;\n        border-radius: inherit;\n        opacity: 0;\n        transition: opacity 0.2s;\n        pointer-events: none;\n      }\n\n      /* Hover */\n\n      :host(:hover)::before {\n        opacity: 0.05;\n      }\n\n      /* Disable hover for touch devices */\n      @media (pointer: coarse) {\n        :host(:not([active]):hover)::before {\n          opacity: 0;\n        }\n      }\n\n      /* Active */\n\n      :host::after {\n        transition: opacity 1.4s, transform 0.1s;\n        filter: blur(8px);\n      }\n\n      :host([active])::before {\n        opacity: 0.1;\n        transition-duration: 0s;\n      }\n\n      :host([active])::after {\n        opacity: 0.1;\n        transition-duration: 0s, 0s;\n        transform: scale(0);\n      }\n\n      /* Keyboard focus */\n\n      :host([focus-ring]) {\n        box-shadow: 0 0 0 2px var(--lumo-primary-color-50pct);\n      }\n\n      /* Types (primary, tertiary, tertiary-inline */\n\n      :host([theme~=\"tertiary\"]),\n      :host([theme~=\"tertiary-inline\"]) {\n        background-color: transparent !important;\n        transition: opacity 0.2s;\n        min-width: 0;\n      }\n\n      :host([theme~=\"tertiary\"])::before,\n      :host([theme~=\"tertiary-inline\"])::before {\n        display: none;\n      }\n\n      :host([theme~=\"tertiary\"]) {\n        padding: 0 calc(var(--lumo-button-size) / 6);\n      }\n\n      @media (hover: hover) {\n        :host([theme*=\"tertiary\"]:not([active]):hover) {\n          opacity: 0.8;\n        }\n      }\n\n      :host([theme~=\"tertiary\"][active]),\n      :host([theme~=\"tertiary-inline\"][active]) {\n        opacity: 0.5;\n        transition-duration: 0s;\n      }\n\n      :host([theme~=\"tertiary-inline\"]) {\n        margin: 0;\n        height: auto;\n        padding: 0;\n        line-height: inherit;\n        font-size: inherit;\n      }\n\n      :host([theme~=\"tertiary-inline\"]) [part=\"label\"] {\n        padding: 0;\n        overflow: visible;\n        line-height: inherit;\n      }\n\n      :host([theme~=\"primary\"]) {\n        background-color: var(--_lumo-button-primary-background-color, var(--lumo-primary-color));\n        color: var(--_lumo-button-primary-color, var(--lumo-primary-contrast-color));\n        font-weight: 600;\n        min-width: calc(var(--lumo-button-size) * 2.5);\n      }\n\n      :host([theme~=\"primary\"][disabled]) {\n        background-color: var(--lumo-primary-color-50pct);\n        color: var(--lumo-primary-contrast-color);\n      }\n\n      :host([theme~=\"primary\"]:hover)::before {\n        opacity: 0.1;\n      }\n\n      :host([theme~=\"primary\"][active])::before {\n        background-color: var(--lumo-shade-20pct);\n      }\n\n      @media (pointer: coarse) {\n        :host([theme~=\"primary\"][active])::before {\n          background-color: var(--lumo-shade-60pct);\n        }\n\n        :host([theme~=\"primary\"]:not([active]):hover)::before {\n          opacity: 0;\n        }\n      }\n\n      :host([theme~=\"primary\"][active])::after {\n        opacity: 0.2;\n      }\n\n      /* Colors (success, error, contrast) */\n\n      :host([theme~=\"success\"]) {\n        color: var(--lumo-success-text-color);\n      }\n\n      :host([theme~=\"success\"][theme~=\"primary\"]) {\n        background-color: var(--lumo-success-color);\n        color: var(--lumo-success-contrast-color);\n      }\n\n      :host([theme~=\"success\"][theme~=\"primary\"][disabled]) {\n        background-color: var(--lumo-success-color-50pct);\n      }\n\n      :host([theme~=\"error\"]) {\n        color: var(--lumo-error-text-color);\n      }\n\n      :host([theme~=\"error\"][theme~=\"primary\"]) {\n        background-color: var(--lumo-error-color);\n        color: var(--lumo-error-contrast-color);\n      }\n\n      :host([theme~=\"error\"][theme~=\"primary\"][disabled]) {\n        background-color: var(--lumo-error-color-50pct);\n      }\n\n      :host([theme~=\"contrast\"]) {\n        color: var(--lumo-contrast);\n      }\n\n      :host([theme~=\"contrast\"][theme~=\"primary\"]) {\n        background-color: var(--lumo-contrast);\n        color: var(--lumo-base-color);\n      }\n\n      :host([theme~=\"contrast\"][theme~=\"primary\"][disabled]) {\n        background-color: var(--lumo-contrast-50pct);\n      }\n\n      /* Icons */\n\n      [part] ::slotted(iron-icon) {\n        display: inline-block;\n        width: var(--lumo-icon-size-m);\n        height: var(--lumo-icon-size-m);\n      }\n\n      /* Vaadin icons are based on a 16x16 grid (unlike Lumo and Material icons with 24x24), so they look too big by default */\n      [part] ::slotted(iron-icon[icon^=\"vaadin:\"]) {\n        padding: 0.25em;\n        box-sizing: border-box !important;\n      }\n\n      [part=\"prefix\"] {\n        margin-left: -0.25em;\n        margin-right: 0.25em;\n      }\n\n      [part=\"suffix\"] {\n        margin-left: 0.25em;\n        margin-right: -0.25em;\n      }\n\n      /* Icon-only */\n\n      :host([theme~=\"icon\"]:not([theme~=\"tertiary-inline\"])) {\n        min-width: var(--lumo-button-size);\n        padding-left: calc(var(--lumo-button-size) / 4);\n        padding-right: calc(var(--lumo-button-size) / 4);\n      }\n\n      :host([theme~=\"icon\"]) [part=\"prefix\"],\n      :host([theme~=\"icon\"]) [part=\"suffix\"] {\n        margin-left: 0;\n        margin-right: 0;\n      }\n    </style>\n  </template>\n</dom-module>`;\ndocument.head.appendChild($_documentContainer.content);","/**\n * @polymerMixin\n */\nexport const ThemePropertyMixin = superClass => class VaadinThemePropertyMixin extends superClass {\n  static get properties() {\n    return {\n      /**\n       * Helper property with theme attribute value facilitating propagation\n       * in shadow DOM.\n       *\n       * Enables the component implementation to propagate the `theme`\n       * attribute value to the subcomponents in Shadow DOM by binding\n       * the subcomponent’s \"theme\" attribute to the `theme` property of\n       * the host.\n       *\n       * **NOTE:** Extending the mixin only provides the property for binding,\n       * and does not make the propagation alone.\n       *\n       * See [Theme Attribute and Subcomponents](https://github.com/vaadin/vaadin-themable-mixin/wiki/5.-Theme-Attribute-and-Subcomponents).\n       * page for more information.\n       *\n       * @protected\n       */\n      theme: {\n        type: String,\n        readOnly: true\n      }\n    };\n  }\n  /** @protected */\n\n\n  attributeChangedCallback(name, oldValue, newValue) {\n    super.attributeChangedCallback(name, oldValue, newValue);\n\n    if (name === 'theme') {\n      this._setTheme(newValue);\n    }\n  }\n\n};","import { DomModule } from \"@polymer/polymer/lib/elements/dom-module.js\";\nimport { ThemePropertyMixin } from './vaadin-theme-property-mixin.js';\n/**\n * @polymerMixin\n * @mixes Vaadin.ThemePropertyMixin\n */\n\nexport const ThemableMixin = superClass => class VaadinThemableMixin extends ThemePropertyMixin(superClass) {\n  /** @protected */\n  static finalize() {\n    super.finalize();\n    const template = this.prototype._template;\n    const hasOwnTemplate = this.template && this.template.parentElement && this.template.parentElement.id === this.is;\n\n    const inheritedTemplate = Object.getPrototypeOf(this.prototype)._template;\n\n    if (inheritedTemplate && !hasOwnTemplate) {\n      // The element doesn't define its own template -> include the theme modules from the inherited template\n      Array.from(inheritedTemplate.content.querySelectorAll('style[include]')).forEach(s => {\n        this._includeStyle(s.getAttribute('include'), template);\n      });\n    }\n\n    this._includeMatchingThemes(template);\n  }\n  /** @protected */\n\n\n  static _includeMatchingThemes(template) {\n    const domModule = DomModule;\n    const modules = domModule.prototype.modules;\n    let hasThemes = false;\n    const defaultModuleName = this.is + '-default-theme';\n    Object.keys(modules).sort((moduleNameA, moduleNameB) => {\n      const vaadinA = moduleNameA.indexOf('vaadin-') === 0;\n      const vaadinB = moduleNameB.indexOf('vaadin-') === 0;\n      const vaadinThemePrefixes = ['lumo-', 'material-'];\n      const vaadinThemeA = vaadinThemePrefixes.filter(prefix => moduleNameA.indexOf(prefix) === 0).length > 0;\n      const vaadinThemeB = vaadinThemePrefixes.filter(prefix => moduleNameB.indexOf(prefix) === 0).length > 0;\n\n      if (vaadinA !== vaadinB) {\n        // Include vaadin core styles first\n        return vaadinA ? -1 : 1;\n      } else if (vaadinThemeA !== vaadinThemeB) {\n        // Include vaadin theme styles after that\n        return vaadinThemeA ? -1 : 1;\n      } else {\n        // Lastly include custom styles so they override all vaadin styles\n        return 0;\n      }\n    }).forEach(moduleName => {\n      if (moduleName !== defaultModuleName) {\n        const themeFor = modules[moduleName].getAttribute('theme-for');\n\n        if (themeFor) {\n          themeFor.split(' ').forEach(themeForToken => {\n            if (new RegExp('^' + themeForToken.split('*').join('.*') + '$').test(this.is)) {\n              hasThemes = true;\n\n              this._includeStyle(moduleName, template);\n            }\n          });\n        }\n      }\n    });\n\n    if (!hasThemes && modules[defaultModuleName]) {\n      // No theme modules found, include the default module if it exists\n      this._includeStyle(defaultModuleName, template);\n    }\n  }\n  /** @private */\n\n\n  static _includeStyle(moduleName, template) {\n    if (template && !template.content.querySelector(`style[include=\"${moduleName}\"]`)) {\n      const styleEl = document.createElement('style');\n      styleEl.setAttribute('include', moduleName);\n      template.content.appendChild(styleEl);\n    }\n  }\n\n};","/**\n@license\nCopyright (c) 2017 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\n\n/**\n * A private mixin to avoid problems with dynamic properties and Polymer Analyzer.\n * No need to expose these properties in the API docs.\n * @polymerMixin\n */\nconst TabIndexMixin = superClass => class VaadinTabIndexMixin extends superClass {\n  static get properties() {\n    var properties = {\n      /**\n       * Internal property needed to listen to `tabindex` attribute changes.\n       *\n       * For changing the tabindex of this component use the native `tabIndex` property.\n       * @private\n       */\n      tabindex: {\n        type: Number,\n        value: 0,\n        reflectToAttribute: true,\n        observer: '_tabindexChanged'\n      }\n    };\n\n    if (window.ShadyDOM) {\n      // ShadyDOM browsers need the `tabIndex` in order to notify when the user changes it programmatically.\n      properties['tabIndex'] = properties.tabindex;\n    }\n\n    return properties;\n  }\n\n};\n/**\n * Polymer.IronControlState is not a proper 2.0 class, also, its tabindex\n * implementation fails in the shadow dom, so we have this for vaadin elements.\n * @polymerMixin\n */\n\n\nexport const ControlStateMixin = superClass => class VaadinControlStateMixin extends TabIndexMixin(superClass) {\n  static get properties() {\n    return {\n      /**\n       * Specify that this control should have input focus when the page loads.\n       */\n      autofocus: {\n        type: Boolean\n      },\n\n      /**\n       * Stores the previous value of tabindex attribute of the disabled element\n       */\n      _previousTabIndex: {\n        type: Number\n      },\n\n      /**\n       * If true, the user cannot interact with this element.\n       */\n      disabled: {\n        type: Boolean,\n        observer: '_disabledChanged',\n        reflectToAttribute: true\n      },\n      _isShiftTabbing: {\n        type: Boolean\n      }\n    };\n  }\n\n  ready() {\n    this.addEventListener('focusin', e => {\n      if (e.composedPath()[0] === this) {\n        this._focus(e);\n      } else if (e.composedPath().indexOf(this.focusElement) !== -1 && !this.disabled) {\n        this._setFocused(true);\n      }\n    });\n    this.addEventListener('focusout', e => this._setFocused(false)); // In super.ready() other 'focusin' and 'focusout' listeners might be\n    // added, so we call it after our own ones to ensure they execute first.\n    // Issue to watch out: when incorrect, <vaadin-combo-box> refocuses the\n    // input field on iOS after “Done” is pressed.\n\n    super.ready(); // This fixes the bug in Firefox 61 (https://bugzilla.mozilla.org/show_bug.cgi?id=1472887)\n    // where focusout event does not go out of shady DOM because composed property in the event is not true\n\n    const ensureEventComposed = e => {\n      if (!e.composed) {\n        e.target.dispatchEvent(new CustomEvent(e.type, {\n          bubbles: true,\n          composed: true,\n          cancelable: false\n        }));\n      }\n    };\n\n    this.shadowRoot.addEventListener('focusin', ensureEventComposed);\n    this.shadowRoot.addEventListener('focusout', ensureEventComposed);\n    this.addEventListener('keydown', e => {\n      if (!e.defaultPrevented && e.keyCode === 9) {\n        if (e.shiftKey) {\n          // Flag is checked in _focus event handler.\n          this._isShiftTabbing = true;\n          HTMLElement.prototype.focus.apply(this);\n\n          this._setFocused(false); // Event handling in IE is asynchronous and the flag is removed asynchronously as well\n\n\n          setTimeout(() => this._isShiftTabbing = false, 0);\n        } else {\n          // Workaround for FF63-65 bug that causes the focus to get lost when\n          // blurring a slotted component with focusable shadow root content\n          // https://bugzilla.mozilla.org/show_bug.cgi?id=1528686\n          // TODO: Remove when safe\n          const firefox = window.navigator.userAgent.match(/Firefox\\/(\\d\\d\\.\\d)/);\n\n          if (firefox && parseFloat(firefox[1]) >= 63 && parseFloat(firefox[1]) < 66 && this.parentNode && this.nextSibling) {\n            const fakeTarget = document.createElement('input');\n            fakeTarget.style.position = 'absolute';\n            fakeTarget.style.opacity = 0;\n            fakeTarget.tabIndex = this.tabIndex;\n            this.parentNode.insertBefore(fakeTarget, this.nextSibling);\n            fakeTarget.focus();\n            fakeTarget.addEventListener('focusout', () => this.parentNode.removeChild(fakeTarget));\n          }\n        }\n      }\n    });\n\n    if (this.autofocus && !this.focused && !this.disabled) {\n      window.requestAnimationFrame(() => {\n        this._focus();\n\n        this._setFocused(true);\n\n        this.setAttribute('focus-ring', '');\n      });\n    }\n\n    this._boundKeydownListener = this._bodyKeydownListener.bind(this);\n    this._boundKeyupListener = this._bodyKeyupListener.bind(this);\n  }\n  /**\n   * @protected\n   */\n\n\n  connectedCallback() {\n    super.connectedCallback();\n    document.body.addEventListener('keydown', this._boundKeydownListener, true);\n    document.body.addEventListener('keyup', this._boundKeyupListener, true);\n  }\n  /**\n   * @protected\n   */\n\n\n  disconnectedCallback() {\n    super.disconnectedCallback();\n    document.body.removeEventListener('keydown', this._boundKeydownListener, true);\n    document.body.removeEventListener('keyup', this._boundKeyupListener, true); // in non-Chrome browsers, blur does not fire on the element when it is disconnected.\n    // reproducible in `<vaadin-date-picker>` when closing on `Cancel` or `Today` click.\n\n    if (this.hasAttribute('focused')) {\n      this._setFocused(false);\n    }\n  }\n\n  _setFocused(focused) {\n    if (focused) {\n      this.setAttribute('focused', '');\n    } else {\n      this.removeAttribute('focused');\n    } // focus-ring is true when the element was focused from the keyboard.\n    // Focus Ring [A11ycasts]: https://youtu.be/ilj2P5-5CjI\n\n\n    if (focused && this._tabPressed) {\n      this.setAttribute('focus-ring', '');\n    } else {\n      this.removeAttribute('focus-ring');\n    }\n  }\n\n  _bodyKeydownListener(e) {\n    this._tabPressed = e.keyCode === 9;\n  }\n\n  _bodyKeyupListener() {\n    this._tabPressed = false;\n  }\n  /**\n   * Any element extending this mixin is required to implement this getter.\n   * It returns the actual focusable element in the component.\n   */\n\n\n  get focusElement() {\n    window.console.warn(`Please implement the 'focusElement' property in <${this.localName}>`);\n    return this;\n  }\n\n  _focus(e) {\n    if (this._isShiftTabbing) {\n      return;\n    }\n\n    this.focusElement.focus();\n\n    this._setFocused(true);\n  }\n  /**\n   * Moving the focus from the host element causes firing of the blur event what leads to problems in IE.\n   * @private\n   */\n\n\n  focus() {\n    if (!this.focusElement || this.disabled) {\n      return;\n    }\n\n    this.focusElement.focus();\n\n    this._setFocused(true);\n  }\n  /**\n   * Native bluring in the host element does nothing because it does not have the focus.\n   * In chrome it works, but not in FF.\n   * @private\n   */\n\n\n  blur() {\n    this.focusElement.blur();\n\n    this._setFocused(false);\n  }\n\n  _disabledChanged(disabled) {\n    this.focusElement.disabled = disabled;\n\n    if (disabled) {\n      this.blur();\n      this._previousTabIndex = this.tabindex;\n      this.tabindex = -1;\n      this.setAttribute('aria-disabled', 'true');\n    } else {\n      if (typeof this._previousTabIndex !== 'undefined') {\n        this.tabindex = this._previousTabIndex;\n      }\n\n      this.removeAttribute('aria-disabled');\n    }\n  }\n\n  _tabindexChanged(tabindex) {\n    if (tabindex !== undefined) {\n      this.focusElement.tabIndex = tabindex;\n    }\n\n    if (this.disabled && this.tabindex) {\n      // If tabindex attribute was changed while checkbox was disabled\n      if (this.tabindex !== -1) {\n        this._previousTabIndex = this.tabindex;\n      }\n\n      this.tabindex = tabindex = undefined;\n    }\n\n    if (window.ShadyDOM) {\n      this.setProperties({\n        tabIndex: tabindex,\n        tabindex: tabindex\n      });\n    }\n  }\n  /**\n   * @protected\n   */\n\n\n  click() {\n    if (!this.disabled) {\n      super.click();\n    }\n  }\n\n};","const DEV_MODE_CODE_REGEXP = /\\/\\*\\*\\s+vaadin-dev-mode:start([\\s\\S]*)vaadin-dev-mode:end\\s+\\*\\*\\//i;\nconst FlowClients = window.Vaadin && window.Vaadin.Flow && window.Vaadin.Flow.clients;\n\nfunction isMinified() {\n  function test() {\n    /** vaadin-dev-mode:start\n    return false;\n    vaadin-dev-mode:end **/\n    return true;\n  }\n\n  return uncommentAndRun(test);\n}\n\nfunction isDevelopmentMode() {\n  try {\n    if (isForcedDevelopmentMode()) {\n      return true;\n    }\n\n    if (!isLocalhost()) {\n      return false;\n    }\n\n    if (FlowClients) {\n      return !isFlowProductionMode();\n    }\n\n    return !isMinified();\n  } catch (e) {\n    // Some error in this code, assume production so no further actions will be taken\n    return false;\n  }\n}\n\nfunction isForcedDevelopmentMode() {\n  return localStorage.getItem(\"vaadin.developmentmode.force\");\n}\n\nfunction isLocalhost() {\n  return [\"localhost\", \"127.0.0.1\"].indexOf(window.location.hostname) >= 0;\n}\n\nfunction isFlowProductionMode() {\n  if (FlowClients) {\n    const productionModeApps = Object.keys(FlowClients).map(key => FlowClients[key]).filter(client => client.productionMode);\n\n    if (productionModeApps.length > 0) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction uncommentAndRun(callback, args) {\n  if (typeof callback !== 'function') {\n    return;\n  }\n\n  const match = DEV_MODE_CODE_REGEXP.exec(callback.toString());\n\n  if (match) {\n    try {\n      // requires CSP: script-src 'unsafe-eval'\n      callback = new Function(match[1]);\n    } catch (e) {\n      // eat the exception\n      console.log('vaadin-development-mode-detector: uncommentAndRun() failed', e);\n    }\n  }\n\n  return callback(args);\n} // A guard against polymer-modulizer removing the window.Vaadin\n// initialization above.\n\n\nwindow['Vaadin'] = window['Vaadin'] || {};\n/**\n * Inspects the source code of the given `callback` function for\n * specially-marked _commented_ code. If such commented code is found in the\n * callback source, uncomments and runs that code instead of the callback\n * itself. Otherwise runs the callback as is.\n *\n * The optional arguments are passed into the callback / uncommented code,\n * the result is returned.\n *\n * See the `isMinified()` function source code in this file for an example.\n *\n */\n\nexport const runIfDevelopmentMode = function (callback, args) {\n  if (window.Vaadin.developmentMode) {\n    return uncommentAndRun(callback, args);\n  }\n};\n\nif (window.Vaadin.developmentMode === undefined) {\n  window.Vaadin.developmentMode = isDevelopmentMode();\n}","/* This file is autogenerated from src/vaadin-usage-statistics.tpl.html */\n\n/*\n\nThis script gathers usage statistics from the application running in development mode.\n\nStatistics gathering is automatically disabled and excluded from production builds.\n\nFor details and to opt-out, see https://github.com/vaadin/vaadin-usage-statistics.\n\n*/\n\n/*\n  FIXME(polymer-modulizer): the above comments were extracted\n  from HTML and may be out of place here. Review them and\n  then delete this comment!\n*/\nimport { runIfDevelopmentMode } from \"../vaadin-development-mode-detector/vaadin-development-mode-detector.js\";\n\nfunction maybeGatherAndSendStats() {\n  /** vaadin-dev-mode:start\n  (function () {\n  'use strict';\n  var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n  } : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  };\n  var classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n  };\n  var createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n   return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n  }();\n  var getPolymerVersion = function getPolymerVersion() {\n  return window.Polymer && window.Polymer.version;\n  };\n  var StatisticsGatherer = function () {\n  function StatisticsGatherer(logger) {\n    classCallCheck(this, StatisticsGatherer);\n     this.now = new Date().getTime();\n    this.logger = logger;\n  }\n   createClass(StatisticsGatherer, [{\n    key: 'frameworkVersionDetectors',\n    value: function frameworkVersionDetectors() {\n      return {\n        'Flow': function Flow() {\n          if (window.Vaadin && window.Vaadin.Flow && window.Vaadin.Flow.clients) {\n            var flowVersions = Object.keys(window.Vaadin.Flow.clients).map(function (key) {\n              return window.Vaadin.Flow.clients[key];\n            }).filter(function (client) {\n              return client.getVersionInfo;\n            }).map(function (client) {\n              return client.getVersionInfo().flow;\n            });\n            if (flowVersions.length > 0) {\n              return flowVersions[0];\n            }\n          }\n        },\n        'Vaadin Framework': function VaadinFramework() {\n          if (window.vaadin && window.vaadin.clients) {\n            var frameworkVersions = Object.values(window.vaadin.clients).filter(function (client) {\n              return client.getVersionInfo;\n            }).map(function (client) {\n              return client.getVersionInfo().vaadinVersion;\n            });\n            if (frameworkVersions.length > 0) {\n              return frameworkVersions[0];\n            }\n          }\n        },\n        'AngularJs': function AngularJs() {\n          if (window.angular && window.angular.version && window.angular.version) {\n            return window.angular.version.full;\n          }\n        },\n        'Angular': function Angular() {\n          if (window.ng) {\n            var tags = document.querySelectorAll(\"[ng-version]\");\n            if (tags.length > 0) {\n              return tags[0].getAttribute(\"ng-version\");\n            }\n            return \"Unknown\";\n          }\n        },\n        'Backbone.js': function BackboneJs() {\n          if (window.Backbone) {\n            return window.Backbone.VERSION;\n          }\n        },\n        'React': function React() {\n          var reactSelector = '[data-reactroot], [data-reactid]';\n          if (!!document.querySelector(reactSelector)) {\n            // React does not publish the version by default\n            return \"unknown\";\n          }\n        },\n        'Ember': function Ember() {\n          if (window.Em && window.Em.VERSION) {\n            return window.Em.VERSION;\n          } else if (window.Ember && window.Ember.VERSION) {\n            return window.Ember.VERSION;\n          }\n        },\n        'jQuery': function (_jQuery) {\n          function jQuery() {\n            return _jQuery.apply(this, arguments);\n          }\n           jQuery.toString = function () {\n            return _jQuery.toString();\n          };\n           return jQuery;\n        }(function () {\n          if (typeof jQuery === 'function' && jQuery.prototype.jquery !== undefined) {\n            return jQuery.prototype.jquery;\n          }\n        }),\n        'Polymer': function Polymer() {\n          var version = getPolymerVersion();\n          if (version) {\n            return version;\n          }\n        },\n        'LitElement': function LitElement() {\n          var version = window.litElementVersions && window.litElementVersions[0];\n          if (version) {\n            return version;\n          }\n        },\n        'LitHtml': function LitHtml() {\n          var version = window.litHtmlVersions && window.litHtmlVersions[0];\n          if (version) {\n            return version;\n          }\n        },\n        'Vue.js': function VueJs() {\n          if (window.Vue) {\n            return window.Vue.version;\n          }\n        }\n      };\n    }\n  }, {\n    key: 'getUsedVaadinElements',\n    value: function getUsedVaadinElements(elements) {\n      var version = getPolymerVersion();\n      var elementClasses = void 0;\n      // NOTE: In case you edit the code here, YOU MUST UPDATE any statistics reporting code in Flow.\n      // Check all locations calling the method getEntries() in\n      // https://github.com/vaadin/flow/blob/master/flow-server/src/main/java/com/vaadin/flow/internal/UsageStatistics.java#L106\n      // Currently it is only used by BootstrapHandler.\n      if (version && version.indexOf('2') === 0) {\n        // Polymer 2: components classes are stored in window.Vaadin\n        elementClasses = Object.keys(window.Vaadin).map(function (c) {\n          return window.Vaadin[c];\n        }).filter(function (c) {\n          return c.is;\n        });\n      } else {\n        // Polymer 3: components classes are stored in window.Vaadin.registrations\n        elementClasses = window.Vaadin.registrations || [];\n      }\n      elementClasses.forEach(function (klass) {\n        var version = klass.version ? klass.version : \"0.0.0\";\n        elements[klass.is] = { version: version };\n      });\n    }\n  }, {\n    key: 'getUsedVaadinThemes',\n    value: function getUsedVaadinThemes(themes) {\n      ['Lumo', 'Material'].forEach(function (themeName) {\n        var theme;\n        var version = getPolymerVersion();\n        if (version && version.indexOf('2') === 0) {\n          // Polymer 2: themes are stored in window.Vaadin\n          theme = window.Vaadin[themeName];\n        } else {\n          // Polymer 3: themes are stored in custom element registry\n          theme = customElements.get('vaadin-' + themeName.toLowerCase() + '-styles');\n        }\n        if (theme && theme.version) {\n          themes[themeName] = { version: theme.version };\n        }\n      });\n    }\n  }, {\n    key: 'getFrameworks',\n    value: function getFrameworks(frameworks) {\n      var detectors = this.frameworkVersionDetectors();\n      Object.keys(detectors).forEach(function (framework) {\n        var detector = detectors[framework];\n        try {\n          var version = detector();\n          if (version) {\n            frameworks[framework] = { version: version };\n          }\n        } catch (e) {}\n      });\n    }\n  }, {\n    key: 'gather',\n    value: function gather(storage) {\n      var storedStats = storage.read();\n      var gatheredStats = {};\n      var types = [\"elements\", \"frameworks\", \"themes\"];\n       types.forEach(function (type) {\n        gatheredStats[type] = {};\n        if (!storedStats[type]) {\n          storedStats[type] = {};\n        }\n      });\n       var previousStats = JSON.stringify(storedStats);\n       this.getUsedVaadinElements(gatheredStats.elements);\n      this.getFrameworks(gatheredStats.frameworks);\n      this.getUsedVaadinThemes(gatheredStats.themes);\n       var now = this.now;\n      types.forEach(function (type) {\n        var keys = Object.keys(gatheredStats[type]);\n        keys.forEach(function (key) {\n          if (!storedStats[type][key] || _typeof(storedStats[type][key]) != _typeof({})) {\n            storedStats[type][key] = { firstUsed: now };\n          }\n          // Discards any previously logged version number\n          storedStats[type][key].version = gatheredStats[type][key].version;\n          storedStats[type][key].lastUsed = now;\n        });\n      });\n       var newStats = JSON.stringify(storedStats);\n      storage.write(newStats);\n      if (newStats != previousStats && Object.keys(storedStats).length > 0) {\n        this.logger.debug(\"New stats: \" + newStats);\n      }\n    }\n  }]);\n  return StatisticsGatherer;\n  }();\n  var StatisticsStorage = function () {\n  function StatisticsStorage(key) {\n    classCallCheck(this, StatisticsStorage);\n     this.key = key;\n  }\n   createClass(StatisticsStorage, [{\n    key: 'read',\n    value: function read() {\n      var localStorageStatsString = localStorage.getItem(this.key);\n      try {\n        return JSON.parse(localStorageStatsString ? localStorageStatsString : '{}');\n      } catch (e) {\n        return {};\n      }\n    }\n  }, {\n    key: 'write',\n    value: function write(data) {\n      localStorage.setItem(this.key, data);\n    }\n  }, {\n    key: 'clear',\n    value: function clear() {\n      localStorage.removeItem(this.key);\n    }\n  }, {\n    key: 'isEmpty',\n    value: function isEmpty() {\n      var storedStats = this.read();\n      var empty = true;\n      Object.keys(storedStats).forEach(function (key) {\n        if (Object.keys(storedStats[key]).length > 0) {\n          empty = false;\n        }\n      });\n       return empty;\n    }\n  }]);\n  return StatisticsStorage;\n  }();\n  var StatisticsSender = function () {\n  function StatisticsSender(url, logger) {\n    classCallCheck(this, StatisticsSender);\n     this.url = url;\n    this.logger = logger;\n  }\n   createClass(StatisticsSender, [{\n    key: 'send',\n    value: function send(data, errorHandler) {\n      var logger = this.logger;\n       if (navigator.onLine === false) {\n        logger.debug(\"Offline, can't send\");\n        errorHandler();\n        return;\n      }\n      logger.debug(\"Sending data to \" + this.url);\n       var req = new XMLHttpRequest();\n      req.withCredentials = true;\n      req.addEventListener(\"load\", function () {\n        // Stats sent, nothing more to do\n        logger.debug(\"Response: \" + req.responseText);\n      });\n      req.addEventListener(\"error\", function () {\n        logger.debug(\"Send failed\");\n        errorHandler();\n      });\n      req.addEventListener(\"abort\", function () {\n        logger.debug(\"Send aborted\");\n        errorHandler();\n      });\n      req.open(\"POST\", this.url);\n      req.setRequestHeader(\"Content-Type\", \"application/json\");\n      req.send(data);\n    }\n  }]);\n  return StatisticsSender;\n  }();\n  var StatisticsLogger = function () {\n  function StatisticsLogger(id) {\n    classCallCheck(this, StatisticsLogger);\n     this.id = id;\n  }\n   createClass(StatisticsLogger, [{\n    key: '_isDebug',\n    value: function _isDebug() {\n      return localStorage.getItem(\"vaadin.\" + this.id + \".debug\");\n    }\n  }, {\n    key: 'debug',\n    value: function debug(msg) {\n      if (this._isDebug()) {\n        console.info(this.id + \": \" + msg);\n      }\n    }\n  }]);\n  return StatisticsLogger;\n  }();\n  var UsageStatistics = function () {\n  function UsageStatistics() {\n    classCallCheck(this, UsageStatistics);\n     this.now = new Date();\n    this.timeNow = this.now.getTime();\n    this.gatherDelay = 10; // Delay between loading this file and gathering stats\n    this.initialDelay = 24 * 60 * 60;\n     this.logger = new StatisticsLogger(\"statistics\");\n    this.storage = new StatisticsStorage(\"vaadin.statistics.basket\");\n    this.gatherer = new StatisticsGatherer(this.logger);\n    this.sender = new StatisticsSender(\"https://tools.vaadin.com/usage-stats/submit\", this.logger);\n  }\n   createClass(UsageStatistics, [{\n    key: 'maybeGatherAndSend',\n    value: function maybeGatherAndSend() {\n      var _this = this;\n       if (localStorage.getItem(UsageStatistics.optOutKey)) {\n        return;\n      }\n      this.gatherer.gather(this.storage);\n      setTimeout(function () {\n        _this.maybeSend();\n      }, this.gatherDelay * 1000);\n    }\n  }, {\n    key: 'lottery',\n    value: function lottery() {\n      return true;\n    }\n  }, {\n    key: 'currentMonth',\n    value: function currentMonth() {\n      return this.now.getYear() * 12 + this.now.getMonth();\n    }\n  }, {\n    key: 'maybeSend',\n    value: function maybeSend() {\n      var firstUse = Number(localStorage.getItem(UsageStatistics.firstUseKey));\n      var monthProcessed = Number(localStorage.getItem(UsageStatistics.monthProcessedKey));\n       if (!firstUse) {\n        // Use a grace period to avoid interfering with tests, incognito mode etc\n        firstUse = this.timeNow;\n        localStorage.setItem(UsageStatistics.firstUseKey, firstUse);\n      }\n       if (this.timeNow < firstUse + this.initialDelay * 1000) {\n        this.logger.debug(\"No statistics will be sent until the initial delay of \" + this.initialDelay + \"s has passed\");\n        return;\n      }\n      if (this.currentMonth() <= monthProcessed) {\n        this.logger.debug(\"This month has already been processed\");\n        return;\n      }\n      localStorage.setItem(UsageStatistics.monthProcessedKey, this.currentMonth());\n      // Use random sampling\n      if (this.lottery()) {\n        this.logger.debug(\"Congratulations, we have a winner!\");\n      } else {\n        this.logger.debug(\"Sorry, no stats from you this time\");\n        return;\n      }\n       this.send();\n    }\n  }, {\n    key: 'send',\n    value: function send() {\n      // Ensure we have the latest data\n      this.gatherer.gather(this.storage);\n       // Read, send and clean up\n      var data = this.storage.read();\n      data[\"firstUse\"] = Number(localStorage.getItem(UsageStatistics.firstUseKey));\n      data[\"usageStatisticsVersion\"] = UsageStatistics.version;\n      var info = 'This request contains usage statistics gathered from the application running in development mode. \\n\\nStatistics gathering is automatically disabled and excluded from production builds.\\n\\nFor details and to opt-out, see https://github.com/vaadin/vaadin-usage-statistics.\\n\\n\\n\\n';\n      var self = this;\n      this.sender.send(info + JSON.stringify(data), function () {\n        // Revert the 'month processed' flag\n        localStorage.setItem(UsageStatistics.monthProcessedKey, self.currentMonth() - 1);\n      });\n    }\n  }], [{\n    key: 'version',\n    get: function get$1() {\n      return '2.1.0';\n    }\n  }, {\n    key: 'firstUseKey',\n    get: function get$1() {\n      return 'vaadin.statistics.firstuse';\n    }\n  }, {\n    key: 'monthProcessedKey',\n    get: function get$1() {\n      return 'vaadin.statistics.monthProcessed';\n    }\n  }, {\n    key: 'optOutKey',\n    get: function get$1() {\n      return 'vaadin.statistics.optout';\n    }\n  }]);\n  return UsageStatistics;\n  }();\n  try {\n  window.Vaadin = window.Vaadin || {};\n  window.Vaadin.usageStatsChecker = window.Vaadin.usageStatsChecker || new UsageStatistics();\n  window.Vaadin.usageStatsChecker.maybeGatherAndSend();\n  } catch (e) {\n  // Intentionally ignored as this is not a problem in the app being developed\n  }\n  }());\n   vaadin-dev-mode:end **/\n}\n\nexport const usageStatistics = function () {\n  if (typeof runIfDevelopmentMode === 'function') {\n    return runIfDevelopmentMode(maybeGatherAndSendStats);\n  }\n};","import { idlePeriod } from \"@polymer/polymer/lib/utils/async.js\";\nimport { Debouncer } from \"@polymer/polymer/lib/utils/debounce.js\";\nimport { enqueueDebouncer } from \"@polymer/polymer/lib/utils/flush.js\";\nimport { usageStatistics } from \"../vaadin-usage-statistics/vaadin-usage-statistics.js\";\n\nif (!window.Vaadin) {\n  window['Vaadin'] = {};\n}\n/**\n * Array of Vaadin custom element classes that have been finalized.\n */\n\n\nwindow['Vaadin'].registrations = window.Vaadin.registrations || []; // Use the hack to prevent polymer-modulizer from converting to exports\n\nwindow['Vaadin'].developmentModeCallback = window.Vaadin.developmentModeCallback || {};\n\nwindow['Vaadin'].developmentModeCallback['vaadin-usage-statistics'] = function () {\n  if (usageStatistics) {\n    usageStatistics();\n  }\n};\n\nlet statsJob;\nconst registered = new Set();\n/**\n * @polymerMixin\n */\n\nexport const ElementMixin = superClass => class VaadinElementMixin extends superClass {\n  /** @protected */\n  static finalize() {\n    super.finalize();\n    const {\n      is\n    } = this; // Registers a class prototype for telemetry purposes.\n\n    if (is && !registered.has(is)) {\n      window.Vaadin.registrations.push(this);\n      registered.add(is);\n\n      if (window.Vaadin.developmentModeCallback) {\n        statsJob = Debouncer.debounce(statsJob, idlePeriod, () => {\n          window.Vaadin.developmentModeCallback['vaadin-usage-statistics']();\n        });\n        enqueueDebouncer(statsJob);\n      }\n    }\n  }\n\n  constructor() {\n    super();\n\n    if (document.doctype === null) {\n      console.warn('Vaadin components require the \"standards mode\" declaration. Please add <!DOCTYPE html> to the HTML document.');\n    }\n  }\n\n};","/**\n@license\nCopyright (c) 2017 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\nimport { PolymerElement } from \"@polymer/polymer/polymer-element.js\";\nimport { GestureEventListeners } from \"@polymer/polymer/lib/mixins/gesture-event-listeners.js\";\nimport { ThemableMixin } from \"../../vaadin-themable-mixin/vaadin-themable-mixin.js\";\nimport { ControlStateMixin } from \"../../vaadin-control-state-mixin/vaadin-control-state-mixin.js\";\nimport { ElementMixin } from \"../../vaadin-element-mixin/vaadin-element-mixin.js\";\nimport { html } from \"@polymer/polymer/lib/utils/html-tag.js\";\nimport { addListener } from \"@polymer/polymer/lib/utils/gestures.js\";\n/**\n * `<vaadin-button>` is a Web Component providing an accessible and customizable button.\n *\n * ```html\n * <vaadin-button>\n * </vaadin-button>\n * ```\n *\n * ```js\n * document.querySelector('vaadin-button').addEventListener('click', () => alert('Hello World!'));\n * ```\n *\n * ### Styling\n *\n * The following shadow DOM parts are exposed for styling:\n *\n * Part name | Description\n * ----------------|----------------\n * `label` | The label (text) inside the button\n * `prefix` | A slot for e.g. an icon before the label\n * `suffix` | A slot for e.g. an icon after the label\n *\n *\n * The following attributes are exposed for styling:\n *\n * Attribute | Description\n * --------- | -----------\n * `active` | Set when the button is pressed down, either with mouse, touch or the keyboard.\n * `disabled` | Set when the button is disabled.\n * `focus-ring` | Set when the button is focused using the keyboard.\n * `focused` | Set when the button is focused.\n *\n * See [ThemableMixin – how to apply styles for shadow parts](https://github.com/vaadin/vaadin-themable-mixin/wiki)\n *\n * @memberof Vaadin\n * @mixes Vaadin.ElementMixin\n * @mixes Vaadin.ControlStateMixin\n * @mixes Vaadin.ThemableMixin\n * @mixes Polymer.GestureEventListeners\n * @demo demo/index.html\n */\n\nclass ButtonElement extends ElementMixin(ControlStateMixin(ThemableMixin(GestureEventListeners(PolymerElement)))) {\n  static get template() {\n    return html`\n    <style>\n      :host {\n        display: inline-block;\n        position: relative;\n        outline: none;\n        white-space: nowrap;\n      }\n\n      :host([hidden]) {\n        display: none !important;\n      }\n\n      /* Ensure the button is always aligned on the baseline */\n      .vaadin-button-container::before {\n        content: \"\\\\2003\";\n        display: inline-block;\n        width: 0;\n      }\n\n      .vaadin-button-container {\n        display: inline-flex;\n        align-items: center;\n        justify-content: center;\n        text-align: center;\n        width: 100%;\n        height: 100%;\n        min-height: inherit;\n        text-shadow: inherit;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        user-select: none;\n      }\n\n      [part=\"prefix\"],\n      [part=\"suffix\"] {\n        flex: none;\n      }\n\n      [part=\"label\"] {\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis;\n      }\n\n      #button {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        opacity: 0;\n        cursor: inherit;\n      }\n    </style>\n    <div class=\"vaadin-button-container\">\n      <div part=\"prefix\">\n        <slot name=\"prefix\"></slot>\n      </div>\n      <div part=\"label\">\n        <slot></slot>\n      </div>\n      <div part=\"suffix\">\n        <slot name=\"suffix\"></slot>\n      </div>\n    </div>\n    <button id=\"button\" type=\"button\"></button>\n`;\n  }\n\n  static get is() {\n    return 'vaadin-button';\n  }\n\n  static get version() {\n    return '2.2.1';\n  }\n\n  ready() {\n    super.ready(); // Leaving default role in the native button, makes navigation announcement\n    // being different when using focus navigation (tab) versus using normal\n    // navigation (arrows). The first way announces the label on a button\n    // since the focus is moved programmatically, and the second on a group.\n\n    this.setAttribute('role', 'button');\n    this.$.button.setAttribute('role', 'presentation');\n\n    this._addActiveListeners();\n  }\n  /**\n   * @protected\n   */\n\n\n  disconnectedCallback() {\n    super.disconnectedCallback(); // `active` state is preserved when the element is disconnected between keydown and keyup events.\n    // reproducible in `<vaadin-date-picker>` when closing on `Cancel` or `Today` click.\n\n    if (this.hasAttribute('active')) {\n      this.removeAttribute('active');\n    }\n  }\n\n  _addActiveListeners() {\n    addListener(this, 'down', () => !this.disabled && this.setAttribute('active', ''));\n    addListener(this, 'up', () => this.removeAttribute('active'));\n    this.addEventListener('keydown', e => !this.disabled && [13, 32].indexOf(e.keyCode) >= 0 && this.setAttribute('active', ''));\n    this.addEventListener('keyup', () => this.removeAttribute('active'));\n    this.addEventListener('blur', () => this.removeAttribute('active'));\n  }\n  /**\n   * @protected\n   */\n\n\n  get focusElement() {\n    return this.$.button;\n  }\n\n}\n\ncustomElements.define(ButtonElement.is, ButtonElement);\nexport { ButtonElement };","import \"../../../vaadin-lumo-styles/color.js\";\nimport \"../../../vaadin-lumo-styles/style.js\";\nimport { html } from \"@polymer/polymer/lib/utils/html-tag.js\";\nconst $_documentContainer = html`<dom-module id=\"lumo-checkbox\" theme-for=\"vaadin-checkbox\">\n  <template>\n    <style include=\"lumo-checkbox-style lumo-checkbox-effects\">\n      /* IE11 only */\n      ::-ms-backdrop,\n      [part=\"checkbox\"] {\n        line-height: 1;\n      }\n    </style>\n  </template>\n</dom-module><dom-module id=\"lumo-checkbox-style\">\n  <template>\n    <style>\n      :host {\n        -webkit-tap-highlight-color: transparent;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        user-select: none;\n        cursor: default;\n        outline: none;\n      }\n\n      [part=\"label\"]:not([empty]) {\n        margin: 0.1875em 0.875em 0.1875em 0.375em;\n      }\n\n      [part=\"checkbox\"] {\n        width: calc(1em + 2px);\n        height: calc(1em + 2px);\n        margin: 0.1875em;\n        position: relative;\n        border-radius: var(--lumo-border-radius);\n        background-color: var(--lumo-contrast-20pct);\n        transition: transform 0.2s cubic-bezier(.12, .32, .54, 2), background-color 0.15s;\n        pointer-events: none;\n        line-height: 1.2;\n      }\n\n      :host([indeterminate]) [part=\"checkbox\"],\n      :host([checked]) [part=\"checkbox\"] {\n        background-color: var(--lumo-primary-color);\n      }\n\n      /* Needed to align the checkbox nicely on the baseline */\n      [part=\"checkbox\"]::before {\n        content: \"\\\\2003\";\n      }\n\n      /* Checkmark */\n      [part=\"checkbox\"]::after {\n        content: \"\";\n        display: inline-block;\n        width: 0;\n        height: 0;\n        border: 0 solid var(--lumo-primary-contrast-color);\n        border-width: 0.1875em 0 0 0.1875em;\n        box-sizing: border-box;\n        transform-origin: 0 0;\n        position: absolute;\n        top: 0.8125em;\n        left: 0.5em;\n        transform: scale(0.55) rotate(-135deg);\n        opacity: 0;\n      }\n\n      :host([checked]) [part=\"checkbox\"]::after {\n        opacity: 1;\n        width: 0.625em;\n        height: 1.0625em;\n      }\n\n      /* Indeterminate checkmark */\n\n      :host([indeterminate]) [part=\"checkbox\"]::after {\n        transform: none;\n        opacity: 1;\n        top: 45%;\n        height: 10%;\n        left: 22%;\n        right: 22%;\n        width: auto;\n        border: 0;\n        background-color: var(--lumo-primary-contrast-color);\n        transition: opacity 0.25s;\n      }\n\n      /* Focus ring */\n\n      :host([focus-ring]) [part=\"checkbox\"] {\n        box-shadow: 0 0 0 3px var(--lumo-primary-color-50pct);\n      }\n\n      /* Disabled */\n\n      :host([disabled]) {\n        pointer-events: none;\n        color: var(--lumo-disabled-text-color);\n      }\n\n      :host([disabled]) [part=\"label\"] ::slotted(*) {\n        color: inherit;\n      }\n\n      :host([disabled]) [part=\"checkbox\"] {\n        background-color: var(--lumo-contrast-10pct);\n      }\n\n      :host([disabled]) [part=\"checkbox\"]::after {\n        border-color: var(--lumo-contrast-30pct);\n      }\n\n      :host([indeterminate][disabled]) [part=\"checkbox\"]::after {\n        background-color: var(--lumo-contrast-30pct);\n      }\n    </style>\n  </template>\n</dom-module><dom-module id=\"lumo-checkbox-effects\">\n  <template>\n    <style>\n      /* Transition the checkmark if activated with the mouse (disabled for grid select-all this way) */\n      :host(:hover) [part=\"checkbox\"]::after {\n        transition: width 0.1s, height 0.25s;\n      }\n\n      /* Used for activation \"halo\" */\n      [part=\"checkbox\"]::before {\n        color: transparent;\n        display: inline-block;\n        width: 100%;\n        height: 100%;\n        border-radius: inherit;\n        background-color: inherit;\n        transform: scale(1.4);\n        opacity: 0;\n        transition: transform 0.1s, opacity 0.8s;\n      }\n\n      /* Hover */\n\n      :host(:not([checked]):not([indeterminate]):not([disabled]):hover) [part=\"checkbox\"] {\n        background-color: var(--lumo-contrast-30pct);\n      }\n\n      /* Disable hover for touch devices */\n      @media (pointer: coarse) {\n        :host(:not([checked]):not([indeterminate]):not([disabled]):hover) [part=\"checkbox\"] {\n          background-color: var(--lumo-contrast-20pct);\n        }\n      }\n\n      /* Active */\n\n      :host([active]) [part=\"checkbox\"] {\n        transform: scale(0.9);\n        transition-duration: 0.05s;\n      }\n\n      :host([active][checked]) [part=\"checkbox\"] {\n        transform: scale(1.1);\n      }\n\n      :host([active]:not([checked])) [part=\"checkbox\"]::before {\n        transition-duration: 0.01s, 0.01s;\n        transform: scale(0);\n        opacity: 0.4;\n      }\n    </style>\n  </template>\n</dom-module>`;\ndocument.head.appendChild($_documentContainer.content);","/**\n@license\nCopyright (c) 2017 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\nimport { PolymerElement } from \"@polymer/polymer/polymer-element.js\";\nimport { GestureEventListeners } from \"@polymer/polymer/lib/mixins/gesture-event-listeners.js\";\nimport { ThemableMixin } from \"../../vaadin-themable-mixin/vaadin-themable-mixin.js\";\nimport { ControlStateMixin } from \"../../vaadin-control-state-mixin/vaadin-control-state-mixin.js\";\nimport { ElementMixin } from \"../../vaadin-element-mixin/vaadin-element-mixin.js\";\nimport { html } from \"@polymer/polymer/lib/utils/html-tag.js\";\n/**\n * `<vaadin-checkbox>` is a Web Component for customized checkboxes.\n *\n * ```html\n * <vaadin-checkbox>\n *   Make my profile visible\n * </vaadin-checkbox>\n * ```\n *\n * ### Styling\n *\n * The following shadow DOM parts are available for styling:\n *\n * Part name         | Description\n * ------------------|----------------\n * `checkbox`        | The checkbox element\n * `label`           | The label content element\n *\n * The following state attributes are available for styling:\n *\n * Attribute    | Description | Part name\n * -------------|-------------|--------------\n * `active`     | Set when the checkbox is pressed down, either with mouse, touch or the keyboard. | `:host`\n * `disabled`   | Set when the checkbox is disabled. | `:host`\n * `focus-ring` | Set when the checkbox is focused using the keyboard. | `:host`\n * `focused`    | Set when the checkbox is focused. | `:host`\n * `indeterminate` | Set when the checkbox is in indeterminate mode. | `:host`\n * `checked` | Set when the checkbox is checked. | `:host`\n * `empty` | Set when there is no label provided. | `label`\n *\n * See [ThemableMixin – how to apply styles for shadow parts](https://github.com/vaadin/vaadin-themable-mixin/wiki)\n *\n * @memberof Vaadin\n * @mixes Vaadin.ElementMixin\n * @mixes Vaadin.ControlStateMixin\n * @mixes Vaadin.ThemableMixin\n * @mixes Polymer.GestureEventListeners\n * @demo demo/index.html\n */\n\nclass CheckboxElement extends ElementMixin(ControlStateMixin(ThemableMixin(GestureEventListeners(PolymerElement)))) {\n  static get template() {\n    return html`\n    <style>\n      :host {\n        display: inline-block;\n      }\n\n      :host([hidden]) {\n        display: none !important;\n      }\n\n      label {\n        display: inline-flex;\n        align-items: baseline;\n        outline: none;\n      }\n\n      [part=\"checkbox\"] {\n        position: relative;\n        display: inline-block;\n        flex: none;\n      }\n\n      input[type=\"checkbox\"] {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        opacity: 0;\n        cursor: inherit;\n        margin: 0;\n      }\n\n      :host([disabled]) {\n        -webkit-tap-highlight-color: transparent;\n      }\n    </style>\n\n    <label>\n      <span part=\"checkbox\">\n        <input type=\"checkbox\" checked=\"{{checked::change}}\" disabled\\$=\"[[disabled]]\" indeterminate=\"{{indeterminate::change}}\" role=\"presentation\" tabindex=\"-1\">\n      </span>\n\n      <span part=\"label\">\n        <slot></slot>\n      </span>\n    </label>\n`;\n  }\n\n  static get is() {\n    return 'vaadin-checkbox';\n  }\n\n  static get version() {\n    return '2.2.10';\n  }\n\n  static get properties() {\n    return {\n      /**\n       * True if the checkbox is checked.\n       */\n      checked: {\n        type: Boolean,\n        value: false,\n        notify: true,\n        observer: '_checkedChanged',\n        reflectToAttribute: true\n      },\n\n      /**\n       * Indeterminate state of the checkbox when it's neither checked nor unchecked, but undetermined.\n       * https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/checkbox#Indeterminate_state_checkboxes\n       */\n      indeterminate: {\n        type: Boolean,\n        notify: true,\n        observer: '_indeterminateChanged',\n        reflectToAttribute: true,\n        value: false\n      },\n\n      /**\n       * The value given to the data submitted with the checkbox's name to the server when the control is inside a form.\n       */\n      value: {\n        type: String,\n        value: 'on'\n      },\n      _nativeCheckbox: {\n        type: Object\n      }\n    };\n  }\n\n  constructor() {\n    super();\n    /**\n     * @type {string}\n     * Name of the element.\n     */\n\n    this.name;\n  }\n\n  get name() {\n    return this.checked ? this._storedName : '';\n  }\n\n  set name(name) {\n    this._storedName = name;\n  }\n\n  ready() {\n    super.ready();\n    this.setAttribute('role', 'checkbox');\n    this._nativeCheckbox = this.shadowRoot.querySelector('input[type=\"checkbox\"]');\n    this.addEventListener('click', this._handleClick.bind(this));\n\n    this._addActiveListeners();\n\n    const attrName = this.getAttribute('name');\n\n    if (attrName) {\n      this.name = attrName;\n    }\n\n    this.shadowRoot.querySelector('[part~=\"label\"]').querySelector('slot').addEventListener('slotchange', this._updateLabelAttribute.bind(this));\n\n    this._updateLabelAttribute();\n  }\n\n  _updateLabelAttribute() {\n    const label = this.shadowRoot.querySelector('[part~=\"label\"]');\n    const assignedNodes = label.firstElementChild.assignedNodes();\n\n    if (this._isAssignedNodesEmpty(assignedNodes)) {\n      label.setAttribute('empty', '');\n    } else {\n      label.removeAttribute('empty');\n    }\n  }\n\n  _isAssignedNodesEmpty(nodes) {\n    // The assigned nodes considered to be empty if there is no slotted content or only one empty text node\n    return nodes.length === 0 || nodes.length == 1 && nodes[0].nodeType == Node.TEXT_NODE && nodes[0].textContent.trim() === '';\n  }\n\n  _checkedChanged(checked) {\n    if (this.indeterminate) {\n      this.setAttribute('aria-checked', 'mixed');\n    } else {\n      this.setAttribute('aria-checked', checked);\n    }\n  }\n\n  _indeterminateChanged(indeterminate) {\n    if (indeterminate) {\n      this.setAttribute('aria-checked', 'mixed');\n    } else {\n      this.setAttribute('aria-checked', this.checked);\n    }\n  }\n\n  _addActiveListeners() {\n    // DOWN\n    this._addEventListenerToNode(this, 'down', e => {\n      if (this.__interactionsAllowed(e)) {\n        this.setAttribute('active', '');\n      }\n    }); // UP\n\n\n    this._addEventListenerToNode(this, 'up', () => this.removeAttribute('active')); // KEYDOWN\n\n\n    this.addEventListener('keydown', e => {\n      if (this.__interactionsAllowed(e) && e.keyCode === 32) {\n        e.preventDefault();\n        this.setAttribute('active', '');\n      }\n    }); // KEYUP\n\n    this.addEventListener('keyup', e => {\n      if (this.__interactionsAllowed(e) && e.keyCode === 32) {\n        e.preventDefault();\n\n        this._toggleChecked();\n\n        this.removeAttribute('active');\n\n        if (this.indeterminate) {\n          this.indeterminate = false;\n        }\n      }\n    });\n  }\n  /** @protected */\n\n\n  get focusElement() {\n    return this.shadowRoot.querySelector('input');\n  }\n  /**\n   * True if users' interactions (mouse or keyboard)\n   * should toggle the checkbox\n   */\n\n\n  __interactionsAllowed(e) {\n    if (this.disabled) {\n      return false;\n    } // https://github.com/vaadin/vaadin-checkbox/issues/63\n\n\n    if (e.target.localName === 'a') {\n      return false;\n    }\n\n    return true;\n  }\n\n  _handleClick(e) {\n    if (this.__interactionsAllowed(e)) {\n      if (!this.indeterminate) {\n        if (e.composedPath()[0] !== this._nativeCheckbox) {\n          e.preventDefault();\n\n          this._toggleChecked();\n        }\n      } else {\n        /*\n         * Required for IE 11 and Edge.\n         * See issue here: https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/7344418/\n         */\n        this.indeterminate = false;\n        e.preventDefault();\n\n        this._toggleChecked();\n      }\n    }\n  }\n\n  _toggleChecked() {\n    this.checked = !this.checked;\n    this.dispatchEvent(new CustomEvent('change', {\n      composed: false,\n      bubbles: true\n    }));\n  }\n  /**\n   * Fired when the user commits a value change.\n   *\n   * @event change\n   */\n\n\n}\n\ncustomElements.define(CheckboxElement.is, CheckboxElement);\nexport { CheckboxElement };","import '../color.js';\nimport '../spacing.js';\nimport '../style.js';\nimport '../typography.js';\nconst $_documentContainer = document.createElement('template');\n$_documentContainer.innerHTML = `<dom-module id=\"lumo-overlay\">\n  <template>\n    <style>\n      :host {\n        top: var(--lumo-space-m);\n        right: var(--lumo-space-m);\n        bottom: var(--lumo-space-m);\n        left: var(--lumo-space-m);\n        /* Workaround for Edge issue (only on Surface), where an overflowing vaadin-list-box inside vaadin-select-overlay makes the overlay transparent */\n        /* stylelint-disable-next-line */\n        outline: 0px solid transparent;\n      }\n\n      [part=\"overlay\"] {\n        background-color: var(--lumo-base-color);\n        background-image: linear-gradient(var(--lumo-tint-5pct), var(--lumo-tint-5pct));\n        border-radius: var(--lumo-border-radius-m);\n        box-shadow: 0 0 0 1px var(--lumo-shade-5pct), var(--lumo-box-shadow-m);\n        color: var(--lumo-body-text-color);\n        font-family: var(--lumo-font-family);\n        font-size: var(--lumo-font-size-m);\n        font-weight: 400;\n        line-height: var(--lumo-line-height-m);\n        letter-spacing: 0;\n        text-transform: none;\n        -webkit-text-size-adjust: 100%;\n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: grayscale;\n      }\n\n      [part=\"content\"] {\n        padding: var(--lumo-space-xs);\n      }\n\n      [part=\"backdrop\"] {\n        background-color: var(--lumo-shade-20pct);\n        animation: 0.2s lumo-overlay-backdrop-enter both;\n        will-change: opacity;\n      }\n\n      @keyframes lumo-overlay-backdrop-enter {\n        0% {\n          opacity: 0;\n        }\n      }\n\n      :host([closing]) [part=\"backdrop\"] {\n        animation: 0.2s lumo-overlay-backdrop-exit both;\n      }\n\n      @keyframes lumo-overlay-backdrop-exit {\n        100% {\n          opacity: 0;\n        }\n      }\n\n      @keyframes lumo-overlay-dummy-animation {\n        0% { opacity: 1; }\n        100% { opacity: 1; }\n      }\n    </style>\n  </template>\n</dom-module>`;\ndocument.head.appendChild($_documentContainer.content);","import \"../../../vaadin-lumo-styles/mixins/overlay.js\";\nimport { html } from \"@polymer/polymer/lib/utils/html-tag.js\";\nconst $_documentContainer = html`<dom-module id=\"lumo-vaadin-overlay\" theme-for=\"vaadin-overlay\">\n  <template>\n    <style include=\"lumo-overlay\">\n      /* stylelint-disable no-empty-source */\n    </style>\n  </template>\n</dom-module>`;\ndocument.head.appendChild($_documentContainer.content);","const p = Element.prototype;\nconst matches = p.matches || p.matchesSelector || p.mozMatchesSelector || p.msMatchesSelector || p.oMatchesSelector || p.webkitMatchesSelector;\n/**\n * `Polymer.IronFocusablesHelper` relies on some Polymer-specific legacy API,\n * especially the `root` property which does not exist for native shadow DOM.\n * That's why we have this helper here.\n * See https://github.com/PolymerElements/iron-overlay-behavior/issues/282\n */\n\nconst FocusablesHelper = {\n  /**\n   * Returns a sorted array of tabbable nodes, including the root node.\n   * It searches the tabbable nodes in the light and shadow dom of the children,\n   * sorting the result by tabindex.\n   * @param {!Node} node\n   * @return {!Array<!HTMLElement>}\n   */\n  getTabbableNodes: function (node) {\n    const result = []; // If there is at least one element with tabindex > 0, we need to sort\n    // the final array by tabindex.\n\n    const needsSortByTabIndex = this._collectTabbableNodes(node, result);\n\n    if (needsSortByTabIndex) {\n      return this._sortByTabIndex(result);\n    }\n\n    return result;\n  },\n\n  /**\n   * Returns if a element is focusable.\n   * @param {!HTMLElement} element\n   * @return {boolean}\n   */\n  isFocusable: function (element) {\n    // From http://stackoverflow.com/a/1600194/4228703:\n    // There isn't a definite list, it's up to the browser. The only\n    // standard we have is DOM Level 2 HTML\n    // https://www.w3.org/TR/DOM-Level-2-HTML/html.html, according to which the\n    // only elements that have a focus() method are HTMLInputElement,\n    // HTMLSelectElement, HTMLTextAreaElement and HTMLAnchorElement. This\n    // notably omits HTMLButtonElement and HTMLAreaElement. Referring to these\n    // tests with tabbables in different browsers\n    // http://allyjs.io/data-tables/focusable.html\n    // Elements that cannot be focused if they have [disabled] attribute.\n    if (matches.call(element, 'input, select, textarea, button, object')) {\n      return matches.call(element, ':not([disabled])');\n    } // Elements that can be focused even if they have [disabled] attribute.\n\n\n    return matches.call(element, 'a[href], area[href], iframe, [tabindex], [contentEditable]');\n  },\n\n  /**\n   * Returns if a element is tabbable. To be tabbable, a element must be\n   * focusable, visible, and with a tabindex !== -1.\n   * @param {!HTMLElement} element\n   * @return {boolean}\n   */\n  isTabbable: function (element) {\n    return this.isFocusable(element) && matches.call(element, ':not([tabindex=\"-1\"])') && this._isVisible(element);\n  },\n\n  /**\n   * Returns the normalized element tabindex. If not focusable, returns -1.\n   * It checks for the attribute \"tabindex\" instead of the element property\n   * `tabIndex` since browsers assign different values to it.\n   * e.g. in Firefox `<div contenteditable>` has `tabIndex = -1`\n   * @param {!HTMLElement} element\n   * @return {!number}\n   * @private\n   */\n  _normalizedTabIndex: function (element) {\n    if (this.isFocusable(element)) {\n      const tabIndex = element.getAttribute('tabindex') || 0;\n      return Number(tabIndex);\n    }\n\n    return -1;\n  },\n\n  /**\n   * Searches for nodes that are tabbable and adds them to the `result` array.\n   * Returns if the `result` array needs to be sorted by tabindex.\n   * @param {!Node} node The starting point for the search; added to `result` if tabbable.\n   * @param {!Array<!HTMLElement>} result\n   * @return {boolean}\n   * @private\n   */\n  _collectTabbableNodes: function (node, result) {\n    // If not an element or not visible, no need to explore children.\n    if (node.nodeType !== Node.ELEMENT_NODE || !this._isVisible(node)) {\n      return false;\n    }\n\n    const element =\n    /** @type {!HTMLElement} */\n    node;\n\n    const tabIndex = this._normalizedTabIndex(element);\n\n    let needsSort = tabIndex > 0;\n\n    if (tabIndex >= 0) {\n      result.push(element);\n    } // In ShadowDOM v1, tab order is affected by the order of distribution.\n    // E.g. getTabbableNodes(#root) in ShadowDOM v1 should return [#A, #B];\n    // in ShadowDOM v0 tab order is not affected by the distribution order,\n    // in fact getTabbableNodes(#root) returns [#B, #A].\n    //  <div id=\"root\">\n    //   <!-- shadow -->\n    //     <slot name=\"a\">\n    //     <slot name=\"b\">\n    //   <!-- /shadow -->\n    //   <input id=\"A\" slot=\"a\">\n    //   <input id=\"B\" slot=\"b\" tabindex=\"1\">\n    //  </div>\n\n\n    let children;\n\n    if (element.localName === 'slot') {\n      children = element.assignedNodes({\n        flatten: true\n      });\n    } else {\n      // Use shadow root if possible, will check for distributed nodes.\n      children = (element.shadowRoot || element).children;\n    }\n\n    if (children) {\n      for (let i = 0; i < children.length; i++) {\n        // Ensure method is always invoked to collect tabbable children.\n        needsSort = this._collectTabbableNodes(children[i], result) || needsSort;\n      }\n    }\n\n    return needsSort;\n  },\n\n  /**\n   * Returns false if the element has `visibility: hidden` or `display: none`\n   * @param {!HTMLElement} element\n   * @return {boolean}\n   * @private\n   */\n  _isVisible: function (element) {\n    // Check inline style first to save a re-flow. If looks good, check also\n    // computed style.\n    let style = element.style;\n\n    if (style.visibility !== 'hidden' && style.display !== 'none') {\n      style = window.getComputedStyle(element);\n      return style.visibility !== 'hidden' && style.display !== 'none';\n    }\n\n    return false;\n  },\n\n  /**\n   * Sorts an array of tabbable elements by tabindex. Returns a new array.\n   * @param {!Array<!HTMLElement>} tabbables\n   * @return {!Array<!HTMLElement>}\n   * @private\n   */\n  _sortByTabIndex: function (tabbables) {\n    // Implement a merge sort as Array.prototype.sort does a non-stable sort\n    // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort\n    const len = tabbables.length;\n\n    if (len < 2) {\n      return tabbables;\n    }\n\n    const pivot = Math.ceil(len / 2);\n\n    const left = this._sortByTabIndex(tabbables.slice(0, pivot));\n\n    const right = this._sortByTabIndex(tabbables.slice(pivot));\n\n    return this._mergeSortByTabIndex(left, right);\n  },\n\n  /**\n   * Merge sort iterator, merges the two arrays into one, sorted by tab index.\n   * @param {!Array<!HTMLElement>} left\n   * @param {!Array<!HTMLElement>} right\n   * @return {!Array<!HTMLElement>}\n   * @private\n   */\n  _mergeSortByTabIndex: function (left, right) {\n    const result = [];\n\n    while (left.length > 0 && right.length > 0) {\n      if (this._hasLowerTabOrder(left[0], right[0])) {\n        result.push(right.shift());\n      } else {\n        result.push(left.shift());\n      }\n    }\n\n    return result.concat(left, right);\n  },\n\n  /**\n   * Returns if element `a` has lower tab order compared to element `b`\n   * (both elements are assumed to be focusable and tabbable).\n   * Elements with tabindex = 0 have lower tab order compared to elements\n   * with tabindex > 0.\n   * If both have same tabindex, it returns false.\n   * @param {!HTMLElement} a\n   * @param {!HTMLElement} b\n   * @return {boolean}\n   * @private\n   */\n  _hasLowerTabOrder: function (a, b) {\n    // Normalize tabIndexes\n    // e.g. in Firefox `<div contenteditable>` has `tabIndex = -1`\n    const ati = Math.max(a.tabIndex, 0);\n    const bti = Math.max(b.tabIndex, 0);\n    return ati === 0 || bti === 0 ? bti > ati : ati > bti;\n  }\n};\nexport { FocusablesHelper };","/**\n@license\nCopyright (c) 2019 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\n\n/**\n * @polymerMixin\n */\nexport const PositionMixin = superClass => class PositionMixin extends superClass {\n  static get properties() {\n    return {\n      /**\n       * The element next to which this overlay should be aligned.\n       * The position of the overlay relative to the positionTarget can be adjusted\n       * with properties `horizontalAlign`, `verticalAlign`, `noHorizontalOverlap`\n       * and `noVerticalOverlap`.\n       */\n      positionTarget: {\n        type: Object,\n        value: null\n      },\n\n      /**\n       * When `positionTarget` is set, this property defines whether to align the overlay's\n       * left or right side to the target element by default.\n       * Possible values are `start` and `end`.\n       * RTL is taken into account when interpreting the value.\n       * The overlay is automatically flipped to the opposite side when it doesn't fit into\n       * the default side defined by this property.\n       */\n      horizontalAlign: {\n        type: String,\n        value: 'start'\n      },\n\n      /**\n       * When `positionTarget` is set, this property defines whether to align the overlay's\n       * top or bottom side to the target element by default.\n       * Possible values are `top` and `bottom`.\n       * The overlay is automatically flipped to the opposite side when it doesn't fit into\n       * the default side defined by this property.\n       */\n      verticalAlign: {\n        type: String,\n        value: 'top'\n      },\n\n      /**\n       * When `positionTarget` is set, this property defines whether the overlay should overlap\n       * the target element in the x-axis, or be positioned right next to it.\n       */\n      noHorizontalOverlap: {\n        type: Boolean,\n        value: false\n      },\n\n      /**\n       * When `positionTarget` is set, this property defines whether the overlay should overlap\n       * the target element in the y-axis, or be positioned right above/below it.\n       */\n      noVerticalOverlap: {\n        type: Boolean,\n        value: false\n      }\n    };\n  }\n\n  static get observers() {\n    return [`__positionSettingsChanged(positionTarget, horizontalAlign, verticalAlign,\n      noHorizontalOverlap, noVerticalOverlap)`];\n  }\n\n  constructor() {\n    super();\n\n    const boundUpdatePosition = this._updatePosition.bind(this);\n\n    this.addEventListener('opened-changed', e => {\n      const func = e.detail.value ? 'addEventListener' : 'removeEventListener';\n      window[func]('scroll', boundUpdatePosition);\n      window[func]('resize', boundUpdatePosition);\n\n      if (e.detail.value) {\n        this._updatePosition();\n      }\n    });\n  }\n\n  __positionSettingsChanged() {\n    this._updatePosition();\n  }\n\n  _updatePosition() {\n    if (!this.positionTarget) {\n      return;\n    }\n\n    const computedStyle = getComputedStyle(this);\n\n    if (!this.__margins) {\n      this.__margins = {};\n      ['top', 'bottom', 'left', 'right'].forEach(propName => {\n        this.__margins[propName] = parseInt(computedStyle[propName], 10);\n      });\n    }\n\n    const rtl = computedStyle.direction === 'rtl';\n    const targetRect = this.positionTarget.getBoundingClientRect();\n\n    const horizontalProps = this.__calculateHorizontalPosition(targetRect, rtl);\n\n    const verticalProps = this.__calculateVerticalPosition(targetRect);\n\n    const positionProps = Object.assign({}, horizontalProps, verticalProps);\n\n    this.__doSetPosition(positionProps, rtl);\n  }\n\n  __calculateHorizontalPosition(targetRect, rtl) {\n    const propNames = {\n      start: 'left',\n      end: 'right'\n    }; // Using previous size to fix a case where window resize may cause the overlay to be squeezed\n    // smaller than its current space before the fit-calculations.\n\n    const contentWidth = Math.max(this.__oldContentWidth || 0, this.$.overlay.offsetWidth);\n    this.__oldContentWidth = this.$.overlay.offsetWidth;\n    const viewportWidth = Math.min(window.innerWidth, document.documentElement.clientWidth);\n    const defaultAlignLeft = !rtl && this.horizontalAlign === 'start' || rtl && this.horizontalAlign === 'end';\n    const currentAlignLeft = !!this.style.left;\n    return PositionMixin.__calculatePositionInOneDimension(targetRect, contentWidth, viewportWidth, this.__margins, defaultAlignLeft, currentAlignLeft, this.noHorizontalOverlap, propNames);\n  }\n\n  __calculateVerticalPosition(targetRect) {\n    const propNames = {\n      start: 'top',\n      end: 'bottom'\n    }; // Using previous size to fix a case where window resize may cause the overlay to be squeezed\n    // smaller than its current space before the fit-calculations.\n\n    const contentHeight = Math.max(this.__oldContentHeight || 0, this.$.overlay.offsetHeight);\n    this.__oldContentHeight = this.$.overlay.offsetHeight;\n    const viewportHeight = Math.min(window.innerHeight, document.documentElement.clientHeight);\n    const defaultAlignTop = this.verticalAlign === 'top';\n    const currentAlignTop = !!this.style.top;\n    return PositionMixin.__calculatePositionInOneDimension(targetRect, contentHeight, viewportHeight, this.__margins, defaultAlignTop, currentAlignTop, this.noVerticalOverlap, propNames);\n  }\n  /**\n   * Returns an object with CSS position properties to set,\n   * e.g. { top: \"100px\", bottom: \"\" }\n   */\n\n\n  static __calculatePositionInOneDimension(targetRect, contentSize, viewportSize, margins, defaultAlignStart, currentAlignStart, noOverlap, propNames) {\n    const spaceForStartAlignment = viewportSize - targetRect[noOverlap ? propNames.end : propNames.start] - margins[propNames.end];\n    const spaceForEndAlignment = targetRect[noOverlap ? propNames.start : propNames.end] - margins[propNames.start];\n    const spaceForDefaultAlignment = defaultAlignStart ? spaceForStartAlignment : spaceForEndAlignment;\n    const spaceForOtherAlignment = defaultAlignStart ? spaceForEndAlignment : spaceForStartAlignment;\n    const shouldGoToDefaultSide = spaceForDefaultAlignment > spaceForOtherAlignment || spaceForDefaultAlignment > contentSize;\n    const shouldAlignStart = defaultAlignStart === shouldGoToDefaultSide;\n    const cssPropNameToSet = shouldAlignStart ? propNames.start : propNames.end;\n    const cssPropNameToClear = shouldAlignStart ? propNames.end : propNames.start;\n    const cssPropValueToSet = (shouldAlignStart ? targetRect[noOverlap ? propNames.end : propNames.start] : viewportSize - targetRect[noOverlap ? propNames.start : propNames.end]) + 'px';\n    const props = {};\n    props[cssPropNameToSet] = cssPropValueToSet;\n    props[cssPropNameToClear] = '';\n    return props;\n  }\n\n  __doSetPosition(cssProps, rtl) {\n    Object.assign(this.style, cssProps);\n    const alignStart = !rtl && cssProps.left || rtl && cssProps.right;\n    this.style.alignItems = alignStart ? 'flex-start' : 'flex-end';\n    this.style.justifyContent = cssProps.top ? 'flex-start' : 'flex-end';\n  }\n\n};","/**\n@license\nCopyright (c) 2017 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\nimport { PolymerElement } from \"@polymer/polymer/polymer-element.js\";\nimport { templatize } from \"@polymer/polymer/lib/utils/templatize.js\";\nimport { afterNextRender } from \"@polymer/polymer/lib/utils/render-status.js\";\nimport { FlattenedNodesObserver } from \"@polymer/polymer/lib/utils/flattened-nodes-observer.js\";\nimport { ThemableMixin } from \"../../vaadin-themable-mixin/vaadin-themable-mixin.js\";\nimport { FocusablesHelper } from './vaadin-focusables-helper.js';\nimport { PositionMixin } from './vaadin-overlay-position-mixin.js';\nimport { html } from \"@polymer/polymer/lib/utils/html-tag.js\";\nlet overlayContentCounter = 0;\nconst overlayContentCache = {};\n\nconst createOverlayContent = cssText => {\n  const is = overlayContentCache[cssText] || processOverlayStyles(cssText);\n  return document.createElement(is);\n};\n\nconst processOverlayStyles = cssText => {\n  overlayContentCounter++;\n  const is = `vaadin-overlay-content-${overlayContentCounter}`;\n  const styledTemplate = document.createElement('template');\n  const style = document.createElement('style');\n  style.textContent = ':host { display: block; }' + cssText;\n  styledTemplate.content.appendChild(style);\n\n  if (window.ShadyCSS) {\n    window.ShadyCSS.prepareTemplate(styledTemplate, is);\n  } // NOTE(platosha): Have to use an awkward IIFE returning class here\n  // to prevent this class from showing up in analysis.json & API docs.\n\n  /** @private */\n\n\n  const klass = (() => class extends HTMLElement {\n    static get is() {\n      return is;\n    }\n\n    constructor() {\n      super();\n\n      if (!this.shadowRoot) {\n        this.attachShadow({\n          mode: 'open'\n        });\n        this.shadowRoot.appendChild(document.importNode(styledTemplate.content, true));\n      }\n    }\n\n    connectedCallback() {\n      if (window.ShadyCSS) {\n        window.ShadyCSS.styleElement(this);\n      }\n    }\n\n  })();\n\n  customElements.define(klass.is, klass);\n  overlayContentCache[cssText] = is;\n  return is;\n};\n/**\n *\n * `<vaadin-overlay>` is a Web Component for creating overlays. The content of the overlay\n * can be populated in two ways: imperatively by using renderer callback function and\n * declaratively by using Polymer's Templates.\n *\n * ### Rendering\n *\n * By default, the overlay uses the content provided by using the renderer callback function.\n *\n * The renderer function provides `root`, `owner`, `model` arguments when applicable.\n * Generate DOM content by using `model` object properties if needed, append it to the `root`\n * element and control the state of the host element by accessing `owner`. Before generating new\n * content, users are able to check if there is already content in `root` for reusing it.\n *\n * ```html\n * <vaadin-overlay id=\"overlay\"></vaadin-overlay>\n * ```\n * ```js\n * const overlay = document.querySelector('#overlay');\n * overlay.renderer = function(root) {\n *  root.textContent = \"Overlay content\";\n * };\n * ```\n *\n * Renderer is called on the opening of the overlay and each time the related model is updated.\n * DOM generated during the renderer call can be reused\n * in the next renderer call and will be provided with the `root` argument.\n * On first call it will be empty.\n *\n * **NOTE:** when the renderer property is defined, the `<template>` content is not used.\n *\n * ### Templating\n *\n * Alternatively, the content can be provided with Polymer Template.\n * Overlay finds the first child template and uses that in case renderer callback function\n * is not provided. You can also set a custom template using the `template` property.\n *\n * After the content from the template is stamped, the `content` property\n * points to the content container.\n *\n * The overlay provides `forwardHostProp` when calling\n * `Polymer.Templatize.templatize` for the template, so that the bindings\n * from the parent scope propagate to the content.  You can also pass\n * custom `instanceProps` object using the `instanceProps` property.\n *\n * ```html\n * <vaadin-overlay>\n *   <template>Overlay content</template>\n * </vaadin-overlay>\n * ```\n *\n * **NOTE:** when using `instanceProps`: because of the Polymer limitation,\n * every template can only be templatized once, so it is important\n * to set `instanceProps` before the `template` is assigned to the overlay.\n *\n * ### Styling\n *\n * To style the overlay content, use styles in the parent scope:\n *\n * - If the overlay is used in a component, then the component styles\n *   apply the overlay content.\n * - If the overlay is used in the global DOM scope, then global styles\n *   apply to the overlay content.\n *\n * See examples for styling the overlay content in the live demos.\n *\n * The following Shadow DOM parts are available for styling the overlay component itself:\n *\n * Part name  | Description\n * -----------|---------------------------------------------------------|\n * `backdrop` | Backdrop of the overlay\n * `overlay`  | Container for position/sizing/alignment of the content\n * `content`  | Content of the overlay\n *\n * The following state attributes are available for styling:\n *\n * Attribute | Description | Part\n * ---|---|---\n * `opening` | Applied just after the overlay is attached to the DOM. You can apply a CSS @keyframe animation for this state. | `:host`\n * `closing` | Applied just before the overlay is detached from the DOM. You can apply a CSS @keyframe animation for this state. | `:host`\n *\n * The following custom CSS properties are available for styling:\n *\n * Custom CSS property | Description | Default value\n * ---|---|---\n * `--vaadin-overlay-viewport-bottom` | Bottom offset of the visible viewport area | `0` or detected offset\n *\n * See [ThemableMixin – how to apply styles for shadow parts](https://github.com/vaadin/vaadin-themable-mixin/wiki)\n *\n * @memberof Vaadin\n * @mixes Vaadin.ThemableMixin\n * @mixes Vaadin.Overlay.PositionMixin\n * @demo demo/index.html\n */\n\n\nclass OverlayElement extends ThemableMixin(PositionMixin(PolymerElement)) {\n  static get template() {\n    return html`\n    <style>\n      :host {\n        z-index: 200;\n        position: fixed;\n\n        /*\n          Despite of what the names say, <vaadin-overlay> is just a container\n          for position/sizing/alignment. The actual overlay is the overlay part.\n        */\n\n        /*\n          Default position constraints: the entire viewport. Note: themes can\n          override this to introduce gaps between the overlay and the viewport.\n        */\n        top: 0;\n        right: 0;\n        bottom: var(--vaadin-overlay-viewport-bottom);\n        left: 0;\n\n        /* Use flexbox alignment for the overlay part. */\n        display: flex;\n        flex-direction: column; /* makes dropdowns sizing easier */\n        /* Align to center by default. */\n        align-items: center;\n        justify-content: center;\n\n        /* Allow centering when max-width/max-height applies. */\n        margin: auto;\n\n        /* The host is not clickable, only the overlay part is. */\n        pointer-events: none;\n\n        /* Remove tap highlight on touch devices. */\n        -webkit-tap-highlight-color: transparent;\n\n        /* CSS API for host */\n        --vaadin-overlay-viewport-bottom: 0;\n      }\n\n      :host([hidden]),\n      :host(:not([opened]):not([closing])) {\n        display: none !important;\n      }\n\n      [part=\"overlay\"] {\n        -webkit-overflow-scrolling: touch;\n        overflow: auto;\n        pointer-events: auto;\n\n        /* Prevent overflowing the host in MSIE 11 */\n        max-width: 100%;\n        box-sizing: border-box;\n\n        -webkit-tap-highlight-color: initial; /* reenable tap highlight inside */\n      }\n\n      [part=\"backdrop\"] {\n        z-index: -1;\n        content: \"\";\n        background: rgba(0, 0, 0, 0.5);\n        position: fixed;\n        top: 0;\n        left: 0;\n        bottom: 0;\n        right: 0;\n        pointer-events: auto;\n      }\n    </style>\n\n    <div id=\"backdrop\" part=\"backdrop\" hidden\\$=\"{{!withBackdrop}}\"></div>\n    <div part=\"overlay\" id=\"overlay\" tabindex=\"0\">\n      <div part=\"content\" id=\"content\">\n        <slot></slot>\n      </div>\n    </div>\n`;\n  }\n\n  static get is() {\n    return 'vaadin-overlay';\n  }\n\n  static get properties() {\n    return {\n      opened: {\n        type: Boolean,\n        notify: true,\n        observer: '_openedChanged',\n        reflectToAttribute: true\n      },\n\n      /**\n       * Owner element passed with renderer function\n       */\n      owner: Element,\n\n      /**\n       * Custom function for rendering the content of the overlay.\n       * Receives three arguments:\n       *\n       * - `root` The root container DOM element. Append your content to it.\n       * - `owner` The host element of the renderer function.\n       * - `model` The object with the properties related with rendering.\n       */\n      renderer: Function,\n\n      /**\n       * The template of the overlay content.\n       */\n      template: {\n        type: Object,\n        notify: true\n      },\n\n      /**\n       * Optional argument for `Polymer.Templatize.templatize`.\n       */\n      instanceProps: {\n        type: Object\n      },\n\n      /**\n       * References the content container after the template is stamped.\n       */\n      content: {\n        type: Object,\n        notify: true\n      },\n      withBackdrop: {\n        type: Boolean,\n        value: false,\n        reflectToAttribute: true\n      },\n\n      /**\n       * Object with properties that is passed to `renderer` function\n       */\n      model: Object,\n\n      /**\n       * When true the overlay won't disable the main content, showing\n       * it doesn’t change the functionality of the user interface.\n       */\n      modeless: {\n        type: Boolean,\n        value: false,\n        reflectToAttribute: true,\n        observer: '_modelessChanged'\n      },\n\n      /**\n       * When set to true, the overlay is hidden. This also closes the overlay\n       * immediately in case there is a closing animation in progress.\n       */\n      hidden: {\n        type: Boolean,\n        reflectToAttribute: true,\n        observer: '_hiddenChanged'\n      },\n\n      /**\n       * When true move focus to the first focusable element in the overlay,\n       * or to the overlay if there are no focusable elements.\n       */\n      focusTrap: {\n        type: Boolean,\n        value: false\n      },\n\n      /**\n       * Set to true to enable restoring of focus when overlay is closed.\n       */\n      restoreFocusOnClose: {\n        type: Boolean,\n        value: false\n      },\n      _mouseDownInside: {\n        type: Boolean\n      },\n      _mouseUpInside: {\n        type: Boolean\n      },\n      _instance: {\n        type: Object\n      },\n      _originalContentPart: Object,\n      _contentNodes: Array,\n      _oldOwner: Element,\n      _oldModel: Object,\n      _oldTemplate: Object,\n      _oldInstanceProps: Object,\n      _oldRenderer: Object,\n      _oldOpened: Boolean\n    };\n  }\n\n  static get observers() {\n    return ['_templateOrRendererChanged(template, renderer, owner, model, instanceProps, opened)'];\n  }\n\n  constructor() {\n    super();\n    this._boundMouseDownListener = this._mouseDownListener.bind(this);\n    this._boundMouseUpListener = this._mouseUpListener.bind(this);\n    this._boundOutsideClickListener = this._outsideClickListener.bind(this);\n    this._boundKeydownListener = this._keydownListener.bind(this);\n    this._observer = new FlattenedNodesObserver(this, info => {\n      this._setTemplateFromNodes(info.addedNodes);\n    }); // Listener for preventing closing of the paper-dialog and all components extending `iron-overlay-behavior`.\n\n    this._boundIronOverlayCanceledListener = this._ironOverlayCanceled.bind(this);\n\n    if (/iPad|iPhone|iPod/.test(navigator.userAgent)) {\n      this._boundIosResizeListener = () => this._detectIosNavbar();\n    }\n  }\n\n  ready() {\n    super.ready();\n\n    this._observer.flush(); // Need to add dummy click listeners to this and the backdrop or else\n    // the document click event listener (_outsideClickListener) may never\n    // get invoked on iOS Safari (reproducible in <vaadin-dialog>\n    // and <vaadin-context-menu>).\n\n\n    this.addEventListener('click', () => {});\n    this.$.backdrop.addEventListener('click', () => {});\n  }\n\n  _detectIosNavbar() {\n    if (!this.opened) {\n      return;\n    }\n\n    const innerHeight = window.innerHeight;\n    const innerWidth = window.innerWidth;\n    const landscape = innerWidth > innerHeight;\n    const clientHeight = document.documentElement.clientHeight;\n\n    if (landscape && clientHeight > innerHeight) {\n      this.style.setProperty('--vaadin-overlay-viewport-bottom', clientHeight - innerHeight + 'px');\n    } else {\n      this.style.setProperty('--vaadin-overlay-viewport-bottom', '0');\n    }\n  }\n\n  _setTemplateFromNodes(nodes) {\n    this.template = nodes.filter(node => node.localName && node.localName === 'template')[0] || this.template;\n  }\n  /**\n   * @event vaadin-overlay-close\n   * fired before the `vaadin-overlay` will be closed. If canceled the closing of the overlay is canceled as well.\n   */\n\n\n  close(sourceEvent) {\n    var evt = new CustomEvent('vaadin-overlay-close', {\n      bubbles: true,\n      cancelable: true,\n      detail: {\n        sourceEvent: sourceEvent\n      }\n    });\n    this.dispatchEvent(evt);\n\n    if (!evt.defaultPrevented) {\n      this.opened = false;\n    }\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n\n    if (this._boundIosResizeListener) {\n      this._detectIosNavbar();\n\n      window.addEventListener('resize', this._boundIosResizeListener);\n    }\n  }\n\n  disconnectedCallback() {\n    super.disconnectedCallback();\n    this._boundIosResizeListener && window.removeEventListener('resize', this._boundIosResizeListener);\n  }\n\n  _ironOverlayCanceled(event) {\n    event.preventDefault();\n  }\n\n  _mouseDownListener(event) {\n    this._mouseDownInside = event.composedPath().indexOf(this.$.overlay) >= 0;\n  }\n\n  _mouseUpListener(event) {\n    this._mouseUpInside = event.composedPath().indexOf(this.$.overlay) >= 0;\n  }\n  /**\n   * We need to listen on 'click' / 'tap' event and capture it and close the overlay before\n   * propagating the event to the listener in the button. Otherwise, if the clicked button would call\n   * open(), this would happen: https://www.youtube.com/watch?v=Z86V_ICUCD4\n   *\n   * @event vaadin-overlay-outside-click\n   * fired before the `vaadin-overlay` will be closed on outside click. If canceled the closing of the overlay is canceled as well.\n   */\n\n\n  _outsideClickListener(event) {\n    if (event.composedPath().indexOf(this.$.overlay) !== -1 || this._mouseDownInside || this._mouseUpInside) {\n      this._mouseDownInside = false;\n      this._mouseUpInside = false;\n      return;\n    }\n\n    if (!this._last) {\n      return;\n    }\n\n    const evt = new CustomEvent('vaadin-overlay-outside-click', {\n      bubbles: true,\n      cancelable: true,\n      detail: {\n        sourceEvent: event\n      }\n    });\n    this.dispatchEvent(evt);\n\n    if (this.opened && !evt.defaultPrevented) {\n      this.close(event);\n    }\n  }\n  /**\n   * @event vaadin-overlay-escape-press\n   * fired before the `vaadin-overlay` will be closed on ESC button press. If canceled the closing of the overlay is canceled as well.\n   */\n\n\n  _keydownListener(event) {\n    if (!this._last) {\n      return;\n    } // TAB\n\n\n    if (event.key === 'Tab' && this.focusTrap && !event.defaultPrevented) {\n      // if only tab key is pressed, cycle forward, else cycle backwards.\n      this._cycleTab(event.shiftKey ? -1 : 1);\n\n      event.preventDefault(); // ESC\n    } else if (event.key === 'Escape' || event.key === 'Esc') {\n      const evt = new CustomEvent('vaadin-overlay-escape-press', {\n        bubbles: true,\n        cancelable: true,\n        detail: {\n          sourceEvent: event\n        }\n      });\n      this.dispatchEvent(evt);\n\n      if (this.opened && !evt.defaultPrevented) {\n        this.close(event);\n      }\n    }\n  }\n\n  _ensureTemplatized() {\n    this._setTemplateFromNodes(Array.from(this.children));\n  }\n  /**\n   * @event vaadin-overlay-open\n   * fired after the `vaadin-overlay` is opened.\n   */\n\n\n  _openedChanged(opened, wasOpened) {\n    if (!this._instance) {\n      this._ensureTemplatized();\n    }\n\n    if (opened) {\n      // Store focused node.\n      this.__restoreFocusNode = this._getActiveElement();\n\n      this._animatedOpening();\n\n      afterNextRender(this, () => {\n        if (this.focusTrap && !this.contains(document._activeElement || document.activeElement)) {\n          this._cycleTab(0, 0);\n        }\n\n        const evt = new CustomEvent('vaadin-overlay-open', {\n          bubbles: true\n        });\n        this.dispatchEvent(evt);\n      });\n\n      if (!this.modeless) {\n        this._addGlobalListeners();\n      }\n    } else if (wasOpened) {\n      this._animatedClosing();\n\n      if (!this.modeless) {\n        this._removeGlobalListeners();\n      }\n    }\n  }\n\n  _hiddenChanged(hidden) {\n    if (hidden && this.hasAttribute('closing')) {\n      this._flushAnimation('closing');\n    }\n  }\n\n  _shouldAnimate() {\n    const name = getComputedStyle(this).getPropertyValue('animation-name');\n    const hidden = getComputedStyle(this).getPropertyValue('display') === 'none';\n    return !hidden && name && name != 'none';\n  }\n\n  _enqueueAnimation(type, callback) {\n    const handler = `__${type}Handler`;\n\n    const listener = () => {\n      callback();\n      this.removeEventListener('animationend', listener);\n      delete this[handler];\n    };\n\n    this[handler] = listener;\n    this.addEventListener('animationend', listener);\n  }\n\n  _flushAnimation(type) {\n    const handler = `__${type}Handler`;\n\n    if (typeof this[handler] === 'function') {\n      this[handler]();\n    }\n  }\n\n  _animatedOpening() {\n    if (this.parentNode === document.body && this.hasAttribute('closing')) {\n      this._flushAnimation('closing');\n    }\n\n    this._attachOverlay();\n\n    this.setAttribute('opening', '');\n\n    const finishOpening = () => {\n      this.removeAttribute('opening');\n      document.addEventListener('iron-overlay-canceled', this._boundIronOverlayCanceledListener);\n\n      if (!this.modeless) {\n        this._enterModalState();\n      }\n    };\n\n    if (this._shouldAnimate()) {\n      this._enqueueAnimation('opening', finishOpening);\n    } else {\n      finishOpening();\n    }\n  }\n\n  _attachOverlay() {\n    this._placeholder = document.createComment('vaadin-overlay-placeholder');\n    this.parentNode.insertBefore(this._placeholder, this);\n    document.body.appendChild(this);\n  }\n\n  _animatedClosing() {\n    if (this.hasAttribute('opening')) {\n      this._flushAnimation('opening');\n    }\n\n    if (this._placeholder) {\n      this.setAttribute('closing', '');\n\n      const finishClosing = () => {\n        this.shadowRoot.querySelector('[part=\"overlay\"]').style.removeProperty('pointer-events');\n\n        this._exitModalState();\n\n        document.removeEventListener('iron-overlay-canceled', this._boundIronOverlayCanceledListener);\n\n        this._detachOverlay();\n\n        this.removeAttribute('closing');\n\n        if (this.restoreFocusOnClose && this.__restoreFocusNode) {\n          // If the activeElement is `<body>` or inside the overlay,\n          // we are allowed to restore the focus. In all the other\n          // cases focus might have been moved elsewhere by another\n          // component or by the user interaction (e.g. click on a\n          // button outside the overlay).\n          const activeElement = this._getActiveElement();\n\n          if (activeElement === document.body || this._deepContains(activeElement)) {\n            this.__restoreFocusNode.focus();\n          }\n\n          this.__restoreFocusNode = null;\n        }\n      };\n\n      if (this._shouldAnimate()) {\n        this._enqueueAnimation('closing', finishClosing);\n      } else {\n        finishClosing();\n      }\n    }\n  }\n\n  _detachOverlay() {\n    this._placeholder.parentNode.insertBefore(this, this._placeholder);\n\n    this._placeholder.parentNode.removeChild(this._placeholder);\n  }\n  /**\n   * Returns all attached overlays.\n   */\n\n\n  static get __attachedInstances() {\n    return Array.from(document.body.children).filter(el => el instanceof OverlayElement);\n  }\n  /**\n   * returns true if this is the last one in the opened overlays stack\n   */\n\n\n  get _last() {\n    return this === OverlayElement.__attachedInstances.pop();\n  }\n\n  _modelessChanged(modeless) {\n    if (!modeless) {\n      if (this.opened) {\n        this._addGlobalListeners();\n\n        this._enterModalState();\n      }\n    } else {\n      this._removeGlobalListeners();\n\n      this._exitModalState();\n    }\n  }\n\n  _addGlobalListeners() {\n    document.addEventListener('mousedown', this._boundMouseDownListener);\n    document.addEventListener('mouseup', this._boundMouseUpListener); // Firefox leaks click to document on contextmenu even if prevented\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=990614\n\n    document.documentElement.addEventListener('click', this._boundOutsideClickListener, true);\n    document.addEventListener('keydown', this._boundKeydownListener);\n  }\n\n  _enterModalState() {\n    if (document.body.style.pointerEvents !== 'none') {\n      // Set body pointer-events to 'none' to disable mouse interactions with\n      // other document nodes.\n      this._previousDocumentPointerEvents = document.body.style.pointerEvents;\n      document.body.style.pointerEvents = 'none';\n    } // Disable pointer events in other attached overlays\n\n\n    OverlayElement.__attachedInstances.forEach(el => {\n      if (el !== this && !el.hasAttribute('opening') && !el.hasAttribute('closing')) {\n        el.shadowRoot.querySelector('[part=\"overlay\"]').style.pointerEvents = 'none';\n      }\n    });\n  }\n\n  _removeGlobalListeners() {\n    document.removeEventListener('mousedown', this._boundMouseDownListener);\n    document.removeEventListener('mouseup', this._boundMouseUpListener);\n    document.documentElement.removeEventListener('click', this._boundOutsideClickListener, true);\n    document.removeEventListener('keydown', this._boundKeydownListener);\n  }\n\n  _exitModalState() {\n    if (this._previousDocumentPointerEvents !== undefined) {\n      // Restore body pointer-events\n      document.body.style.pointerEvents = this._previousDocumentPointerEvents;\n      delete this._previousDocumentPointerEvents;\n    } // Restore pointer events in the previous overlay(s)\n\n\n    const instances = OverlayElement.__attachedInstances;\n    let el; // Use instances.pop() to ensure the reverse order\n\n    while (el = instances.pop()) {\n      if (el === this) {\n        // Skip the current instance\n        continue;\n      }\n\n      el.shadowRoot.querySelector('[part=\"overlay\"]').style.removeProperty('pointer-events');\n\n      if (!el.modeless) {\n        // Stop after the last modal\n        break;\n      }\n    }\n  }\n\n  _removeOldContent() {\n    if (!this.content || !this._contentNodes) {\n      return;\n    }\n\n    this._observer.disconnect();\n\n    this._contentNodes.forEach(node => {\n      if (node.parentNode === this.content) {\n        this.content.removeChild(node);\n      }\n    });\n\n    if (this._originalContentPart) {\n      // Restore the original <div part=\"content\">\n      this.$.content.parentNode.replaceChild(this._originalContentPart, this.$.content);\n      this.$.content = this._originalContentPart;\n      this._originalContentPart = undefined;\n    }\n\n    this._observer.connect();\n\n    this._contentNodes = undefined;\n    this.content = undefined;\n  }\n\n  _stampOverlayTemplate(template, instanceProps) {\n    this._removeOldContent();\n\n    if (!template._Templatizer) {\n      template._Templatizer = templatize(template, this, {\n        instanceProps: instanceProps,\n        forwardHostProp: function (prop, value) {\n          if (this._instance) {\n            this._instance.forwardHostProp(prop, value);\n          }\n        }\n      });\n    }\n\n    this._instance = new template._Templatizer({});\n    this._contentNodes = Array.from(this._instance.root.childNodes);\n    const templateRoot = template._templateRoot || (template._templateRoot = template.getRootNode());\n\n    const _isScoped = templateRoot !== document;\n\n    if (_isScoped) {\n      const isShady = window.ShadyCSS && !window.ShadyCSS.nativeShadow;\n\n      if (!this.$.content.shadowRoot) {\n        this.$.content.attachShadow({\n          mode: 'open'\n        });\n      }\n\n      let scopeCssText = Array.from(templateRoot.querySelectorAll('style')).reduce((result, style) => result + style.textContent, '');\n\n      if (isShady) {\n        // NOTE(platosha): ShadyCSS removes <style>’s from templates, so\n        // we have to use these protected APIs to get their contents back\n        const styleInfo = window.ShadyCSS.ScopingShim._styleInfoForNode(templateRoot.host);\n\n        if (styleInfo) {\n          scopeCssText += styleInfo._getStyleRules().parsedCssText;\n          scopeCssText += '}';\n        }\n      } // The overlay root’s :host styles should not apply inside the overlay\n\n\n      scopeCssText = scopeCssText.replace(/:host/g, ':host-nomatch');\n\n      if (scopeCssText) {\n        if (isShady) {\n          // ShadyDOM: replace the <div part=\"content\"> with a generated\n          // styled custom element\n          const contentPart = createOverlayContent(scopeCssText);\n          contentPart.id = 'content';\n          contentPart.setAttribute('part', 'content');\n          this.$.content.parentNode.replaceChild(contentPart, this.$.content); // NOTE(platosha): carry the style scope of the content part\n\n          contentPart.className = this.$.content.className;\n          this._originalContentPart = this.$.content;\n          this.$.content = contentPart;\n        } else {\n          // Shadow DOM: append a style to the content shadowRoot\n          const style = document.createElement('style');\n          style.textContent = scopeCssText;\n          this.$.content.shadowRoot.appendChild(style);\n\n          this._contentNodes.unshift(style);\n        }\n      }\n\n      this.$.content.shadowRoot.appendChild(this._instance.root);\n      this.content = this.$.content.shadowRoot;\n    } else {\n      this.appendChild(this._instance.root);\n      this.content = this;\n    }\n  }\n\n  _removeNewRendererOrTemplate(template, oldTemplate, renderer, oldRenderer) {\n    if (template !== oldTemplate) {\n      this.template = undefined;\n    } else if (renderer !== oldRenderer) {\n      this.renderer = undefined;\n    }\n  }\n  /**\n   * Manually invoke existing renderer.\n   */\n\n\n  render() {\n    if (this.renderer) {\n      this.renderer.call(this.owner, this.content, this.owner, this.model);\n    }\n  }\n\n  _templateOrRendererChanged(template, renderer, owner, model, instanceProps, opened) {\n    if (template && renderer) {\n      this._removeNewRendererOrTemplate(template, this._oldTemplate, renderer, this._oldRenderer);\n\n      throw new Error('You should only use either a renderer or a template for overlay content');\n    }\n\n    const ownerOrModelChanged = this._oldOwner !== owner || this._oldModel !== model;\n    this._oldModel = model;\n    this._oldOwner = owner;\n    const templateOrInstancePropsChanged = this._oldInstanceProps !== instanceProps || this._oldTemplate !== template;\n    this._oldInstanceProps = instanceProps;\n    this._oldTemplate = template;\n    const rendererChanged = this._oldRenderer !== renderer;\n    this._oldRenderer = renderer;\n    const openedChanged = this._oldOpened !== opened;\n    this._oldOpened = opened;\n\n    if (template && templateOrInstancePropsChanged) {\n      this._stampOverlayTemplate(template, instanceProps);\n    } else if (renderer && (rendererChanged || openedChanged || ownerOrModelChanged)) {\n      this.content = this;\n\n      if (rendererChanged) {\n        while (this.content.firstChild) {\n          this.content.removeChild(this.content.firstChild);\n        }\n      }\n\n      if (opened) {\n        this.render();\n      }\n    }\n  }\n\n  _isFocused(element) {\n    return element && element.getRootNode().activeElement === element;\n  }\n\n  _focusedIndex(elements) {\n    elements = elements || this._getFocusableElements();\n    return elements.indexOf(elements.filter(this._isFocused).pop());\n  }\n\n  _cycleTab(increment, index) {\n    const focusableElements = this._getFocusableElements();\n\n    if (index === undefined) {\n      index = this._focusedIndex(focusableElements);\n    }\n\n    index += increment; // rollover to first item\n\n    if (index >= focusableElements.length) {\n      index = 0; // go to last item\n    } else if (index < 0) {\n      index = focusableElements.length - 1;\n    }\n\n    focusableElements[index].focus();\n  }\n\n  _getFocusableElements() {\n    // collect all focusable elements\n    return FocusablesHelper.getTabbableNodes(this.$.overlay);\n  }\n\n  _getActiveElement() {\n    let active = document._activeElement || document.activeElement; // document.activeElement can be null\n    // https://developer.mozilla.org/en-US/docs/Web/API/Document/activeElement\n    // In IE 11, it can also be an object when operating in iframes\n    // or document.documentElement (when overlay closed on outside click).\n    // In these cases, default it to document.body.\n\n    if (!active || active === document.documentElement || active instanceof Element === false) {\n      active = document.body;\n    }\n\n    while (active.shadowRoot && active.shadowRoot.activeElement) {\n      active = active.shadowRoot.activeElement;\n    }\n\n    return active;\n  }\n\n  _deepContains(node) {\n    if (this.contains(node)) {\n      return true;\n    }\n\n    let n = node;\n    const doc = node.ownerDocument; // walk from node to `this` or `document`\n\n    while (n && n !== doc && n !== this) {\n      n = n.parentNode || n.host;\n    }\n\n    return n === this;\n  }\n\n}\n\ncustomElements.define(OverlayElement.is, OverlayElement);\nexport { OverlayElement };","import '../spacing.js';\nimport '../style.js';\nimport './overlay.js';\nconst $_documentContainer = document.createElement('template');\n$_documentContainer.innerHTML = `<dom-module id=\"lumo-menu-overlay-core\">\n  <template>\n    <style>\n      :host([opening]),\n      :host([closing]) {\n        animation: 0.14s lumo-overlay-dummy-animation;\n      }\n\n      [part=\"overlay\"] {\n        will-change: opacity, transform;\n      }\n\n      :host([opening]) [part=\"overlay\"] {\n        animation: 0.1s lumo-menu-overlay-enter ease-out both;\n      }\n\n      @keyframes lumo-menu-overlay-enter {\n        0% {\n          opacity: 0;\n          transform: translateY(-4px);\n        }\n      }\n\n      :host([closing]) [part=\"overlay\"] {\n        animation: 0.1s lumo-menu-overlay-exit both;\n      }\n\n      @keyframes lumo-menu-overlay-exit {\n        100% {\n          opacity: 0;\n        }\n      }\n    </style>\n  </template>\n</dom-module><dom-module id=\"lumo-menu-overlay\">\n  <template>\n    <style include=\"lumo-overlay lumo-menu-overlay-core\">\n      /* Small viewport (bottom sheet) styles */\n      /* Use direct media queries instead of the state attributes (\\`[phone]\\` and \\`[fullscreen]\\`) provided by the elements */\n      @media (max-width: 420px), (max-height: 420px) {\n        :host {\n          top: 0 !important;\n          right: 0 !important;\n          bottom: var(--vaadin-overlay-viewport-bottom, 0) !important;\n          left: 0 !important;\n          align-items: stretch !important;\n          justify-content: flex-end !important;\n        }\n\n        [part=\"overlay\"] {\n          max-height: 50vh;\n          width: 100vw;\n          border-radius: 0;\n          box-shadow: var(--lumo-box-shadow-xl);\n        }\n\n        /* The content part scrolls instead of the overlay part, because of the gradient fade-out */\n        [part=\"content\"] {\n          padding: 30px var(--lumo-space-m);\n          max-height: inherit;\n          box-sizing: border-box;\n          -webkit-overflow-scrolling: touch;\n          overflow: auto;\n          -webkit-mask-image: linear-gradient(transparent, #000 40px, #000 calc(100% - 40px), transparent);\n          mask-image: linear-gradient(transparent, #000 40px, #000 calc(100% - 40px), transparent);\n        }\n\n        [part=\"backdrop\"] {\n          display: block;\n        }\n\n        /* Animations */\n\n        :host([opening]) [part=\"overlay\"] {\n          animation: 0.2s lumo-mobile-menu-overlay-enter cubic-bezier(.215, .61, .355, 1) both;\n        }\n\n        :host([closing]),\n        :host([closing]) [part=\"backdrop\"] {\n          animation-delay: 0.14s;\n        }\n\n        :host([closing]) [part=\"overlay\"] {\n          animation: 0.14s 0.14s lumo-mobile-menu-overlay-exit cubic-bezier(.55, .055, .675, .19) both;\n        }\n      }\n\n      @keyframes lumo-mobile-menu-overlay-enter {\n        0% {\n          transform: translateY(150%);\n        }\n      }\n\n      @keyframes lumo-mobile-menu-overlay-exit {\n        100% {\n          transform: translateY(150%);\n        }\n      }\n    </style>\n  </template>\n</dom-module>`;\ndocument.head.appendChild($_documentContainer.content);\n/* Split as a separate module because combo box can only use the \"fullscreen\" styles */\n\n/*\n  FIXME(polymer-modulizer): the above comments were extracted\n  from HTML and may be out of place here. Review them and\n  then delete this comment!\n*/\n\n;","import \"../../../vaadin-lumo-styles/color.js\";\nimport \"../../../vaadin-lumo-styles/spacing.js\";\nimport \"../../../vaadin-lumo-styles/style.js\";\nimport \"../../../vaadin-overlay/theme/lumo/vaadin-overlay.js\";\nimport \"../../../vaadin-lumo-styles/mixins/menu-overlay.js\";\nimport { html } from \"@polymer/polymer/lib/utils/html-tag.js\";\nconst $_documentContainer = html`<dom-module id=\"lumo-combo-box-overlay\" theme-for=\"vaadin-combo-box-overlay\">\n  <template>\n    <style include=\"lumo-overlay lumo-menu-overlay-core\">\n      [part=\"content\"] {\n        padding: 0;\n      }\n\n      :host {\n        /* TODO: using a legacy mixin (unsupported) */\n        --iron-list-items-container: {\n          border-width: var(--lumo-space-xs);\n          border-style: solid;\n          border-color: transparent;\n        };\n      }\n\n      /* TODO: workaround ShadyCSS issue when using inside of the dom-if */\n      :host([opened]) {\n        --iron-list-items-container_-_border-width: var(--lumo-space-xs);\n        --iron-list-items-container_-_border-style: solid;\n        --iron-list-items-container_-_border-color: transparent;\n      }\n\n      /* Loading state */\n\n      /* When items are empty, the sinner needs some room */\n      :host(:not([closing])) [part~=\"content\"] {\n        min-height: calc(2 * var(--lumo-space-s) + var(--lumo-icon-size-s));\n      }\n\n      [part~=\"overlay\"] {\n        position: relative;\n      }\n\n      :host([loading]) [part~=\"loader\"] {\n        box-sizing: border-box;\n        width: var(--lumo-icon-size-s);\n        height: var(--lumo-icon-size-s);\n        position: absolute;\n        z-index: 1;\n        left: var(--lumo-space-s);\n        right: var(--lumo-space-s);\n        top: var(--lumo-space-s);\n        margin-left: auto;\n        margin-inline-start: auto;\n        margin-inline-end: 0;\n        border: 2px solid transparent;\n        border-color:\n          var(--lumo-primary-color-50pct)\n          var(--lumo-primary-color-50pct)\n          var(--lumo-primary-color)\n          var(--lumo-primary-color);\n        border-radius: calc(0.5 * var(--lumo-icon-size-s));\n        opacity: 0;\n        animation:\n          1s linear infinite lumo-combo-box-loader-rotate,\n          .3s .1s lumo-combo-box-loader-fade-in both;\n        pointer-events: none;\n      }\n\n      @keyframes lumo-combo-box-loader-fade-in {\n        0% {\n          opacity: 0;\n        }\n\n        100% {\n          opacity: 1;\n        }\n      }\n\n      @keyframes lumo-combo-box-loader-rotate {\n        0% {\n          transform: rotate(0deg);\n        }\n\n        100% {\n          transform: rotate(360deg);\n        }\n      }\n    </style>\n  </template>\n</dom-module>`;\ndocument.head.appendChild($_documentContainer.content);","import \"@polymer/polymer/lib/elements/custom-style.js\";\nimport './version.js';\nconst $_documentContainer = document.createElement('template');\n$_documentContainer.innerHTML = `<custom-style>\n  <style>\n    @font-face {\n      font-family: 'lumo-icons';\n      src: url(data:application/font-woff;charset=utf-8;base64,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) format('woff');\n      font-weight: normal;\n      font-style: normal;\n    }\n\n    html {\n      --lumo-icons-align-center: \"\\\\ea01\";\n      --lumo-icons-align-left: \"\\\\ea02\";\n      --lumo-icons-align-right: \"\\\\ea03\";\n      --lumo-icons-angle-down: \"\\\\ea04\";\n      --lumo-icons-angle-left: \"\\\\ea05\";\n      --lumo-icons-angle-right: \"\\\\ea06\";\n      --lumo-icons-angle-up: \"\\\\ea07\";\n      --lumo-icons-arrow-down: \"\\\\ea08\";\n      --lumo-icons-arrow-left: \"\\\\ea09\";\n      --lumo-icons-arrow-right: \"\\\\ea0a\";\n      --lumo-icons-arrow-up: \"\\\\ea0b\";\n      --lumo-icons-bar-chart: \"\\\\ea0c\";\n      --lumo-icons-bell: \"\\\\ea0d\";\n      --lumo-icons-calendar: \"\\\\ea0e\";\n      --lumo-icons-checkmark: \"\\\\ea0f\";\n      --lumo-icons-chevron-down: \"\\\\ea10\";\n      --lumo-icons-chevron-left: \"\\\\ea11\";\n      --lumo-icons-chevron-right: \"\\\\ea12\";\n      --lumo-icons-chevron-up: \"\\\\ea13\";\n      --lumo-icons-clock: \"\\\\ea14\";\n      --lumo-icons-cog: \"\\\\ea15\";\n      --lumo-icons-cross: \"\\\\ea16\";\n      --lumo-icons-download: \"\\\\ea17\";\n      --lumo-icons-dropdown: \"\\\\ea18\";\n      --lumo-icons-edit: \"\\\\ea19\";\n      --lumo-icons-error: \"\\\\ea1a\";\n      --lumo-icons-eye: \"\\\\ea1b\";\n      --lumo-icons-eye-disabled: \"\\\\ea1c\";\n      --lumo-icons-menu: \"\\\\ea1d\";\n      --lumo-icons-minus: \"\\\\ea1e\";\n      --lumo-icons-ordered-list: \"\\\\ea1f\";\n      --lumo-icons-phone: \"\\\\ea20\";\n      --lumo-icons-photo: \"\\\\ea21\";\n      --lumo-icons-play: \"\\\\ea22\";\n      --lumo-icons-plus: \"\\\\ea23\";\n      --lumo-icons-redo: \"\\\\ea24\";\n      --lumo-icons-reload: \"\\\\ea25\";\n      --lumo-icons-search: \"\\\\ea26\";\n      --lumo-icons-undo: \"\\\\ea27\";\n      --lumo-icons-unordered-list: \"\\\\ea28\";\n      --lumo-icons-upload: \"\\\\ea29\";\n      --lumo-icons-user: \"\\\\ea2a\";\n    }\n  </style>\n</custom-style>`;\ndocument.head.appendChild($_documentContainer.content);\n/* NOTICE: Generated with 'gulp icons' */\n\n/*\n  FIXME(polymer-modulizer): the above comments were extracted\n  from HTML and may be out of place here. Review them and\n  then delete this comment!\n*/\n\n;","import \"../../../vaadin-lumo-styles/font-icons.js\";\nimport \"../../../vaadin-lumo-styles/sizing.js\";\nimport \"../../../vaadin-lumo-styles/spacing.js\";\nimport \"../../../vaadin-lumo-styles/style.js\";\nimport \"../../../vaadin-lumo-styles/typography.js\";\nimport { html } from \"@polymer/polymer/lib/utils/html-tag.js\";\nconst $_documentContainer = html`<dom-module id=\"lumo-item\" theme-for=\"vaadin-item\">\n  <template>\n    <style>\n      :host {\n        display: flex;\n        align-items: center;\n        box-sizing: border-box;\n        font-family: var(--lumo-font-family);\n        font-size: var(--lumo-font-size-m);\n        line-height: var(--lumo-line-height-xs);\n        padding: 0.5em 1em;\n        min-height: var(--lumo-size-m);\n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: grayscale;\n        -webkit-tap-highlight-color: transparent;\n      }\n\n      /* Selectable items have a checkmark icon */\n      :host([tabindex])::before {\n        display: var(--_lumo-item-selected-icon-display, none);\n        content: var(--lumo-icons-checkmark);\n        font-family: lumo-icons;\n        font-size: var(--lumo-icon-size-m);\n        line-height: 1;\n        font-weight: normal;\n        width: 1em;\n        height: 1em;\n        margin: calc((1 - var(--lumo-line-height-xs)) * var(--lumo-font-size-m) / 2) 0;\n        color: var(--lumo-primary-text-color);\n        flex: none;\n        opacity: 0;\n        transition: transform 0.2s cubic-bezier(.12, .32, .54, 2), opacity 0.1s;\n      }\n\n      :host([selected])::before {\n        opacity: 1;\n      }\n\n      :host([active]:not([selected]))::before {\n        transform: scale(0.8);\n        opacity: 0;\n        transition-duration: 0s;\n      }\n\n      [part=\"content\"] {\n        flex: auto;\n      }\n\n      /* Disabled item */\n\n      :host([disabled]) {\n        color: var(--lumo-disabled-text-color);\n        cursor: default;\n        pointer-events: none;\n      }\n\n      /* Slotted icons */\n\n      :host ::slotted(iron-icon) {\n        width: var(--lumo-icon-size-m);\n        height: var(--lumo-icon-size-m);\n      }\n    </style>\n  </template>\n</dom-module>`;\ndocument.head.appendChild($_documentContainer.content);","/**\n@license\nCopyright (c) 2017 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\n\n/**\n * A mixin providing `focused`, `focus-ring`, `active`, `disabled` and `selected`.\n *\n * `focused`, `active` and `focus-ring` are set as only as attributes.\n * @polymerMixin\n */\nexport const ItemMixin = superClass => class VaadinItemMixin extends superClass {\n  static get properties() {\n    return {\n      /**\n       * Used for mixin detection because `instanceof` does not work with mixins.\n       * e.g. in VaadinListMixin it filters items by using the\n       * `element._hasVaadinItemMixin` condition.\n       */\n      _hasVaadinItemMixin: {\n        value: true\n      },\n\n      /**\n       * If true, the user cannot interact with this element.\n       */\n      disabled: {\n        type: Boolean,\n        value: false,\n        observer: '_disabledChanged',\n        reflectToAttribute: true\n      },\n\n      /**\n       * If true, the item is in selected state.\n       */\n      selected: {\n        type: Boolean,\n        value: false,\n        reflectToAttribute: true,\n        observer: '_selectedChanged'\n      },\n      _value: String\n    };\n  }\n\n  get value() {\n    return this._value !== undefined ? this._value : this.textContent.trim();\n  }\n\n  set value(value) {\n    this._value = value;\n  }\n\n  ready() {\n    super.ready();\n    const attrValue = this.getAttribute('value');\n\n    if (attrValue !== null) {\n      this.value = attrValue;\n    }\n\n    this.addEventListener('focus', e => this._setFocused(true), true);\n    this.addEventListener('blur', e => this._setFocused(false), true);\n    this.addEventListener('mousedown', e => {\n      this._setActive(this._mousedown = true);\n\n      const mouseUpListener = () => {\n        this._setActive(this._mousedown = false);\n\n        document.removeEventListener('mouseup', mouseUpListener);\n      };\n\n      document.addEventListener('mouseup', mouseUpListener);\n    });\n    this.addEventListener('keydown', e => this._onKeydown(e));\n    this.addEventListener('keyup', e => this._onKeyup(e));\n  }\n  /**\n   * @protected\n   */\n\n\n  disconnectedCallback() {\n    super.disconnectedCallback(); // in Firefox and Safari, blur does not fire on the element when it is removed,\n    // especially between keydown and keyup events, being active at the same time.\n    // reproducible in `<vaadin-select>` when closing overlay on select.\n\n    if (this.hasAttribute('active')) {\n      this._setFocused(false);\n    }\n  }\n\n  _selectedChanged(selected) {\n    this.setAttribute('aria-selected', selected);\n  }\n\n  _disabledChanged(disabled) {\n    if (disabled) {\n      this.selected = false;\n      this.setAttribute('aria-disabled', 'true');\n      this.blur();\n    } else {\n      this.removeAttribute('aria-disabled');\n    }\n  }\n\n  _setFocused(focused) {\n    if (focused) {\n      this.setAttribute('focused', '');\n\n      if (!this._mousedown) {\n        this.setAttribute('focus-ring', '');\n      }\n    } else {\n      this.removeAttribute('focused');\n      this.removeAttribute('focus-ring');\n\n      this._setActive(false);\n    }\n  }\n\n  _setActive(active) {\n    if (active) {\n      this.setAttribute('active', '');\n    } else {\n      this.removeAttribute('active');\n    }\n  }\n\n  _onKeydown(event) {\n    if (/^( |SpaceBar|Enter)$/.test(event.key) && !event.defaultPrevented) {\n      event.preventDefault();\n\n      this._setActive(true);\n    }\n  }\n\n  _onKeyup(event) {\n    if (this.hasAttribute('active')) {\n      this._setActive(false);\n\n      this.click();\n    }\n  }\n\n};","/**\n@license\nCopyright (c) 2017 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\nimport { PolymerElement } from \"@polymer/polymer/polymer-element.js\";\nimport { ThemableMixin } from \"../../vaadin-themable-mixin/vaadin-themable-mixin.js\";\nimport { ItemMixin } from './vaadin-item-mixin.js';\nimport { html } from \"@polymer/polymer/lib/utils/html-tag.js\";\n/**\n * `<vaadin-item>` is a Web Component providing layout for items in tabs and menus.\n *\n * ```\n *   <vaadin-item>\n *     Item content\n *   </vaadin-item>\n * ```\n *\n * ### Selectable\n *\n * `<vaadin-item>` has the `selected` property and the corresponding state attribute.\n * Currently, the component sets the `selected` to false, when `disabled` property is set to true.\n * But other than that, the `<vaadin-item>` does not switch selection by itself.\n * In general, it is the wrapper component, like `<vaadin-list-box>`, which should update\n * the `selected` property on the items, e. g. on mousedown or when Enter / Spacebar is pressed.\n *\n * ### Styling\n *\n * The following shadow DOM parts are available for styling:\n *\n * Part name | Description\n * ---|---\n * `content` | The element that wraps the slot\n *\n * The following state attributes are available for styling:\n *\n * Attribute  | Description | Part name\n * -----------|-------------|------------\n * `disabled` | Set to a disabled item | :host\n * `focused` | Set when the element is focused | :host\n * `focus-ring` | Set when the element is keyboard focused | :host\n * `selected` | Set when the item is selected | :host\n * `active` | Set when mousedown or enter/spacebar pressed | :host\n *\n * @memberof Vaadin\n * @mixes Vaadin.ItemMixin\n * @mixes Vaadin.ThemableMixin\n */\n\nclass ItemElement extends ItemMixin(ThemableMixin(PolymerElement)) {\n  static get template() {\n    return html`\n    <style>\n      :host {\n        display: inline-block;\n      }\n\n      :host([hidden]) {\n        display: none !important;\n      }\n    </style>\n    <div part=\"content\">\n      <slot></slot>\n    </div>\n`;\n  }\n\n  static get is() {\n    return 'vaadin-item';\n  }\n\n  static get version() {\n    return '2.1.1';\n  }\n\n  constructor() {\n    super();\n    /**\n     * Submittable string value. The default value is the trimmed text content of the element.\n     * @type {string}\n     */\n\n    this.value;\n  }\n\n}\n\ncustomElements.define(ItemElement.is, ItemElement);\nexport { ItemElement };","import \"../../../vaadin-lumo-styles/color.js\";\nimport \"../../../vaadin-lumo-styles/spacing.js\";\nimport \"../../../vaadin-lumo-styles/style.js\";\nimport \"../../../vaadin-item/theme/lumo/vaadin-item.js\";\nimport { html } from \"@polymer/polymer/lib/utils/html-tag.js\";\nconst $_documentContainer = html`<dom-module id=\"lumo-combo-box-item\" theme-for=\"vaadin-combo-box-item\">\n  <template>\n    <style include=\"lumo-item\">\n      /* TODO partly duplicated from vaadin-list-box styles. Should find a way to make it DRY */\n\n      :host {\n        cursor: default;\n        -webkit-tap-highlight-color: var(--lumo-primary-color-10pct);\n        padding-left: calc(var(--lumo-border-radius) / 4);\n        padding-right: calc(var(--lumo-space-l) + var(--lumo-border-radius) / 4);\n        transition: background-color 100ms;\n        border-radius: var(--lumo-border-radius);\n        overflow: hidden;\n        --_lumo-item-selected-icon-display: block;\n      }\n\n      /* ShadyCSS workaround (show the selected item checkmark) */\n      :host::before {\n        display: block;\n      }\n\n      :host(:hover) {\n        background-color: var(--lumo-primary-color-10pct);\n      }\n\n      :host([focused]:not([disabled])) {\n        box-shadow: inset 0 0 0 2px var(--lumo-primary-color-50pct);\n      }\n\n      @media (pointer: coarse) {\n        :host(:hover) {\n          background-color: transparent;\n        }\n\n        :host([focused]:not([disabled])) {\n          box-shadow: none;\n        }\n      }\n    </style>\n  </template>\n</dom-module>`;\ndocument.head.appendChild($_documentContainer.content);","import '../color.js';\nimport '../font-icons.js';\nimport '../sizing.js';\nimport '../style.js';\nconst $_documentContainer = document.createElement('template');\n$_documentContainer.innerHTML = `<dom-module id=\"lumo-field-button\">\n  <template>\n    <style>\n      [part\\$=\"button\"] {\n        flex: none;\n        width: 1em;\n        height: 1em;\n        line-height: 1;\n        font-size: var(--lumo-icon-size-m);\n        text-align: center;\n        color: var(--lumo-contrast-60pct);\n        transition: 0.2s color;\n        cursor: var(--lumo-clickable-cursor);\n      }\n\n      :host(:not([readonly])) [part\\$=\"button\"]:hover {\n        color: var(--lumo-contrast-90pct);\n      }\n\n      :host([disabled]) [part\\$=\"button\"],\n      :host([readonly]) [part\\$=\"button\"] {\n        color: var(--lumo-contrast-20pct);\n      }\n\n      [part\\$=\"button\"]::before {\n        font-family: \"lumo-icons\";\n        display: block;\n      }\n    </style>\n  </template>\n</dom-module>`;\ndocument.head.appendChild($_documentContainer.content);","import '../color.js';\nimport '../spacing.js';\nimport '../style.js';\nimport '../typography.js';\nconst $_documentContainer = document.createElement('template');\n$_documentContainer.innerHTML = `<dom-module id=\"lumo-required-field\">\n  <template>\n    <style>\n      [part=\"label\"] {\n        align-self: flex-start;\n        color: var(--lumo-secondary-text-color);\n        font-weight: 500;\n        font-size: var(--lumo-font-size-s);\n        margin-left: calc(var(--lumo-border-radius-m) / 4);\n        transition: color 0.2s;\n        line-height: 1;\n        padding-bottom: 0.5em;\n        overflow: hidden;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n        position: relative;\n        max-width: 100%;\n        box-sizing: border-box;\n      }\n\n      :host([has-label])::before {\n        margin-top: calc(var(--lumo-font-size-s) * 1.5);\n      }\n\n      :host([has-label]) {\n        padding-top: var(--lumo-space-m);\n      }\n\n      :host([required]) [part=\"label\"] {\n        padding-right: 1em;\n      }\n\n      [part=\"label\"]::after {\n        content: var(--lumo-required-field-indicator, \"•\");\n        transition: opacity 0.2s;\n        opacity: 0;\n        color: var(--lumo-primary-text-color);\n        position: absolute;\n        right: 0;\n        width: 1em;\n        text-align: center;\n      }\n\n      :host([required]:not([has-value])) [part=\"label\"]::after {\n        opacity: 1;\n      }\n\n      :host([invalid]) [part=\"label\"]::after {\n        color: var(--lumo-error-text-color);\n      }\n\n      [part=\"error-message\"] {\n        margin-left: calc(var(--lumo-border-radius-m) / 4);\n        font-size: var(--lumo-font-size-xs);\n        line-height: var(--lumo-line-height-xs);\n        color: var(--lumo-error-text-color);\n        will-change: max-height;\n        transition: 0.4s max-height;\n        max-height: 5em;\n      }\n\n      /* Margin that doesn’t reserve space when there’s no error message */\n      [part=\"error-message\"]:not(:empty)::before,\n      [part=\"error-message\"]:not(:empty)::after {\n        content: \"\";\n        display: block;\n        height: 0.4em;\n      }\n\n      :host(:not([invalid])) [part=\"error-message\"] {\n        max-height: 0;\n        overflow: hidden;\n      }\n    </style>\n  </template>\n</dom-module>`;\ndocument.head.appendChild($_documentContainer.content);","import \"../../../vaadin-lumo-styles/color.js\";\nimport \"../../../vaadin-lumo-styles/sizing.js\";\nimport \"../../../vaadin-lumo-styles/spacing.js\";\nimport \"../../../vaadin-lumo-styles/style.js\";\nimport \"../../../vaadin-lumo-styles/typography.js\";\nimport \"../../../vaadin-lumo-styles/mixins/required-field.js\";\nimport \"../../../vaadin-lumo-styles/font-icons.js\";\nimport \"../../../vaadin-lumo-styles/mixins/field-button.js\";\nimport { html } from \"@polymer/polymer/lib/utils/html-tag.js\";\nconst $_documentContainer = html`<dom-module id=\"lumo-text-field\" theme-for=\"vaadin-text-field\">\n  <template>\n    <style include=\"lumo-required-field lumo-field-button\">\n      :host {\n        --lumo-text-field-size: var(--lumo-size-m);\n        color: var(--lumo-body-text-color);\n        font-size: var(--lumo-font-size-m);\n        font-family: var(--lumo-font-family);\n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: grayscale;\n        -webkit-tap-highlight-color: transparent;\n        padding: var(--lumo-space-xs) 0;\n      }\n\n      :host::before {\n        height: var(--lumo-text-field-size);\n        box-sizing: border-box;\n        display: inline-flex;\n        align-items: center;\n      }\n\n      :host([focused]:not([readonly])) [part=\"label\"] {\n        color: var(--lumo-primary-text-color);\n      }\n\n      [part=\"value\"],\n      [part=\"input-field\"] ::slotted(input),\n      [part=\"input-field\"] ::slotted(textarea),\n      /* Slotted by vaadin-select-text-field */\n      [part=\"input-field\"] ::slotted([part=\"value\"]) {\n        cursor: inherit;\n        min-height: var(--lumo-text-field-size);\n        padding: 0 0.25em;\n        --_lumo-text-field-overflow-mask-image: linear-gradient(to left, transparent, #000 1.25em);\n        -webkit-mask-image: var(--_lumo-text-field-overflow-mask-image);\n      }\n\n      [part=\"value\"]:focus,\n      [part=\"input-field\"] ::slotted(input):focus,\n      [part=\"input-field\"] ::slotted(textarea):focus {\n        -webkit-mask-image: none;\n        mask-image: none;\n      }\n\n      /*\n        TODO: CSS custom property in \\`mask-image\\` causes crash in Edge\n        see https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/15415089/\n      */\n      @-moz-document url-prefix() {\n        [part=\"value\"],\n        [part=\"input-field\"] ::slotted(input),\n        [part=\"input-field\"] ::slotted(textarea),\n        [part=\"input-field\"] ::slotted([part=\"value\"]) {\n          mask-image: var(--_lumo-text-field-overflow-mask-image);\n        }\n      }\n\n      [part=\"value\"]::-webkit-input-placeholder {\n        color: inherit;\n        transition: opacity 0.175s 0.05s;\n        opacity: 0.5;\n      }\n\n      [part=\"value\"]:-ms-input-placeholder {\n        color: inherit;\n        opacity: 0.5;\n      }\n\n      [part=\"value\"]::-moz-placeholder {\n        color: inherit;\n        transition: opacity 0.175s 0.05s;\n        opacity: 0.5;\n      }\n\n      [part=\"value\"]::placeholder {\n        color: inherit;\n        transition: opacity 0.175s 0.1s;\n        opacity: 0.5;\n      }\n\n      [part=\"input-field\"] {\n        border-radius: var(--lumo-border-radius);\n        background-color: var(--lumo-contrast-10pct);\n        padding: 0 calc(0.375em + var(--lumo-border-radius) / 4 - 1px);\n        font-weight: 500;\n        line-height: 1;\n        position: relative;\n        cursor: text;\n        box-sizing: border-box;\n      }\n\n      /* Used for hover and activation effects */\n      [part=\"input-field\"]::after {\n        content: \"\";\n        position: absolute;\n        top: 0;\n        right: 0;\n        bottom: 0;\n        left: 0;\n        border-radius: inherit;\n        pointer-events: none;\n        background-color: var(--lumo-contrast-50pct);\n        opacity: 0;\n        transition: transform 0.15s, opacity 0.2s;\n        transform-origin: 100% 0;\n      }\n\n      /* Hover */\n\n      :host(:hover:not([readonly]):not([focused])) [part=\"label\"] {\n        color: var(--lumo-body-text-color);\n      }\n\n      :host(:hover:not([readonly]):not([focused])) [part=\"input-field\"]::after {\n        opacity: 0.1;\n      }\n\n      /* Touch device adjustment */\n      @media (pointer: coarse) {\n        :host(:hover:not([readonly]):not([focused])) [part=\"label\"] {\n          color: var(--lumo-secondary-text-color);\n        }\n\n        :host(:hover:not([readonly]):not([focused])) [part=\"input-field\"]::after {\n          opacity: 0;\n        }\n\n        :host(:active:not([readonly]):not([focused])) [part=\"input-field\"]::after {\n          opacity: 0.2;\n        }\n      }\n\n      /* Trigger when not focusing using the keyboard */\n      :host([focused]:not([focus-ring]):not([readonly])) [part=\"input-field\"]::after {\n        transform: scaleX(0);\n        transition-duration: 0.15s, 1s;\n      }\n\n      /* Focus-ring */\n\n      :host([focus-ring]) [part=\"input-field\"] {\n        box-shadow: 0 0 0 2px var(--lumo-primary-color-50pct);\n      }\n\n      /* Read-only and disabled */\n      :host([readonly]) [part=\"value\"]::-webkit-input-placeholder,\n      :host([disabled]) [part=\"value\"]::-webkit-input-placeholder {\n        opacity: 0;\n      }\n\n      :host([readonly]) [part=\"value\"]:-ms-input-placeholder,\n      :host([disabled]) [part=\"value\"]:-ms-input-placeholder {\n        opacity: 0;\n      }\n\n      :host([readonly]) [part=\"value\"]::-moz-placeholder,\n      :host([disabled]) [part=\"value\"]::-moz-placeholder {\n        opacity: 0;\n      }\n\n      :host([readonly]) [part=\"value\"]::placeholder,\n      :host([disabled]) [part=\"value\"]::placeholder {\n        opacity: 0;\n      }\n\n      /* Read-only */\n\n      :host([readonly]) [part=\"input-field\"] {\n        color: var(--lumo-secondary-text-color);\n        background-color: transparent;\n        cursor: default;\n      }\n\n      :host([readonly]) [part=\"input-field\"]::after {\n        background-color: transparent;\n        opacity: 1;\n        border: 1px dashed var(--lumo-contrast-30pct);\n      }\n\n      /* Disabled style */\n\n      :host([disabled]) {\n        pointer-events: none;\n      }\n\n      :host([disabled]) [part=\"input-field\"] {\n        background-color: var(--lumo-contrast-5pct);\n      }\n\n      :host([disabled]) [part=\"label\"],\n      :host([disabled]) [part=\"value\"],\n      :host([disabled]) [part=\"input-field\"] ::slotted(*) {\n        color: var(--lumo-disabled-text-color);\n        -webkit-text-fill-color: var(--lumo-disabled-text-color);\n      }\n\n      /* Invalid style */\n\n      :host([invalid]) [part=\"input-field\"] {\n        background-color: var(--lumo-error-color-10pct);\n      }\n\n      :host([invalid]) [part=\"input-field\"]::after {\n        background-color: var(--lumo-error-color-50pct);\n      }\n\n      :host([invalid][focus-ring]) [part=\"input-field\"] {\n        box-shadow: 0 0 0 2px var(--lumo-error-color-50pct);\n      }\n\n      :host([input-prevented]) [part=\"input-field\"] {\n        color: var(--lumo-error-text-color);\n      }\n\n      /* Small theme */\n\n      :host([theme~=\"small\"]) {\n        font-size: var(--lumo-font-size-s);\n        --lumo-text-field-size: var(--lumo-size-s);\n      }\n\n      :host([theme~=\"small\"][has-label]) [part=\"label\"] {\n        font-size: var(--lumo-font-size-xs);\n      }\n\n      :host([theme~=\"small\"][has-label]) [part=\"error-message\"] {\n        font-size: var(--lumo-font-size-xxs);\n      }\n\n      /* Text align */\n\n      :host([theme~=\"align-center\"]) [part=\"value\"] {\n        text-align: center;\n        --_lumo-text-field-overflow-mask-image: none;\n      }\n\n      :host([theme~=\"align-right\"]) [part=\"value\"] {\n        text-align: right;\n        --_lumo-text-field-overflow-mask-image: none;\n      }\n\n      @-moz-document url-prefix() {\n        /* Firefox is smart enough to align overflowing text to right */\n        :host([theme~=\"align-right\"]) [part=\"value\"] {\n          --_lumo-text-field-overflow-mask-image: linear-gradient(to right, transparent 0.25em, #000 1.5em);\n        }\n      }\n\n      /* Slotted content */\n\n      [part=\"input-field\"] ::slotted(:not([part]):not(iron-icon):not(input):not(textarea)) {\n        color: var(--lumo-secondary-text-color);\n        font-weight: 400;\n      }\n\n      /* Slotted icons */\n\n      [part=\"input-field\"] ::slotted(iron-icon) {\n        color: var(--lumo-contrast-60pct);\n        width: var(--lumo-icon-size-m);\n        height: var(--lumo-icon-size-m);\n      }\n\n      /* Vaadin icons are based on a 16x16 grid (unlike Lumo and Material icons with 24x24), so they look too big by default */\n      [part=\"input-field\"] ::slotted(iron-icon[icon^=\"vaadin:\"]) {\n        padding: 0.25em;\n        box-sizing: border-box !important;\n      }\n\n      [part=\"clear-button\"]::before {\n        content: var(--lumo-icons-cross);\n      }\n    </style>\n  </template>\n</dom-module>`;\ndocument.head.appendChild($_documentContainer.content);","/**\n@license\nCopyright (c) 2017 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\nimport \"../../vaadin-themable-mixin/vaadin-themable-mixin.js\";\nimport { ControlStateMixin } from \"../../vaadin-control-state-mixin/vaadin-control-state-mixin.js\";\nimport { timeOut } from \"@polymer/polymer/lib/utils/async.js\";\nimport { Debouncer } from \"@polymer/polymer/lib/utils/debounce.js\";\nconst $_documentContainer = document.createElement('template');\n$_documentContainer.innerHTML = `<dom-module id=\"vaadin-text-field-shared-styles\">\n  <template>\n    <style>\n      :host {\n        display: inline-flex;\n        outline: none;\n      }\n\n      :host::before {\n        content: \"\\\\2003\";\n        width: 0;\n        display: inline-block;\n        /* Size and position this element on the same vertical position as the input-field element\n           to make vertical align for the host element work as expected */\n      }\n\n      :host([hidden]) {\n        display: none !important;\n      }\n\n      .vaadin-text-field-container,\n      .vaadin-text-area-container {\n        display: flex;\n        flex-direction: column;\n        min-width: 100%;\n        max-width: 100%;\n        width: var(--vaadin-text-field-default-width, 12em);\n      }\n\n      [part=\"label\"]:empty {\n        display: none;\n      }\n\n      [part=\"input-field\"] {\n        display: flex;\n        align-items: center;\n        flex: auto;\n      }\n\n      .vaadin-text-field-container [part=\"input-field\"] {\n        flex-grow: 0;\n      }\n\n      /* Reset the native input styles */\n      [part=\"value\"],\n      [part=\"input-field\"] ::slotted(input),\n      [part=\"input-field\"] ::slotted(textarea) {\n        -webkit-appearance: none;\n        -moz-appearance: none;\n        outline: none;\n        margin: 0;\n        padding: 0;\n        border: 0;\n        border-radius: 0;\n        min-width: 0;\n        font: inherit;\n        font-size: 1em;\n        line-height: normal;\n        color: inherit;\n        background-color: transparent;\n        /* Disable default invalid style in Firefox */\n        box-shadow: none;\n      }\n\n      [part=\"input-field\"] ::slotted(*) {\n        flex: none;\n      }\n\n      [part=\"value\"],\n      [part=\"input-field\"] ::slotted(input),\n      [part=\"input-field\"] ::slotted(textarea),\n      /* Slotted by vaadin-select-text-field */\n      [part=\"input-field\"] ::slotted([part=\"value\"]) {\n        flex: auto;\n        white-space: nowrap;\n        overflow: hidden;\n        width: 100%;\n        height: 100%;\n      }\n\n      [part=\"input-field\"] ::slotted(textarea) {\n        resize: none;\n      }\n\n      [part=\"value\"]::-ms-clear,\n      [part=\"input-field\"] ::slotted(input)::-ms-clear {\n        display: none;\n      }\n\n      [part=\"clear-button\"] {\n        cursor: default;\n      }\n\n      [part=\"clear-button\"]::before {\n        content: \"✕\";\n      }\n    </style>\n  </template>\n</dom-module>`;\ndocument.head.appendChild($_documentContainer.content);\nconst HOST_PROPS = {\n  default: ['list', 'autofocus', 'pattern', 'autocapitalize', 'autocorrect', 'maxlength', 'minlength', 'name', 'placeholder', 'autocomplete', 'title'],\n  accessible: ['disabled', 'readonly', 'required', 'invalid']\n};\nconst PROP_TYPE = {\n  DEFAULT: 'default',\n  ACCESSIBLE: 'accessible'\n};\n/**\n * @polymerMixin\n * @mixes Vaadin.ControlStateMixin\n */\n\nexport const TextFieldMixin = subclass => class VaadinTextFieldMixin extends ControlStateMixin(subclass) {\n  static get properties() {\n    return {\n      /**\n       * Whether the value of the control can be automatically completed by the browser.\n       * List of available options at:\n       * https://developer.mozilla.org/en/docs/Web/HTML/Element/input#attr-autocomplete\n       */\n      autocomplete: {\n        type: String\n      },\n\n      /**\n       * This is a property supported by Safari that is used to control whether\n       * autocorrection should be enabled when the user is entering/editing the text.\n       * Possible values are:\n       * on: Enable autocorrection.\n       * off: Disable autocorrection.\n       */\n      autocorrect: {\n        type: String\n      },\n\n      /**\n       * This is a property supported by Safari and Chrome that is used to control whether\n       * autocapitalization should be enabled when the user is entering/editing the text.\n       * Possible values are:\n       * characters: Characters capitalization.\n       * words: Words capitalization.\n       * sentences: Sentences capitalization.\n       * none: No capitalization.\n       */\n      autocapitalize: {\n        type: String\n      },\n\n      /**\n       * Specify that the value should be automatically selected when the field gains focus.\n       */\n      autoselect: {\n        type: Boolean,\n        value: false\n      },\n\n      /**\n       * Set to true to display the clear icon which clears the input.\n       */\n      clearButtonVisible: {\n        type: Boolean,\n        value: false\n      },\n\n      /**\n       * Error to show when the input value is invalid.\n       */\n      errorMessage: {\n        type: String,\n        value: ''\n      },\n\n      /**\n       * Object with translated strings used for localization. Has\n       * the following structure and default values:\n       *\n       * ```\n       * {\n       *   // Translation of the clear icon button accessible label\n       *   clear: 'Clear'\n       * }\n       * ```\n       */\n      i18n: {\n        type: Object,\n        value: () => {\n          return {\n            clear: 'Clear'\n          };\n        }\n      },\n\n      /**\n       * String used for the label element.\n       */\n      label: {\n        type: String,\n        value: '',\n        observer: '_labelChanged'\n      },\n\n      /**\n       * Maximum number of characters (in Unicode code points) that the user can enter.\n       */\n      maxlength: {\n        type: Number\n      },\n\n      /**\n       * Minimum number of characters (in Unicode code points) that the user can enter.\n       */\n      minlength: {\n        type: Number\n      },\n\n      /**\n       * The name of the control, which is submitted with the form data.\n       */\n      name: {\n        type: String\n      },\n\n      /**\n       * A hint to the user of what can be entered in the control.\n       */\n      placeholder: {\n        type: String\n      },\n\n      /**\n       * This attribute indicates that the user cannot modify the value of the control.\n       */\n      readonly: {\n        type: Boolean,\n        reflectToAttribute: true\n      },\n\n      /**\n       * Specifies that the user must fill in a value.\n       */\n      required: {\n        type: Boolean,\n        reflectToAttribute: true\n      },\n\n      /**\n       * The initial value of the control.\n       * It can be used for two-way data binding.\n       */\n      value: {\n        type: String,\n        value: '',\n        observer: '_valueChanged',\n        notify: true\n      },\n\n      /**\n       * This property is set to true when the control value is invalid.\n       */\n      invalid: {\n        type: Boolean,\n        reflectToAttribute: true,\n        notify: true,\n        value: false\n      },\n\n      /**\n       * Specifies that the text field has value.\n       */\n      hasValue: {\n        type: Boolean,\n        reflectToAttribute: true\n      },\n\n      /**\n       * When set to true, user is prevented from typing a value that\n       * conflicts with the given `pattern`.\n       */\n      preventInvalidInput: {\n        type: Boolean\n      },\n      _labelId: String,\n      _errorId: String,\n      _inputId: String\n    };\n  }\n\n  static get observers() {\n    return ['_stateChanged(disabled, readonly, clearButtonVisible, hasValue)', '_hostPropsChanged(' + HOST_PROPS.default.join(', ') + ')', '_hostAccessiblePropsChanged(' + HOST_PROPS.accessible.join(', ') + ')', '_getActiveErrorId(invalid, errorMessage, _errorId)', '_getActiveLabelId(label, _labelId, _inputId)', '__observeOffsetHeight(errorMessage, invalid, label)'];\n  }\n\n  get focusElement() {\n    if (!this.shadowRoot) {\n      return;\n    }\n\n    const slotted = this.querySelector(`${this._slottedTagName}[slot=\"${this._slottedTagName}\"]`);\n\n    if (slotted) {\n      return slotted;\n    }\n\n    return this.shadowRoot.querySelector('[part=\"value\"]');\n  }\n  /**\n   * @private\n   */\n\n\n  get inputElement() {\n    return this.focusElement;\n  }\n\n  get _slottedTagName() {\n    return 'input';\n  }\n\n  _createConstraintsObserver() {\n    // This complex observer needs to be added dynamically here (instead of defining it above in the `get observers()`)\n    // so that it runs after complex observers of inheriting classes. Otherwise e.g. `_stepOrMinChanged()` observer of\n    // vaadin-number-field would run after this and the `min` and `step` properties would not yet be propagated to\n    // the `inputElement` when this runs.\n    this._createMethodObserver('_constraintsChanged(required, minlength, maxlength, pattern)');\n  }\n\n  _onInput(e) {\n    if (this.__preventInput) {\n      e.stopImmediatePropagation();\n      this.__preventInput = false;\n      return;\n    }\n\n    if (this.preventInvalidInput) {\n      const input = this.inputElement;\n\n      if (input.value.length > 0 && !this.checkValidity()) {\n        input.value = this.value || ''; // add input-prevented attribute for 200ms\n\n        this.setAttribute('input-prevented', '');\n        this._inputDebouncer = Debouncer.debounce(this._inputDebouncer, timeOut.after(200), () => {\n          this.removeAttribute('input-prevented');\n        });\n        return;\n      }\n    }\n\n    if (!e.__fromClearButton) {\n      this.__userInput = true;\n    }\n\n    this.value = e.target.value;\n  } // NOTE(yuriy): Workaround needed for IE11 and Edge for proper displaying\n  // of the clear button instead of setting display property for it depending on state.\n\n\n  _stateChanged(disabled, readonly, clearButtonVisible, hasValue) {\n    if (!disabled && !readonly && clearButtonVisible && hasValue) {\n      this.$.clearButton.removeAttribute('hidden');\n    } else {\n      this.$.clearButton.setAttribute('hidden', true);\n    }\n  }\n\n  _onChange(e) {\n    if (this._valueClearing) {\n      return;\n    } // In the Shadow DOM, the `change` event is not leaked into the\n    // ancestor tree, so we must do this manually.\n\n\n    const changeEvent = new CustomEvent('change', {\n      detail: {\n        sourceEvent: e\n      },\n      bubbles: e.bubbles,\n      cancelable: e.cancelable\n    });\n    this.dispatchEvent(changeEvent);\n  }\n\n  _valueChanged(newVal, oldVal) {\n    // setting initial value to empty string, skip validation\n    if (newVal === '' && oldVal === undefined) {\n      return;\n    }\n\n    if (newVal !== '' && newVal != null) {\n      this.hasValue = true;\n    } else {\n      this.hasValue = false;\n    }\n\n    if (this.__userInput) {\n      this.__userInput = false;\n      return;\n    } else if (newVal !== undefined) {\n      this.inputElement.value = newVal;\n    } else {\n      this.value = this.inputElement.value = '';\n    }\n\n    if (this.invalid) {\n      this.validate();\n    }\n  }\n\n  _labelChanged(label) {\n    if (label !== '' && label != null) {\n      this.setAttribute('has-label', '');\n    } else {\n      this.removeAttribute('has-label');\n    }\n  }\n\n  _onSlotChange() {\n    const slotted = this.querySelector(`${this._slottedTagName}[slot=\"${this._slottedTagName}\"]`);\n\n    if (this.value) {\n      this.inputElement.value = this.value;\n      this.validate();\n    }\n\n    if (slotted && !this._slottedInput) {\n      this._validateSlottedValue(slotted);\n\n      this._addInputListeners(slotted);\n\n      this._addIEListeners(slotted);\n\n      this._slottedInput = slotted;\n    } else if (!slotted && this._slottedInput) {\n      this._removeInputListeners(this._slottedInput);\n\n      this._removeIEListeners(this._slottedInput);\n\n      this._slottedInput = undefined;\n    }\n\n    Object.keys(PROP_TYPE).map(key => PROP_TYPE[key]).forEach(type => this._propagateHostAttributes(HOST_PROPS[type].map(attr => this[attr]), type));\n  }\n\n  _hostPropsChanged(...attributesValues) {\n    this._propagateHostAttributes(attributesValues, PROP_TYPE.DEFAULT);\n  }\n\n  _hostAccessiblePropsChanged(...attributesValues) {\n    this._propagateHostAttributes(attributesValues, PROP_TYPE.ACCESSIBLE);\n  }\n\n  _validateSlottedValue(slotted) {\n    if (slotted.value !== this.value) {\n      console.warn('Please define value on the vaadin-text-field component!');\n      slotted.value = '';\n    }\n  }\n\n  _propagateHostAttributes(attributesValues, type) {\n    const input = this.inputElement;\n    const attributeNames = HOST_PROPS[type];\n\n    if (type === 'accessible') {\n      attributeNames.forEach((attr, index) => {\n        this._setOrToggleAttribute(attr, attributesValues[index], input);\n\n        this._setOrToggleAttribute(`aria-${attr}`, attributesValues[index], input);\n      });\n    } else {\n      attributeNames.forEach((attr, index) => {\n        this._setOrToggleAttribute(attr, attributesValues[index], input);\n      });\n    }\n  }\n\n  _setOrToggleAttribute(name, value, node) {\n    if (!name || !node) {\n      return;\n    }\n\n    if (value) {\n      node.setAttribute(name, typeof value === 'boolean' ? '' : value);\n    } else {\n      node.removeAttribute(name);\n    }\n  }\n\n  _constraintsChanged(required, minlength, maxlength, pattern) {\n    if (!this.invalid) {\n      return;\n    }\n\n    if (!required && !minlength && !maxlength && !pattern) {\n      this.invalid = false;\n    } else {\n      this.validate();\n    }\n  }\n  /**\n   * Returns true if the current input value satisfies all constraints (if any)\n   * @returns {boolean}\n   */\n\n\n  checkValidity() {\n    if (this.required || this.pattern || this.maxlength || this.minlength) {\n      return this.inputElement.checkValidity();\n    } else {\n      return !this.invalid;\n    }\n  }\n\n  _addInputListeners(node) {\n    node.addEventListener('input', this._boundOnInput);\n    node.addEventListener('change', this._boundOnChange);\n    node.addEventListener('blur', this._boundOnBlur);\n    node.addEventListener('focus', this._boundOnFocus);\n  }\n\n  _removeInputListeners(node) {\n    node.removeEventListener('input', this._boundOnInput);\n    node.removeEventListener('change', this._boundOnChange);\n    node.removeEventListener('blur', this._boundOnBlur);\n    node.removeEventListener('focus', this._boundOnFocus);\n  }\n\n  ready() {\n    super.ready();\n\n    this._createConstraintsObserver();\n\n    this._boundOnInput = this._onInput.bind(this);\n    this._boundOnChange = this._onChange.bind(this);\n    this._boundOnBlur = this._onBlur.bind(this);\n    this._boundOnFocus = this._onFocus.bind(this);\n    const defaultInput = this.shadowRoot.querySelector('[part=\"value\"]');\n    this._slottedInput = this.querySelector(`${this._slottedTagName}[slot=\"${this._slottedTagName}\"]`);\n\n    this._addInputListeners(defaultInput);\n\n    this._addIEListeners(defaultInput);\n\n    if (this._slottedInput) {\n      this._addIEListeners(this._slottedInput);\n\n      this._addInputListeners(this._slottedInput);\n    }\n\n    this.shadowRoot.querySelector('[name=\"input\"], [name=\"textarea\"]').addEventListener('slotchange', this._onSlotChange.bind(this));\n\n    if (!(window.ShadyCSS && window.ShadyCSS.nativeCss)) {\n      this.updateStyles();\n    }\n\n    this.$.clearButton.addEventListener('mousedown', () => this._valueClearing = true);\n    this.$.clearButton.addEventListener('mouseleave', () => this._valueClearing = false);\n    this.$.clearButton.addEventListener('click', this._onClearButtonClick.bind(this));\n    this.addEventListener('keydown', this._onKeyDown.bind(this));\n    var uniqueId = TextFieldMixin._uniqueId = 1 + TextFieldMixin._uniqueId || 0;\n    this._errorId = `${this.constructor.is}-error-${uniqueId}`;\n    this._labelId = `${this.constructor.is}-label-${uniqueId}`;\n    this._inputId = `${this.constructor.is}-input-${uniqueId}`; // Lumo theme defines a max-height transition for the \"error-message\"\n    // part on invalid state change.\n\n    this.shadowRoot.querySelector('[part=\"error-message\"]').addEventListener('transitionend', () => {\n      this.__observeOffsetHeight();\n    });\n  }\n  /**\n   * Returns true if `value` is valid.\n   * `<iron-form>` uses this to check the validity for all its elements.\n   *\n   * @return {boolean} True if the value is valid.\n   */\n\n\n  validate() {\n    return !(this.invalid = !this.checkValidity());\n  }\n\n  clear() {\n    this.value = '';\n  }\n\n  _onBlur() {\n    this.validate();\n  }\n\n  _onFocus() {\n    if (this.autoselect) {\n      this.inputElement.select(); // iOS 9 workaround: https://stackoverflow.com/a/7436574\n\n      setTimeout(() => {\n        try {\n          this.inputElement.setSelectionRange(0, 9999);\n        } catch (e) {// The workaround may cause errors on different input types.\n          // Needs to be suppressed. See https://github.com/vaadin/flow/issues/6070\n        }\n      });\n    }\n  }\n\n  _onClearButtonClick(e) {\n    e.preventDefault(); // NOTE(yuriy): This line won't affect focus on the host. Cannot be properly tested.\n\n    this.inputElement.focus();\n    this.clear();\n    this._valueClearing = false;\n\n    if (navigator.userAgent.match(/Trident/)) {\n      // Disable IE input\" event prevention here, we want the input event from\n      // below to propagate normally.\n      this.__preventInput = false;\n    }\n\n    const inputEvent = new Event('input', {\n      bubbles: true,\n      composed: true\n    });\n    inputEvent.__fromClearButton = true;\n    const changeEvent = new Event('change', {\n      bubbles: !this._slottedInput\n    });\n    changeEvent.__fromClearButton = true;\n    this.inputElement.dispatchEvent(inputEvent);\n    this.inputElement.dispatchEvent(changeEvent);\n  }\n\n  _onKeyDown(e) {\n    if (e.keyCode === 27 && this.clearButtonVisible) {\n      const dispatchChange = !!this.value;\n      this.clear();\n      dispatchChange && this.inputElement.dispatchEvent(new Event('change', {\n        bubbles: !this._slottedInput\n      }));\n    }\n  }\n\n  _addIEListeners(node) {\n    /* istanbul ignore if */\n    if (navigator.userAgent.match(/Trident/)) {\n      // IE11 dispatches `input` event in following cases:\n      // - focus or blur, when placeholder attribute is set\n      // - placeholder attribute value changed\n      // https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/101220/\n      this._shouldPreventInput = () => {\n        this.__preventInput = true;\n        requestAnimationFrame(() => {\n          this.__preventInput = false;\n        });\n      };\n\n      node.addEventListener('focusin', this._shouldPreventInput);\n      node.addEventListener('focusout', this._shouldPreventInput);\n\n      this._createPropertyObserver('placeholder', this._shouldPreventInput);\n    }\n  }\n\n  _removeIEListeners(node) {\n    /* istanbul ignore if */\n    if (navigator.userAgent.match(/Trident/)) {\n      node.removeEventListener('focusin', this._shouldPreventInput);\n      node.removeEventListener('focusout', this._shouldPreventInput);\n    }\n  }\n\n  _getActiveErrorId(invalid, errorMessage, errorId) {\n    this._setOrToggleAttribute('aria-describedby', errorMessage && invalid ? errorId : undefined, this.focusElement);\n  }\n\n  _getActiveLabelId(label, _labelId, _inputId) {\n    let ids = _inputId;\n\n    if (label) {\n      ids = `${_labelId} ${_inputId}`;\n    }\n\n    this.focusElement.setAttribute('aria-labelledby', ids);\n  }\n\n  _getErrorMessageAriaHidden(invalid, errorMessage, errorId) {\n    return (!(errorMessage && invalid ? errorId : undefined)).toString();\n  }\n\n  _dispatchIronResizeEventIfNeeded(sizePropertyName, value) {\n    const previousSizePropertyName = '__previous' + sizePropertyName;\n\n    if (this[previousSizePropertyName] !== undefined && this[previousSizePropertyName] !== value) {\n      this.dispatchEvent(new CustomEvent('iron-resize', {\n        bubbles: true\n      }));\n    }\n\n    this[previousSizePropertyName] = value;\n  }\n\n  __observeOffsetHeight() {\n    this._dispatchIronResizeEventIfNeeded('Height', this.offsetHeight);\n  }\n  /**\n   * @protected\n   */\n\n\n  attributeChangedCallback(prop, oldVal, newVal) {\n    super.attributeChangedCallback(prop, oldVal, newVal); // Needed until Edge has CSS Custom Properties (present in Edge Preview)\n\n    /* istanbul ignore if */\n\n    if (!(window.ShadyCSS && window.ShadyCSS.nativeCss) && /^(focused|focus-ring|invalid|disabled|placeholder|has-value)$/.test(prop)) {\n      this.updateStyles();\n    } // Safari has an issue with repainting shadow root element styles when a host attribute changes.\n    // Need this workaround (toggle any inline css property on and off) until the issue gets fixed.\n\n\n    const isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\n    /* istanbul ignore if */\n\n    if (isSafari && this.root) {\n      const WEBKIT_PROPERTY = '-webkit-backface-visibility';\n      this.root.querySelectorAll('*').forEach(el => {\n        el.style[WEBKIT_PROPERTY] = 'visible';\n        el.style[WEBKIT_PROPERTY] = '';\n      });\n    }\n  }\n  /**\n   * Fired when the user commits a value change.\n   *\n   * @event change\n   */\n\n  /**\n   * Fired when the value is changed by the user: on every typing keystroke,\n   * and the value is cleared using the clear button.\n   *\n   * @event input\n   */\n\n  /**\n   * Fired when the size of the element changes.\n   *\n   * @event iron-resize\n   */\n\n\n};","/**\n@license\nCopyright (c) 2017 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\nimport { PolymerElement } from \"@polymer/polymer/polymer-element.js\";\nimport { TextFieldMixin } from './vaadin-text-field-mixin.js';\nimport { ElementMixin } from \"../../vaadin-element-mixin/vaadin-element-mixin.js\";\nimport { html } from \"@polymer/polymer/lib/utils/html-tag.js\";\nimport { ThemableMixin } from \"../../vaadin-themable-mixin/vaadin-themable-mixin.js\";\n/**\n * `<vaadin-text-field>` is a Web Component for text field control in forms.\n *\n * ```html\n * <vaadin-text-field label=\"First Name\">\n * </vaadin-text-field>\n * ```\n *\n * ### Prefixes and suffixes\n *\n * These are child elements of a `<vaadin-text-field>` that are displayed\n * inline with the input, before or after.\n * In order for an element to be considered as a prefix, it must have the slot\n * attribute set to `prefix` (and similarly for `suffix`).\n *\n * ```html\n * <vaadin-text-field label=\"Email address\">\n *   <div slot=\"prefix\">Sent to:</div>\n *   <div slot=\"suffix\">@vaadin.com</div>\n * </vaadin-text-area>\n * ```\n *\n * ### Styling\n *\n * The following custom properties are available for styling:\n *\n * Custom property | Description | Default\n * ----------------|-------------|-------------\n * `--vaadin-text-field-default-width` | Set the default width of the input field | `12em`\n *\n * The following shadow DOM parts are available for styling:\n *\n * Part name | Description\n * ----------------|----------------\n * `label` | The label element\n * `input-field` | The element that wraps prefix, value and suffix\n * `value` | The text value element inside the `input-field` element\n * `error-message` | The error message element\n *\n * The following state attributes are available for styling:\n *\n * Attribute    | Description | Part name\n * -------------|-------------|------------\n * `disabled` | Set to a disabled text field | :host\n * `has-value` | Set when the element has a value | :host\n * `has-label` | Set when the element has a label | :host\n * `invalid` | Set when the element is invalid | :host\n * `input-prevented` | Temporarily set when invalid input is prevented | :host\n * `focused` | Set when the element is focused | :host\n * `focus-ring` | Set when the element is keyboard focused | :host\n * `readonly` | Set to a readonly text field | :host\n *\n * See [ThemableMixin – how to apply styles for shadow parts](https://github.com/vaadin/vaadin-themable-mixin/wiki)\n *\n * @memberof Vaadin\n * @mixes Vaadin.TextFieldMixin\n * @mixes Vaadin.ThemableMixin\n * @demo demo/index.html\n */\n\nclass TextFieldElement extends ElementMixin(TextFieldMixin(ThemableMixin(PolymerElement))) {\n  static get template() {\n    return html`\n    <style include=\"vaadin-text-field-shared-styles\">\n      /* polymer-cli linter breaks with empty line */\n    </style>\n\n    <div class=\"vaadin-text-field-container\">\n\n      <label part=\"label\" on-click=\"focus\" id=\"[[_labelId]]\">[[label]]</label>\n\n      <div part=\"input-field\" id=\"[[_inputId]]\">\n\n        <slot name=\"prefix\"></slot>\n\n        <slot name=\"input\">\n          <input part=\"value\">\n        </slot>\n\n        <div part=\"clear-button\" id=\"clearButton\" role=\"button\" aria-label\\$=\"[[i18n.clear]]\"></div>\n        <slot name=\"suffix\"></slot>\n\n      </div>\n\n      <div part=\"error-message\" id=\"[[_errorId]]\" aria-live=\"assertive\" aria-hidden\\$=\"[[_getErrorMessageAriaHidden(invalid, errorMessage, _errorId)]]\">[[errorMessage]]</div>\n\n    </div>\n`;\n  }\n\n  static get is() {\n    return 'vaadin-text-field';\n  }\n\n  static get version() {\n    return '2.4.14';\n  }\n\n  static get properties() {\n    return {\n      /**\n       * Identifies a list of pre-defined options to suggest to the user.\n       * The value must be the id of a <datalist> element in the same document.\n       */\n      list: {\n        type: String\n      },\n\n      /**\n       * A regular expression that the value is checked against.\n       * The pattern must match the entire value, not just some subset.\n       */\n      pattern: {\n        type: String\n      },\n\n      /**\n       * Message to show to the user when validation fails.\n       */\n      title: {\n        type: String\n      }\n    };\n  }\n\n}\n\ncustomElements.define(TextFieldElement.is, TextFieldElement);\nexport { TextFieldElement };","import \"../../../vaadin-lumo-styles/font-icons.js\";\nimport \"../../../vaadin-lumo-styles/mixins/field-button.js\";\nimport \"../../../vaadin-text-field/theme/lumo/vaadin-text-field.js\";\nimport { html } from \"@polymer/polymer/lib/utils/html-tag.js\";\nconst $_documentContainer = html`<dom-module id=\"lumo-combo-box\" theme-for=\"vaadin-combo-box\">\n  <template>\n    <style include=\"lumo-field-button\">\n      :host {\n        outline: none;\n      }\n\n      [part=\"toggle-button\"]::before {\n        content: var(--lumo-icons-dropdown);\n      }\n    </style>\n  </template>\n</dom-module>`;\ndocument.head.appendChild($_documentContainer.content);","/**\n@license\nCopyright (c) 2018 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\n\n/*\n * Placeholder object class representing items being loaded.\n *\n * @private\n */\nexport const ComboBoxPlaceholder = class ComboBoxPlaceholder {\n  toString() {\n    return '';\n  }\n\n};","/**\n@license\nCopyright (c) 2017 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\nimport { timeOut } from \"@polymer/polymer/lib/utils/async.js\";\nimport { Debouncer } from \"@polymer/polymer/lib/utils/debounce.js\";\nimport { flush } from \"@polymer/polymer/lib/utils/flush.js\";\nimport { templatize } from \"@polymer/polymer/lib/utils/templatize.js\";\nimport { IronA11yAnnouncer } from \"@polymer/iron-a11y-announcer/iron-a11y-announcer.js\";\nimport { IronA11yKeysBehavior } from \"@polymer/iron-a11y-keys-behavior/iron-a11y-keys-behavior.js\";\nimport { FlattenedNodesObserver } from \"@polymer/polymer/lib/utils/flattened-nodes-observer.js\";\nimport { ComboBoxPlaceholder } from './vaadin-combo-box-placeholder.js';\n/**\n * @polymerMixin\n */\n\nexport const ComboBoxMixin = subclass => class VaadinComboBoxMixinElement extends subclass {\n  static get properties() {\n    return {\n      /**\n       * True if the dropdown is open, false otherwise.\n       */\n      opened: {\n        type: Boolean,\n        notify: true,\n        value: false,\n        reflectToAttribute: true,\n        observer: '_openedChanged'\n      },\n\n      /**\n       * Set to true to disable this element.\n       */\n      disabled: {\n        type: Boolean,\n        value: false,\n        reflectToAttribute: true\n      },\n\n      /**\n       * When present, it specifies that the element field is read-only.\n       */\n      readonly: {\n        type: Boolean,\n        value: false,\n        reflectToAttribute: true\n      },\n\n      /**\n       * Custom function for rendering the content of every item.\n       * Receives three arguments:\n       *\n       * - `root` The `<vaadin-combo-box-item>` internal container DOM element.\n       * - `comboBox` The reference to the `<vaadin-combo-box>` element.\n       * - `model` The object with the properties related with the rendered\n       *   item, contains:\n       *   - `model.index` The index of the rendered item.\n       *   - `model.item` The item.\n       */\n      renderer: Function,\n\n      /**\n       * A full set of items to filter the visible options from.\n       * The items can be of either `String` or `Object` type.\n       */\n      items: {\n        type: Array,\n        observer: '_itemsChanged'\n      },\n\n      /**\n       * If `true`, the user can input a value that is not present in the items list.\n       * `value` property will be set to the input value in this case.\n       * Also, when `value` is set programmatically, the input value will be set\n       * to reflect that value.\n       */\n      allowCustomValue: {\n        type: Boolean,\n        value: false\n      },\n\n      /**\n       * A subset of items, filtered based on the user input. Filtered items\n       * can be assigned directly to omit the internal filtering functionality.\n       * The items can be of either `String` or `Object` type.\n       */\n      filteredItems: {\n        type: Array\n      },\n\n      /**\n       * The `String` value for the selected item of the combo box. Provides\n       * the value for `iron-form`.\n       *\n       * When there’s no item selected, the value is an empty string.\n       *\n       * Use `selectedItem` property to get the raw selected item from\n       * the `items` array.\n       */\n      value: {\n        type: String,\n        observer: '_valueChanged',\n        notify: true,\n        value: ''\n      },\n\n      /**\n       * Used to detect user value changes and fire `change` events.\n       */\n      _lastCommittedValue: String,\n\n      /*\n       * When set to `true`, \"loading\" attribute is added to host and the overlay element.\n       */\n      loading: {\n        type: Boolean,\n        value: false,\n        reflectToAttribute: true\n      },\n      _focusedIndex: {\n        type: Number,\n        value: -1\n      },\n\n      /**\n       * Filtering string the user has typed into the input field.\n       */\n      filter: {\n        type: String,\n        value: '',\n        notify: true\n      },\n\n      /**\n       * The selected item from the `items` array.\n       */\n      selectedItem: {\n        type: Object,\n        notify: true\n      },\n\n      /**\n       * Path for label of the item. If `items` is an array of objects, the\n       * `itemLabelPath` is used to fetch the displayed string label for each\n       * item.\n       *\n       * The item label is also used for matching items when processing user\n       * input, i.e., for filtering and selecting items.\n       *\n       * When using item templates, the property is still needed because it is used\n       * for filtering, and for displaying the selected item value in the input box.\n       */\n      itemLabelPath: {\n        type: String,\n        value: 'label',\n        observer: '_itemLabelPathChanged'\n      },\n\n      /**\n       * Path for the value of the item. If `items` is an array of objects, the\n       * `itemValuePath:` is used to fetch the string value for the selected\n       * item.\n       *\n       * The item value is used in the `value` property of the combo box,\n       * to provide the form value.\n       */\n      itemValuePath: {\n        type: String,\n        value: 'value'\n      },\n\n      /**\n       * Path for the id of the item. If `items` is an array of objects,\n       * the `itemIdPath` is used to compare and identify the same item\n       * in `selectedItem` and `filteredItems` (items given by the\n       * `dataProvider` callback).\n       */\n      itemIdPath: String,\n\n      /**\n       * The name of this element.\n       */\n      name: {\n        type: String\n      },\n\n      /**\n       * Set to true if the value is invalid.\n       */\n      invalid: {\n        type: Boolean,\n        reflectToAttribute: true,\n        notify: true,\n        value: false\n      },\n      _toggleElement: Object,\n      _clearElement: Object,\n      _inputElementValue: String,\n      _closeOnBlurIsPrevented: Boolean,\n      _previousDocumentPointerEvents: String,\n      _itemTemplate: Object\n    };\n  }\n\n  static get observers() {\n    return ['_filterChanged(filter, itemValuePath, itemLabelPath)', '_itemsOrPathsChanged(items.*, itemValuePath, itemLabelPath)', '_filteredItemsChanged(filteredItems.*, itemValuePath, itemLabelPath)', '_templateOrRendererChanged(_itemTemplate, renderer)', '_loadingChanged(loading)', '_selectedItemChanged(selectedItem, itemLabelPath)', '_toggleElementChanged(_toggleElement)'];\n  }\n\n  constructor() {\n    super();\n    this._boundOnFocusout = this._onFocusout.bind(this);\n    this._boundOverlaySelectedItemChanged = this._overlaySelectedItemChanged.bind(this);\n    this._boundClose = this.close.bind(this);\n    this._boundOnOpened = this._onOpened.bind(this);\n    this._boundOnKeyDown = this._onKeyDown.bind(this);\n    this._boundOnClick = this._onClick.bind(this);\n    this._boundOnOverlayTouchAction = this._onOverlayTouchAction.bind(this);\n    this._boundOnTouchend = this._onTouchend.bind(this);\n  }\n\n  ready() {\n    super.ready();\n    this.addEventListener('focusout', this._boundOnFocusout);\n    this._lastCommittedValue = this.value;\n    IronA11yAnnouncer.requestAvailability(); // 2.0 does not support 'overlay.selection-changed' syntax in listeners\n\n    this.$.overlay.addEventListener('selection-changed', this._boundOverlaySelectedItemChanged);\n    this.addEventListener('vaadin-combo-box-dropdown-closed', this._boundClose);\n    this.addEventListener('vaadin-combo-box-dropdown-opened', this._boundOnOpened);\n    this.addEventListener('keydown', this._boundOnKeyDown);\n    this.addEventListener('click', this._boundOnClick);\n    this.$.overlay.addEventListener('vaadin-overlay-touch-action', this._boundOnOverlayTouchAction);\n    this.addEventListener('touchend', this._boundOnTouchend);\n    this._observer = new FlattenedNodesObserver(this, info => {\n      this._setTemplateFromNodes(info.addedNodes);\n    });\n  }\n  /**\n   * Manually invoke existing renderer.\n   */\n\n\n  render() {\n    if (this.$.overlay._selector) {\n      this.$.overlay._selector.querySelectorAll('vaadin-combo-box-item').forEach(item => item._render());\n    }\n  }\n\n  _setTemplateFromNodes(nodes) {\n    this._itemTemplate = nodes.filter(node => node.localName && node.localName === 'template')[0] || this._itemTemplate;\n  }\n\n  _removeNewRendererOrTemplate(template, oldTemplate, renderer, oldRenderer) {\n    if (template !== oldTemplate) {\n      this._itemTemplate = undefined;\n    } else if (renderer !== oldRenderer) {\n      this.renderer = undefined;\n    }\n  }\n\n  _templateOrRendererChanged(template, renderer) {\n    if (template && renderer) {\n      this._removeNewRendererOrTemplate(template, this._oldTemplate, renderer, this._oldRenderer);\n\n      throw new Error('You should only use either a renderer or a template for combo box items');\n    }\n\n    this._oldTemplate = template;\n    this._oldRenderer = renderer;\n  }\n  /**\n   * Opens the dropdown list.\n   */\n\n\n  open() {\n    // Prevent _open() being called when input is disabled or read-only\n    if (!this.disabled && !this.readonly) {\n      this.opened = true;\n    }\n  }\n  /**\n   * Closes the dropdown list.\n   */\n\n\n  close() {\n    this.opened = false;\n  }\n\n  _openedChanged(value, old) {\n    // Prevent _close() being called when opened is set to its default value (false).\n    if (old === undefined) {\n      return;\n    }\n\n    if (this.opened) {\n      this._openedWithFocusRing = this.hasAttribute('focus-ring') || this.focusElement && this.focusElement.hasAttribute('focus-ring'); // For touch devices, we don't want to popup virtual keyboard unless input is explicitly focused by the user.\n\n      if (!this.hasAttribute('focused') && !this.$.overlay.touchDevice) {\n        this.focus();\n      }\n    } else {\n      this._onClosed();\n\n      if (this._openedWithFocusRing && this.hasAttribute('focused')) {\n        this.focusElement.setAttribute('focus-ring', '');\n      }\n    }\n  }\n\n  _onOverlayTouchAction(event) {\n    // On touch devices, blur the input on touch start inside the overlay, in order to hide\n    // the virtual keyboard. But don't close the overlay on this blur.\n    this._closeOnBlurIsPrevented = true;\n    this.inputElement.blur();\n    this._closeOnBlurIsPrevented = false;\n  }\n\n  _onClick(e) {\n    this._closeOnBlurIsPrevented = true;\n    const path = e.composedPath();\n    const isClearElement = path.indexOf(this._clearElement) !== -1 || path[0].getAttribute('part') === 'clear-button';\n\n    if (isClearElement) {\n      this._clear();\n\n      this.focus();\n    } else if (path.indexOf(this.inputElement) !== -1) {\n      if (path.indexOf(this._toggleElement) > -1 && this.opened) {\n        this.close();\n      } else {\n        this.open();\n      }\n    }\n\n    this._closeOnBlurIsPrevented = false;\n  }\n  /**\n   * Keyboard navigation\n   */\n\n\n  _onKeyDown(e) {\n    if (this._isEventKey(e, 'down')) {\n      this._closeOnBlurIsPrevented = true;\n\n      this._onArrowDown();\n\n      this._closeOnBlurIsPrevented = false; // prevent caret from moving\n\n      e.preventDefault();\n    } else if (this._isEventKey(e, 'up')) {\n      this._closeOnBlurIsPrevented = true;\n\n      this._onArrowUp();\n\n      this._closeOnBlurIsPrevented = false; // prevent caret from moving\n\n      e.preventDefault();\n    } else if (this._isEventKey(e, 'enter')) {\n      this._onEnter(e);\n    } else if (this._isEventKey(e, 'esc')) {\n      this._onEscape(e);\n    }\n  }\n\n  _isEventKey(e, k) {\n    return IronA11yKeysBehavior.keyboardEventMatchesKeys(e, k);\n  }\n\n  _getItemLabel(item) {\n    return this.$.overlay.getItemLabel(item);\n  }\n\n  _getItemValue(item) {\n    let value = item && this.itemValuePath ? this.get(this.itemValuePath, item) : undefined;\n\n    if (value === undefined) {\n      value = item ? item.toString() : '';\n    }\n\n    return value;\n  }\n\n  _onArrowDown() {\n    if (this.opened) {\n      if (this.$.overlay._items) {\n        this._focusedIndex = Math.min(this.$.overlay._items.length - 1, this._focusedIndex + 1);\n\n        this._prefillFocusedItemLabel();\n      }\n    } else {\n      this.open();\n    }\n  }\n\n  _onArrowUp() {\n    if (this.opened) {\n      if (this._focusedIndex > -1) {\n        this._focusedIndex = Math.max(0, this._focusedIndex - 1);\n      } else {\n        if (this.$.overlay._items) {\n          this._focusedIndex = this.$.overlay._items.length - 1;\n        }\n      }\n\n      this._prefillFocusedItemLabel();\n    } else {\n      this.open();\n    }\n  }\n\n  _prefillFocusedItemLabel() {\n    if (this._focusedIndex > -1) {\n      // Reset the input value asyncronously to prevent partial value changes\n      // announce. Makes OSX VoiceOver to announce the complete value instead.\n      this._inputElementValue = ''; // 1ms delay needed for OSX VoiceOver to realise input value was reset\n\n      setTimeout(() => {\n        this._inputElementValue = this._getItemLabel(this.$.overlay._focusedItem);\n\n        this._markAllSelectionRange();\n      }, 1);\n    }\n  }\n\n  _setSelectionRange(start, end) {\n    // vaadin-text-field does not implement setSelectionRange, hence we need the native input\n    const input = this._nativeInput || this.inputElement; // Setting selection range focuses and/or moves the caret in some browsers,\n    // and there's no need to modify the selection range if the input isn't focused anyway.\n    // This affects Safari. When the overlay is open, and then hiting tab, browser should focus\n    // the next focusable element instead of the combo-box itself.\n    // Checking the focused property here is enough instead of checking the activeElement.\n\n    if (this.hasAttribute('focused') && input && input.setSelectionRange) {\n      try {\n        input.setSelectionRange(start, end);\n      } catch (ignore) {// IE11 randomly fails when running tests in Sauce.\n      }\n    }\n  }\n\n  _markAllSelectionRange() {\n    if (this._inputElementValue !== undefined) {\n      this._setSelectionRange(0, this._inputElementValue.length);\n    }\n  }\n\n  _clearSelectionRange() {\n    if (this._inputElementValue !== undefined) {\n      const pos = this._inputElementValue ? this._inputElementValue.length : 0;\n\n      this._setSelectionRange(pos, pos);\n    }\n  }\n\n  _onEnter(e) {\n    // should close on enter when custom values are allowed, input field is cleared, or when an existing\n    // item is focused with keyboard.\n    if (this.opened && (this.allowCustomValue || this._inputElementValue === '' || this._focusedIndex > -1)) {\n      this.close(); // Do not submit the surrounding form.\n\n      e.preventDefault(); // Do not trigger global listeners\n\n      e.stopPropagation();\n    }\n  }\n\n  _onEscape(e) {\n    if (this.opened) {\n      this._stopPropagation(e);\n\n      if (this._focusedIndex > -1) {\n        this._focusedIndex = -1;\n\n        this._revertInputValue();\n      } else {\n        this.cancel();\n      }\n    }\n  }\n\n  _toggleElementChanged(toggleElement) {\n    if (toggleElement) {\n      // Don't blur the input on toggle mousedown\n      toggleElement.addEventListener('mousedown', e => e.preventDefault()); // Unfocus previously focused element if focus is not inside combo box (on touch devices)\n\n      toggleElement.addEventListener('click', e => {\n        if (this.$.overlay.touchDevice && !this.hasAttribute('focused')) {\n          document.activeElement.blur();\n        }\n      });\n    }\n  }\n  /**\n   * Clears the current value.\n   */\n\n\n  _clear() {\n    this.selectedItem = null;\n\n    if (this.allowCustomValue) {\n      this.value = '';\n    }\n\n    this._detectAndDispatchChange();\n  }\n  /**\n   * Reverts back to original value.\n   */\n\n\n  cancel() {\n    this._revertInputValueToValue(); // In the next _detectAndDispatchChange() call, the change detection should not pass\n\n\n    this._lastCommittedValue = this.value;\n    this.close();\n  }\n\n  _onOpened() {\n    // Pre P2 iron-list used a debouncer to render. Now that we synchronously render items,\n    // we need to flush the DOM to make sure it doesn't get flushed in the middle of _render call\n    // because that will cause problems to say the least.\n    flush(); // With iron-list v1.3.9, calling `notifyResize()` no longer renders\n    // the items synchronously. It is required to have the items rendered\n    // before we update the overlay and the list positions and sizes.\n\n    this.$.overlay.ensureItemsRendered();\n\n    this.$.overlay._selector.toggleScrollListener(true); // Ensure metrics are up-to-date\n\n\n    this.$.overlay.updateViewportBoundaries(); // Force iron-list to create reusable nodes. Otherwise it will only start\n    // doing that in scroll listener, which is especially slow in Edge.\n\n    this.$.overlay._selector._increasePoolIfNeeded();\n\n    setTimeout(() => this._resizeDropdown(), 1); // Defer scroll position adjustment to prevent freeze in Edge\n\n    window.requestAnimationFrame(() => this.$.overlay.adjustScrollPosition()); // _detectAndDispatchChange() should not consider value changes done before opening\n\n    this._lastCommittedValue = this.value;\n  }\n\n  _onClosed() {\n    // Happens when the overlay is closed by clicking outside\n    if (this.opened) {\n      this.close();\n    }\n\n    if (this.$.overlay._items && this._focusedIndex > -1) {\n      const focusedItem = this.$.overlay._items[this._focusedIndex];\n\n      if (this.selectedItem !== focusedItem) {\n        this.selectedItem = focusedItem;\n      } // make sure input field is updated in case value doesn't change (i.e. FOO -> foo)\n\n\n      this._inputElementValue = this._getItemLabel(this.selectedItem);\n    } else if (this._inputElementValue === '' || this._inputElementValue === undefined) {\n      this.selectedItem = null;\n\n      if (this.allowCustomValue) {\n        this.value = '';\n      }\n    } else {\n      if (this.allowCustomValue // to prevent a repetitive input value being saved after pressing ESC and Tab.\n      && !(this.filteredItems && this.filteredItems.filter(item => this._getItemLabel(item) === this._inputElementValue).length)) {\n        const e = new CustomEvent('custom-value-set', {\n          detail: this._inputElementValue,\n          composed: true,\n          cancelable: true,\n          bubbles: true\n        });\n        this.dispatchEvent(e);\n\n        if (!e.defaultPrevented) {\n          const customValue = this._inputElementValue;\n\n          this._selectItemForValue(customValue);\n\n          this.value = customValue;\n        }\n      } else {\n        this._inputElementValue = this.selectedItem ? this._getItemLabel(this.selectedItem) : this.value || '';\n      }\n    }\n\n    this._detectAndDispatchChange();\n\n    this._clearSelectionRange();\n\n    if (!this.dataProvider) {\n      this.filter = '';\n    }\n  }\n\n  get _propertyForValue() {\n    return 'value';\n  }\n  /**\n   *  Filtering and items handling\n   */\n\n\n  _inputValueChanged(e) {\n    // Handle only input events from our inputElement.\n    if (e.composedPath().indexOf(this.inputElement) !== -1) {\n      this._inputElementValue = this.inputElement[this._propertyForValue];\n\n      this._filterFromInput(e);\n    }\n  }\n\n  _filterFromInput(e) {\n    if (!this.opened && !e.__fromClearButton) {\n      this.open();\n    }\n\n    if (this.filter === this._inputElementValue) {\n      // Filter and input value might get out of sync, while keyboard navigating for example.\n      // Afterwards, input value might be changed to the same value as used in filtering.\n      // In situation like these, we need to make sure all the filter changes handlers are run.\n      this._filterChanged(this.filter, this.itemValuePath, this.itemLabelPath);\n    } else {\n      this.filter = this._inputElementValue;\n    }\n  }\n\n  _itemLabelPathChanged(itemLabelPath, oldItemLabelPath) {\n    if (typeof itemLabelPath !== 'string') {\n      console.error('You should set itemLabelPath to a valid string');\n    }\n  }\n\n  _filterChanged(filter, itemValuePath, itemLabelPath) {\n    if (filter === undefined) {\n      return;\n    }\n\n    if (this.items) {\n      this.filteredItems = this._filterItems(this.items, filter);\n    } else {\n      // With certain use cases (e. g., external filtering), `items` are\n      // undefined. Filtering is unnecessary per se, but the filteredItems\n      // observer should still be invoked to update focused item.\n      this._filteredItemsChanged({\n        path: 'filteredItems',\n        value: this.filteredItems\n      }, itemValuePath, itemLabelPath);\n    }\n  }\n\n  _loadingChanged(loading) {\n    if (loading) {\n      this._focusedIndex = -1;\n    }\n  }\n\n  _revertInputValue() {\n    if (this.filter !== '') {\n      this._inputElementValue = this.filter;\n    } else {\n      this._revertInputValueToValue();\n    }\n\n    this._clearSelectionRange();\n  }\n\n  _revertInputValueToValue() {\n    if (this.allowCustomValue && !this.selectedItem) {\n      this._inputElementValue = this.value;\n    } else {\n      this._inputElementValue = this._getItemLabel(this.selectedItem);\n    }\n  }\n\n  _resizeDropdown() {\n    this.$.overlay.$.dropdown.notifyResize();\n  }\n\n  _updateHasValue(hasValue) {\n    if (hasValue) {\n      this.setAttribute('has-value', '');\n    } else {\n      this.removeAttribute('has-value');\n    }\n  }\n\n  _selectedItemChanged(selectedItem, itemLabelPath) {\n    if (selectedItem === null || selectedItem === undefined) {\n      if (this.filteredItems) {\n        if (!this.allowCustomValue) {\n          this.value = '';\n        }\n\n        this._updateHasValue(this.value !== '');\n\n        this._inputElementValue = this.value;\n      }\n    } else {\n      const value = this._getItemValue(selectedItem);\n\n      if (this.value !== value) {\n        this.value = value;\n\n        if (this.value !== value) {\n          // The value was changed to something else in value-changed listener,\n          // so prevent from resetting it to the previous value.\n          return;\n        }\n      }\n\n      this._updateHasValue(true);\n\n      this._inputElementValue = this._getItemLabel(selectedItem); // Could not be defined in 1.x because ready is called after all prop-setters\n\n      if (this.inputElement) {\n        this.inputElement[this._propertyForValue] = this._inputElementValue;\n      }\n    }\n\n    this.$.overlay._selectedItem = selectedItem;\n\n    if (this.filteredItems && this.$.overlay._items) {\n      this._focusedIndex = this.filteredItems.indexOf(selectedItem);\n    }\n  }\n\n  _valueChanged(value, oldVal) {\n    if (value === '' && oldVal === undefined) {\n      // initializing, no need to do anything (#554)\n      return;\n    }\n\n    if (this._isValidValue(value)) {\n      let item;\n\n      if (this._getItemValue(this.selectedItem) !== value) {\n        this._selectItemForValue(value);\n      } else {\n        item = this.selectedItem;\n      }\n\n      if (!item && this.allowCustomValue) {\n        this._inputElementValue = value;\n      }\n\n      this._updateHasValue(this.value !== '');\n    } else {\n      this.selectedItem = null;\n    } // In the next _detectAndDispatchChange() call, the change detection should pass\n\n\n    this._lastCommittedValue = undefined;\n  }\n\n  _detectAndDispatchChange() {\n    if (this.value !== this._lastCommittedValue) {\n      this.dispatchEvent(new CustomEvent('change', {\n        bubbles: true\n      }));\n      this._lastCommittedValue = this.value;\n    }\n  }\n\n  _itemsChanged(items, oldItems) {\n    this._ensureItemsOrDataProvider(() => {\n      this.items = oldItems;\n    });\n  }\n\n  _itemsOrPathsChanged(e, itemValuePath, itemLabelPath) {\n    if (e.value === undefined) {\n      return;\n    }\n\n    if (e.path === 'items' || e.path === 'items.splices') {\n      this.filteredItems = this.items ? this.items.slice(0) : this.items;\n\n      const valueIndex = this._indexOfValue(this.value, this.items);\n\n      this._focusedIndex = valueIndex;\n      const item = valueIndex > -1 && this.items[valueIndex];\n\n      if (item) {\n        this.selectedItem = item;\n      }\n    }\n  }\n\n  _filteredItemsChanged(e, itemValuePath, itemLabelPath) {\n    if (e.value === undefined) {\n      return;\n    }\n\n    if (e.path === 'filteredItems' || e.path === 'filteredItems.splices') {\n      this._setOverlayItems(this.filteredItems);\n\n      this._focusedIndex = this.opened ? this.$.overlay.indexOfLabel(this.filter) : this._indexOfValue(this.value, this.filteredItems);\n\n      if (this.opened) {\n        this._repositionOverlay();\n      }\n    }\n  }\n\n  _filterItems(arr, filter) {\n    if (!arr) {\n      return arr;\n    }\n\n    return arr.filter(item => {\n      filter = filter ? filter.toString().toLowerCase() : ''; // Check if item contains input value.\n\n      return this._getItemLabel(item).toString().toLowerCase().indexOf(filter) > -1;\n    });\n  }\n\n  _selectItemForValue(value) {\n    const valueIndex = this._indexOfValue(value, this.filteredItems);\n\n    const previouslySelectedItem = this.selectedItem;\n    this.selectedItem = valueIndex >= 0 ? this.filteredItems[valueIndex] : this.dataProvider && this.selectedItem === undefined ? undefined : null;\n\n    if (this.selectedItem === null && previouslySelectedItem === null) {\n      this._selectedItemChanged(this.selectedItem);\n    }\n  }\n\n  _setOverlayItems(items) {\n    this.$.overlay.set('_items', items);\n  }\n\n  _repositionOverlay() {\n    // async needed to reposition correctly after filtering\n    // (especially when aligned on top of input)\n    this.__repositionOverlayDebouncer = Debouncer.debounce(this.__repositionOverlayDebouncer, // Long debounce: sizing updates invoke multiple styling rounds,\n    // which is very slow in Edge\n    timeOut.after(500), () => {\n      const selector = this.$.overlay._selector;\n\n      if (!selector._isClientFull()) {\n        // Due to the mismatch of the Y position of the item rendered\n        // at the top of the scrolling list with some specific scroll\n        // position values (2324, 3486, 6972, 60972, 95757 etc.)\n        // iron-list loops the increasing of the pool and adds\n        // too many items to the DOM.\n        // Adjusting scroll position to equal the current scrollTop value\n        // to avoid looping.\n        selector._resetScrollPosition(selector._physicalTop);\n      }\n\n      this._resizeDropdown();\n\n      this.$.overlay.updateViewportBoundaries();\n      this.$.overlay.ensureItemsRendered();\n      selector.notifyResize();\n      flush();\n    });\n  }\n\n  _indexOfValue(value, items) {\n    if (items && this._isValidValue(value)) {\n      for (let i = 0; i < items.length; i++) {\n        if (this._getItemValue(items[i]) === value) {\n          return i;\n        }\n      }\n    }\n\n    return -1;\n  }\n  /**\n   * Checks if the value is supported as an item value in this control.\n   *\n   * @return {boolean}\n   */\n\n\n  _isValidValue(value) {\n    return value !== undefined && value !== null;\n  }\n\n  _overlaySelectedItemChanged(e) {\n    // stop this private event from leaking outside.\n    e.stopPropagation();\n\n    if (e.detail.item instanceof ComboBoxPlaceholder) {\n      // Placeholder items should not be selectable.\n      return;\n    }\n\n    if (this.opened) {\n      this._focusedIndex = this.filteredItems.indexOf(e.detail.item);\n      this.close();\n    } else if (this.selectedItem !== e.detail.item) {\n      this.selectedItem = e.detail.item;\n\n      this._detectAndDispatchChange();\n    }\n  }\n\n  _onFocusout(event) {\n    // Fixes the problem with `focusout` happening when clicking on the scroll bar on Edge\n    const dropdown = this.$.overlay.$.dropdown;\n\n    if (dropdown && dropdown.$ && event.relatedTarget === dropdown.$.overlay) {\n      event.composedPath()[0].focus();\n      return;\n    }\n\n    if (!this._closeOnBlurIsPrevented) {\n      this.close();\n    }\n  }\n\n  _onTouchend(event) {\n    if (!this._clearElement || event.composedPath()[0] !== this._clearElement) {\n      return;\n    }\n\n    event.preventDefault();\n\n    this._clear();\n  }\n  /**\n   * Returns true if `value` is valid, and sets the `invalid` flag appropriately.\n   *\n   * @return {boolean} True if the value is valid and sets the `invalid` flag appropriately\n   */\n\n\n  validate() {\n    return !(this.invalid = !this.checkValidity());\n  }\n  /**\n   * Returns true if the current input value satisfies all constraints (if any)\n   *\n   * You can override the `checkValidity` method for custom validations.\n   */\n\n\n  checkValidity() {\n    if (this.inputElement.validate) {\n      return this.inputElement.validate();\n    }\n  }\n\n  get _instanceProps() {\n    return {\n      item: true,\n      index: true,\n      selected: true,\n      focused: true\n    };\n  }\n\n  _ensureTemplatized() {\n    if (!this._TemplateClass) {\n      const tpl = this._itemTemplate || this._getRootTemplate();\n\n      if (tpl) {\n        this._TemplateClass = templatize(tpl, this, {\n          instanceProps: this._instanceProps,\n          forwardHostProp: function (prop, value) {\n            const items = this.$.overlay._selector.querySelectorAll('vaadin-combo-box-item');\n\n            Array.prototype.forEach.call(items, item => {\n              if (item._itemTemplateInstance) {\n                item._itemTemplateInstance.set(prop, value);\n\n                item._itemTemplateInstance.notifyPath(prop, value, true);\n              }\n            });\n          }\n        });\n      }\n    }\n  }\n\n  _getRootTemplate() {\n    return Array.prototype.filter.call(this.children, elem => elem.tagName === 'TEMPLATE')[0];\n  }\n\n  _preventInputBlur() {\n    if (this._toggleElement) {\n      this._toggleElement.addEventListener('click', this._preventDefault);\n    }\n\n    if (this._clearElement) {\n      this._clearElement.addEventListener('click', this._preventDefault);\n    }\n  }\n\n  _restoreInputBlur() {\n    if (this._toggleElement) {\n      this._toggleElement.removeEventListener('click', this._preventDefault);\n    }\n\n    if (this._clearElement) {\n      this._clearElement.removeEventListener('click', this._preventDefault);\n    }\n  }\n\n  _preventDefault(e) {\n    e.preventDefault();\n  }\n\n  _stopPropagation(e) {\n    e.stopPropagation();\n  }\n  /**\n   * Fired when the value changes.\n   *\n   * @event value-changed\n   * @param {Object} detail\n   *  @param {String} detail.value the combobox value\n   */\n\n  /**\n   * Fired when selected item changes.\n   *\n   * @event selected-item-changed\n   * @param {Object} detail\n   *  @param {Object|String} detail.value the selected item. Type is the same as the type of `items`.\n   */\n\n  /**\n   * Fired when the user sets a custom value.\n   * @event custom-value-set\n   * @param {String} detail the custom value\n   */\n\n  /**\n   * Fired when value changes.\n   * To comply with https://developer.mozilla.org/en-US/docs/Web/Events/change\n   * @event change\n   */\n\n\n};","/**\n@license\nCopyright (c) 2017 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\nimport { PolymerElement } from \"@polymer/polymer/polymer-element.js\";\nimport { ThemableMixin } from \"../../vaadin-themable-mixin/vaadin-themable-mixin.js\";\nimport { html } from \"@polymer/polymer/lib/utils/html-tag.js\";\n/**\n * The default element used for items in the vaadin-combo-box.\n *\n * ### Styling\n *\n * The following shadow DOM parts are available for styling:\n *\n * Part name | Description\n * ---|---\n * `content` | The element that wraps the item label or template content\n *\n * The following state attributes are exposed for styling:\n *\n * Attribute    | Description | Part name\n * -------------|-------------|------------\n * `selected` | Set when the item is selected | :host\n * `focused` | Set when the item is focused | :host\n *\n * See [ThemableMixin – how to apply styles for shadow parts](https://github.com/vaadin/vaadin-themable-mixin/wiki)\n *\n * @memberof Vaadin\n * @mixes Vaadin.ThemableMixin\n * @private\n */\n\nclass ComboBoxItemElement extends ThemableMixin(PolymerElement) {\n  static get template() {\n    return html`\n    <style>\n      :host {\n        display: block;\n      }\n\n      :host([hidden]) {\n         display: none;\n      }\n    </style>\n    <div part=\"content\" id=\"content\"></div>\n`;\n  }\n\n  static get is() {\n    return 'vaadin-combo-box-item';\n  }\n\n  static get properties() {\n    return {\n      /**\n       * The index of the item\n       */\n      index: Number,\n\n      /**\n       * The item to render\n       * @type {(String|Object)}\n       */\n      item: Object,\n\n      /**\n       * The text label corresponding to the item\n       */\n      label: String,\n\n      /**\n       * True when item is selected\n       */\n      selected: {\n        type: Boolean,\n        value: false,\n        reflectToAttribute: true\n      },\n\n      /**\n       * True when item is focused\n       */\n      focused: {\n        type: Boolean,\n        value: false,\n        reflectToAttribute: true\n      },\n\n      /**\n       * The template instance corresponding to the item\n       */\n      _itemTemplateInstance: Object,\n\n      /**\n       * Custom function for rendering the content of the `<vaadin-combo-box-item>` propagated from the combo box element.\n       */\n      renderer: Function,\n\n      /**\n       * Saved instance of a custom renderer function.\n       */\n      _oldRenderer: Function\n    };\n  }\n\n  static get observers() {\n    return ['_rendererOrItemChanged(renderer, index, item.*)', '_updateLabel(label, _itemTemplateInstance)', '_updateTemplateInstanceVariable(\"index\", index, _itemTemplateInstance)', '_updateTemplateInstanceVariable(\"item\", item, _itemTemplateInstance)', '_updateTemplateInstanceVariable(\"selected\", selected, _itemTemplateInstance)', '_updateTemplateInstanceVariable(\"focused\", focused, _itemTemplateInstance)'];\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n\n    if (!this._itemTemplateInstance) {\n      // 2.0 has __dataHost. Might want to consider assigning combobox reference directly to item.\n      const overlay = this.getRootNode().host.getRootNode().host;\n      const dropdown = overlay.__dataHost;\n      const comboBoxOverlay = dropdown.getRootNode().host;\n      this._comboBox = comboBoxOverlay.getRootNode().host;\n\n      this._comboBox._ensureTemplatized();\n\n      if (this._comboBox._TemplateClass) {\n        this._itemTemplateInstance = new this._comboBox._TemplateClass({});\n        this.$.content.textContent = '';\n        this.$.content.appendChild(this._itemTemplateInstance.root);\n      }\n    }\n  }\n\n  _render() {\n    if (!this.renderer) {\n      return;\n    }\n\n    const model = {\n      index: this.index,\n      item: this.item\n    };\n    this.renderer(this.$.content, this._comboBox, model);\n  }\n\n  _rendererOrItemChanged(renderer, index, item) {\n    if (item === undefined || index === undefined) {\n      return;\n    }\n\n    if (this._oldRenderer !== renderer) {\n      this.$.content.innerHTML = '';\n    }\n\n    if (renderer) {\n      this._oldRenderer = renderer;\n\n      this._render();\n    }\n  }\n\n  _updateLabel(label, _itemTemplateInstance) {\n    if (_itemTemplateInstance === undefined && this.$.content && !this.renderer) {\n      // Only set label to textContent no template\n      this.$.content.textContent = label;\n    }\n  }\n\n  _updateTemplateInstanceVariable(variable, value, _itemTemplateInstance) {\n    if (variable === undefined || value === undefined || _itemTemplateInstance === undefined) {\n      return;\n    }\n\n    _itemTemplateInstance[variable] = value;\n  }\n\n}\n\ncustomElements.define(ComboBoxItemElement.is, ComboBoxItemElement);","/**\n@license\nCopyright (c) 2017 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\nimport { PolymerElement } from \"@polymer/polymer/polymer-element.js\";\nimport { DisableUpgradeMixin } from \"@polymer/polymer/lib/mixins/disable-upgrade-mixin.js\";\nimport { OverlayElement } from \"../../vaadin-overlay/src/vaadin-overlay.js\";\nimport { IronResizableBehavior } from \"@polymer/iron-resizable-behavior/iron-resizable-behavior.js\";\nimport { html } from \"@polymer/polymer/lib/utils/html-tag.js\";\nimport { mixinBehaviors } from \"@polymer/polymer/lib/legacy/class.js\";\n/**\n * The overlay element.\n *\n * ### Styling\n *\n * See [`<vaadin-overlay>` documentation](https://github.com/vaadin/vaadin-overlay/blob/master/src/vaadin-overlay.html)\n * for `<vaadin-combo-box-overlay>` parts.\n *\n * See [ThemableMixin – how to apply styles for shadow parts](https://github.com/vaadin/vaadin-themable-mixin/wiki)\n *\n * @memberof Vaadin\n * @private\n */\n\nclass ComboBoxOverlayElement extends OverlayElement {\n  static get is() {\n    return 'vaadin-combo-box-overlay';\n  }\n\n  ready() {\n    super.ready();\n    const loader = document.createElement('div');\n    loader.setAttribute('part', 'loader');\n    const content = this.shadowRoot.querySelector('[part~=\"content\"]');\n    content.parentNode.insertBefore(loader, content);\n  }\n\n}\n\ncustomElements.define(ComboBoxOverlayElement.is, ComboBoxOverlayElement);\n/**\n * Element for internal use only.\n *\n * @memberof Vaadin\n * @private\n */\n\nclass ComboBoxDropdownElement extends DisableUpgradeMixin(mixinBehaviors(IronResizableBehavior, PolymerElement)) {\n  static get template() {\n    return html`\n    <style>\n      :host {\n        display: block;\n      }\n\n      :host > #overlay {\n        display: none;\n      }\n    </style>\n    <vaadin-combo-box-overlay id=\"overlay\" hidden\\$=\"[[hidden]]\" opened=\"[[opened]]\" template=\"{{template}}\" style=\"align-items: stretch; margin: 0;\" theme\\$=\"[[theme]]\">\n      <slot></slot>\n    </vaadin-combo-box-overlay>\n`;\n  }\n\n  static get is() {\n    return 'vaadin-combo-box-dropdown';\n  }\n\n  static get properties() {\n    return {\n      opened: {\n        type: Boolean,\n        observer: '_openedChanged'\n      },\n      template: {\n        type: Object,\n        notify: true\n      },\n\n      /**\n       * The element to position/align the dropdown by.\n       */\n      positionTarget: {\n        type: Object\n      },\n\n      /**\n       * If `true`, overlay is aligned above the `positionTarget`\n       */\n      alignedAbove: {\n        type: Boolean,\n        value: false\n      },\n\n      /**\n       * Used to propagate the `theme` attribute from the host element.\n       */\n      theme: String\n    };\n  }\n\n  constructor() {\n    super();\n    this._boundSetPosition = this._setPosition.bind(this);\n    this._boundOutsideClickListener = this._outsideClickListener.bind(this);\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n    this.addEventListener('iron-resize', this._boundSetPosition);\n  }\n\n  ready() {\n    super.ready(); // Preventing the default modal behaviour of the overlay on input clicking\n\n    this.$.overlay.addEventListener('vaadin-overlay-outside-click', e => {\n      e.preventDefault();\n    });\n  }\n\n  disconnectedCallback() {\n    super.disconnectedCallback();\n    this.removeEventListener('iron-resize', this._boundSetPosition); // Making sure the overlay is closed and removed from DOM after detaching the dropdown.\n\n    this.opened = false;\n  }\n\n  notifyResize() {\n    super.notifyResize();\n\n    if (this.positionTarget && this.opened) {\n      this._setPosition(); // Schedule another position update (to cover virtual keyboard opening for example)\n\n\n      requestAnimationFrame(this._setPosition.bind(this));\n    }\n  }\n  /**\n   * Fired after the `vaadin-combo-box-dropdown` opens.\n   *\n   * @event vaadin-combo-box-dropdown-opened\n   */\n\n  /**\n   * Fired after the `vaadin-combo-box-dropdown` closes.\n   *\n   * @event vaadin-combo-box-dropdown-closed\n   */\n\n\n  _openedChanged(opened, oldValue) {\n    if (!!opened === !!oldValue) {\n      return;\n    }\n\n    if (opened) {\n      this.$.overlay.style.position = this._isPositionFixed(this.positionTarget) ? 'fixed' : 'absolute';\n\n      this._setPosition();\n\n      window.addEventListener('scroll', this._boundSetPosition, true);\n      document.addEventListener('click', this._boundOutsideClickListener, true);\n      this.dispatchEvent(new CustomEvent('vaadin-combo-box-dropdown-opened', {\n        bubbles: true,\n        composed: true\n      }));\n    } else {\n      window.removeEventListener('scroll', this._boundSetPosition, true);\n      document.removeEventListener('click', this._boundOutsideClickListener, true);\n      this.dispatchEvent(new CustomEvent('vaadin-combo-box-dropdown-closed', {\n        bubbles: true,\n        composed: true\n      }));\n    }\n  } // We need to listen on 'click' event and capture it and close the overlay before\n  // propagating the event to the listener in the button. Otherwise, if the clicked button would call\n  // open(), this would happen: https://www.youtube.com/watch?v=Z86V_ICUCD4\n\n\n  _outsideClickListener(event) {\n    const eventPath = event.composedPath();\n\n    if (eventPath.indexOf(this.positionTarget) < 0 && eventPath.indexOf(this.$.overlay) < 0) {\n      this.opened = false;\n    }\n  }\n\n  _isPositionFixed(element) {\n    const offsetParent = this._getOffsetParent(element);\n\n    return window.getComputedStyle(element).position === 'fixed' || offsetParent && this._isPositionFixed(offsetParent);\n  }\n\n  _getOffsetParent(element) {\n    if (element.assignedSlot) {\n      return element.assignedSlot.parentElement;\n    } else if (element.parentElement) {\n      return element.offsetParent;\n    }\n\n    const parent = element.parentNode;\n\n    if (parent && parent.nodeType === 11 && parent.host) {\n      return parent.host; // parent is #shadowRoot\n    }\n  }\n\n  _verticalOffset(overlayRect, targetRect) {\n    return this.alignedAbove ? -overlayRect.height : targetRect.height;\n  }\n\n  _shouldAlignAbove(targetRect) {\n    const spaceBelow = (window.innerHeight - targetRect.bottom - Math.min(document.body.scrollTop, 0)) / window.innerHeight;\n    return spaceBelow < 0.30;\n  }\n\n  _setPosition(e) {\n    if (this.hidden) {\n      return;\n    }\n\n    if (e && e.target) {\n      const target = e.target === document ? document.body : e.target;\n      const parent = this.$.overlay.parentElement;\n\n      if (!(target.contains(this.$.overlay) || target.contains(this.positionTarget)) || parent !== document.body) {\n        return;\n      }\n    }\n\n    const targetRect = this.positionTarget.getBoundingClientRect();\n    this.alignedAbove = this._shouldAlignAbove(targetRect);\n    const overlayRect = this.$.overlay.getBoundingClientRect();\n    this._translateX = targetRect.left - overlayRect.left + (this._translateX || 0);\n    this._translateY = targetRect.top - overlayRect.top + (this._translateY || 0) + this._verticalOffset(overlayRect, targetRect);\n\n    const _devicePixelRatio = window.devicePixelRatio || 1;\n\n    this._translateX = Math.round(this._translateX * _devicePixelRatio) / _devicePixelRatio;\n    this._translateY = Math.round(this._translateY * _devicePixelRatio) / _devicePixelRatio;\n    this.$.overlay.style.transform = `translate3d(${this._translateX}px, ${this._translateY}px, 0)`;\n    this.$.overlay.style.width = this.positionTarget.clientWidth + 'px';\n    this.$.overlay.style.justifyContent = this.alignedAbove ? 'flex-end' : 'flex-start'; // TODO: fire only when position actually changes changes\n\n    this.dispatchEvent(new CustomEvent('position-changed'));\n  }\n\n}\n\ncustomElements.define(ComboBoxDropdownElement.is, ComboBoxDropdownElement);","/**\n@license\nCopyright (c) 2017 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\nimport { PolymerElement } from \"@polymer/polymer/polymer-element.js\";\nimport \"@polymer/iron-list/iron-list.js\";\nimport './vaadin-combo-box-item.js';\nimport './vaadin-combo-box-dropdown.js';\nimport { ComboBoxPlaceholder } from './vaadin-combo-box-placeholder.js';\nimport { html } from \"@polymer/polymer/lib/utils/html-tag.js\";\n\nconst TOUCH_DEVICE = (() => {\n  try {\n    document.createEvent('TouchEvent');\n    return true;\n  } catch (e) {\n    return false;\n  }\n})();\n/**\n * Element for internal use only.\n *\n * @memberof Vaadin\n * @private\n */\n\n\nclass ComboBoxDropdownWrapperElement extends class extends PolymerElement {} {\n  static get template() {\n    return html`\n    <vaadin-combo-box-dropdown id=\"dropdown\" hidden=\"[[_hidden(_items.*, loading)]]\" position-target=\"[[positionTarget]]\" on-template-changed=\"_templateChanged\" on-position-changed=\"_setOverlayHeight\" disable-upgrade=\"\" theme=\"[[theme]]\">\n      <template>\n        <style>\n          #scroller {\n            overflow: auto;\n\n            /* Fixes item background from getting on top of scrollbars on Safari */\n            transform: translate3d(0, 0, 0);\n\n            /* Enable momentum scrolling on iOS (iron-list v1.2+ no longer does it for us) */\n            -webkit-overflow-scrolling: touch;\n\n            /* Fixes scrollbar disappearing when 'Show scroll bars: Always' enabled in Safari */\n            box-shadow: 0 0 0 white;\n          }\n        </style>\n        <div id=\"scroller\" on-click=\"_stopPropagation\">\n          <iron-list id=\"selector\" role=\"listbox\" items=\"[[_getItems(opened, _items)]]\" scroll-target=\"[[_scroller]]\">\n            <template>\n              <vaadin-combo-box-item on-click=\"_onItemClick\" index=\"[[__requestItemByIndex(item, index)]]\" item=\"[[item]]\" label=\"[[getItemLabel(item, _itemLabelPath)]]\" selected=\"[[_isItemSelected(item, _selectedItem, _itemIdPath)]]\" renderer=\"[[renderer]]\" role\\$=\"[[_getAriaRole(index)]]\" aria-selected\\$=\"[[_getAriaSelected(_focusedIndex,index)]]\" focused=\"[[_isItemFocused(_focusedIndex,index)]]\" tabindex=\"-1\" theme\\$=\"[[theme]]\">\n              </vaadin-combo-box-item>\n            </template>\n          </iron-list>\n        </div>\n      </template>\n    </vaadin-combo-box-dropdown>\n`;\n  }\n\n  static get is() {\n    return 'vaadin-combo-box-dropdown-wrapper';\n  }\n\n  static get properties() {\n    return {\n      /**\n       * True if the device supports touch events.\n       */\n      touchDevice: {\n        type: Boolean,\n        value: TOUCH_DEVICE\n      },\n      opened: Boolean,\n\n      /**\n       * The element to position/align the dropdown by.\n       */\n      positionTarget: {\n        type: Object\n      },\n\n      /**\n       * Custom function for rendering the content of the `<vaadin-combo-box-item>` propagated from the combo box element.\n       */\n      renderer: Function,\n\n      /**\n       * `true` when new items are being loaded.\n       */\n      loading: {\n        type: Boolean,\n        value: false,\n        reflectToAttribute: true,\n        observer: '_setOverlayHeight'\n      },\n\n      /**\n       * Used to propagate the `theme` attribute from the host element.\n       */\n      theme: String,\n      _selectedItem: {\n        type: Object\n      },\n      _items: {\n        type: Object\n      },\n      _focusedIndex: {\n        type: Number,\n        value: -1,\n        observer: '_focusedIndexChanged'\n      },\n      _focusedItem: {\n        type: String,\n        computed: '_getFocusedItem(_focusedIndex)'\n      },\n      _itemLabelPath: {\n        type: String,\n        value: 'label'\n      },\n      _itemValuePath: {\n        type: String,\n        value: 'value'\n      },\n      _selector: Object,\n      _itemIdPath: String\n    };\n  }\n\n  static get observers() {\n    return ['_selectorChanged(_selector)', '_loadingChanged(loading)', '_openedChanged(opened, _items, loading)'];\n  }\n\n  _fireTouchAction(sourceEvent) {\n    this.dispatchEvent(new CustomEvent('vaadin-overlay-touch-action', {\n      detail: {\n        sourceEvent: sourceEvent\n      }\n    }));\n  }\n\n  _getItems(opened, items) {\n    return opened ? items : [];\n  }\n\n  _openedChanged(opened, items, loading) {\n    if (this.$.dropdown.hasAttribute('disable-upgrade')) {\n      if (!opened) {\n        return;\n      } else {\n        this._initDropdown();\n      }\n    } // Do not attach if no items\n    // Do not dettach if opened but user types an invalid search\n\n\n    this.$.dropdown.opened = !!(opened && (loading || this.$.dropdown.opened || items && items.length));\n  }\n\n  _initDropdown() {\n    this.$.dropdown.removeAttribute('disable-upgrade');\n\n    this._templateChanged();\n\n    this._loadingChanged(this.loading);\n\n    this.$.dropdown.$.overlay.addEventListener('touchend', e => this._fireTouchAction(e));\n    this.$.dropdown.$.overlay.addEventListener('touchmove', e => this._fireTouchAction(e)); // Prevent blurring the input when clicking inside the overlay.\n\n    this.$.dropdown.$.overlay.addEventListener('mousedown', e => e.preventDefault()); // IE11: when scrolling with mouse, the focus goes to the scroller.\n    // This causes the overlay closing due to defocusing the input field.\n    // Prevent focusing the scroller by setting `unselectable=\"on\"`.\n\n    if (/Trident/.test(navigator.userAgent)) {\n      this._scroller.setAttribute('unselectable', 'on');\n    }\n  }\n\n  _templateChanged(e) {\n    if (this.$.dropdown.hasAttribute('disable-upgrade')) {\n      return;\n    }\n\n    this._selector = this.$.dropdown.$.overlay.content.querySelector('#selector');\n    this._scroller = this.$.dropdown.$.overlay.content.querySelector('#scroller');\n  }\n\n  _loadingChanged(loading) {\n    if (this.$.dropdown.hasAttribute('disable-upgrade')) {\n      return;\n    }\n\n    if (loading) {\n      this.$.dropdown.$.overlay.setAttribute('loading', '');\n    } else {\n      this.$.dropdown.$.overlay.removeAttribute('loading');\n    }\n  }\n\n  _selectorChanged(selector) {\n    this._patchWheelOverScrolling();\n  }\n\n  _setOverlayHeight() {\n    if (!this.opened || !this.positionTarget || !this._selector) {\n      return;\n    }\n\n    const targetRect = this.positionTarget.getBoundingClientRect();\n    this._scroller.style.maxHeight = (window.ShadyCSS ? window.ShadyCSS.getComputedStyleValue(this, '--vaadin-combo-box-overlay-max-height') : getComputedStyle(this).getPropertyValue('--vaadin-combo-box-overlay-max-height')) || '65vh';\n\n    const maxHeight = this._maxOverlayHeight(targetRect); // overlay max height is restrained by the #scroller max height which is set to 65vh in CSS.\n\n\n    this.$.dropdown.$.overlay.style.maxHeight = maxHeight; // we need to set height for iron-list to make its `firstVisibleIndex` work correctly.\n\n    this._selector.style.maxHeight = maxHeight;\n    this.updateViewportBoundaries();\n  }\n\n  _maxOverlayHeight(targetRect) {\n    const margin = 8;\n    const minHeight = 116; // Height of two items in combo-box\n\n    const bottom = Math.min(window.innerHeight, document.body.scrollHeight - document.body.scrollTop);\n\n    if (this.$.dropdown.alignedAbove) {\n      return Math.max(targetRect.top - margin + Math.min(document.body.scrollTop, 0), minHeight) + 'px';\n    } else {\n      return Math.max(bottom - targetRect.bottom - margin, minHeight) + 'px';\n    }\n  }\n\n  _getFocusedItem(focusedIndex) {\n    if (focusedIndex >= 0) {\n      return this._items[focusedIndex];\n    }\n  }\n\n  _isItemSelected(item, selectedItem, itemIdPath) {\n    if (item instanceof ComboBoxPlaceholder) {\n      return false;\n    } else if (itemIdPath && item !== undefined && selectedItem !== undefined) {\n      return this.get(itemIdPath, item) === this.get(itemIdPath, selectedItem);\n    } else {\n      return item === selectedItem;\n    }\n  }\n\n  _onItemClick(e) {\n    if (e.detail && e.detail.sourceEvent && e.detail.sourceEvent.stopPropagation) {\n      this._stopPropagation(e.detail.sourceEvent);\n    }\n\n    this.dispatchEvent(new CustomEvent('selection-changed', {\n      detail: {\n        item: e.model.item\n      }\n    }));\n  }\n  /**\n   * Gets the index of the item with the provided label.\n   * @return {Number}\n   */\n\n\n  indexOfLabel(label) {\n    if (this._items && label) {\n      for (let i = 0; i < this._items.length; i++) {\n        if (this.getItemLabel(this._items[i]).toString().toLowerCase() === label.toString().toLowerCase()) {\n          return i;\n        }\n      }\n    }\n\n    return -1;\n  }\n  /**\n   * If dataProvider is used, dispatch a request for the item’s index if\n   * the item is a placeholder object.\n   *\n   * @return {Number}\n   */\n\n\n  __requestItemByIndex(item, index) {\n    if (item instanceof ComboBoxPlaceholder && index !== undefined) {\n      this.dispatchEvent(new CustomEvent('index-requested', {\n        detail: {\n          index\n        }\n      }));\n    }\n\n    return index;\n  }\n  /**\n   * Gets the label string for the item based on the `_itemLabelPath`.\n   * @return {String}\n   */\n\n\n  getItemLabel(item, itemLabelPath) {\n    itemLabelPath = itemLabelPath || this._itemLabelPath;\n    let label = item && itemLabelPath ? this.get(itemLabelPath, item) : undefined;\n\n    if (label === undefined || label === null) {\n      label = item ? item.toString() : '';\n    }\n\n    return label;\n  }\n\n  _isItemFocused(focusedIndex, itemIndex) {\n    return focusedIndex == itemIndex;\n  }\n\n  _getAriaSelected(focusedIndex, itemIndex) {\n    return this._isItemFocused(focusedIndex, itemIndex).toString();\n  }\n\n  _getAriaRole(itemIndex) {\n    return itemIndex !== undefined ? 'option' : false;\n  }\n\n  _focusedIndexChanged(index) {\n    if (index >= 0) {\n      this._scrollIntoView(index);\n    }\n  }\n\n  _scrollIntoView(index) {\n    if (!(this.opened && index >= 0)) {\n      return;\n    }\n\n    const visibleItemsCount = this._visibleItemsCount();\n\n    if (visibleItemsCount === undefined) {\n      // Scroller is not visible. Moving is unnecessary.\n      return;\n    }\n\n    let targetIndex = index;\n\n    if (index > this._selector.lastVisibleIndex - 1) {\n      // Index is below the bottom, scrolling down. Make the item appear at the bottom.\n      // First scroll to target (will be at the top of the scroller) to make sure it's rendered.\n      this._selector.scrollToIndex(index); // Then calculate the index for the following scroll (to get the target to bottom of the scroller).\n\n\n      targetIndex = index - visibleItemsCount + 1;\n    } else if (index > this._selector.firstVisibleIndex) {\n      // The item is already visible, scrolling is unnecessary per se. But we need to trigger iron-list to set\n      // the correct scrollTop on the scrollTarget. Scrolling to firstVisibleIndex.\n      targetIndex = this._selector.firstVisibleIndex;\n    }\n\n    this._selector.scrollToIndex(Math.max(0, targetIndex)); // Sometimes the item is partly below the bottom edge, detect and adjust.\n\n\n    const pidx = this._selector._getPhysicalIndex(index),\n          physicalItem = this._selector._physicalItems[pidx];\n\n    if (!physicalItem) {\n      return;\n    }\n\n    const physicalItemRect = physicalItem.getBoundingClientRect(),\n          scrollerRect = this._scroller.getBoundingClientRect(),\n          scrollTopAdjust = physicalItemRect.bottom - scrollerRect.bottom + this._viewportTotalPaddingBottom;\n\n    if (scrollTopAdjust > 0) {\n      this._scroller.scrollTop += scrollTopAdjust;\n    }\n  }\n\n  ensureItemsRendered() {\n    this._selector._render();\n  }\n\n  adjustScrollPosition() {\n    if (this.opened && this._items) {\n      this._scrollIntoView(this._focusedIndex);\n    }\n  }\n  /**\n   * We want to prevent the kinetic scrolling energy from being transferred from the overlay contents over to the parent.\n   * Further improvement ideas: after the contents have been scrolled to the top or bottom and scrolling has stopped, it could allow\n   * scrolling the parent similarly to touch scrolling.\n   */\n\n\n  _patchWheelOverScrolling() {\n    const selector = this._selector;\n    selector.addEventListener('wheel', e => {\n      const scroller = selector._scroller || selector.scrollTarget;\n      const scrolledToTop = scroller.scrollTop === 0;\n      const scrolledToBottom = scroller.scrollHeight - scroller.scrollTop - scroller.clientHeight <= 1;\n\n      if (scrolledToTop && e.deltaY < 0) {\n        e.preventDefault();\n      } else if (scrolledToBottom && e.deltaY > 0) {\n        e.preventDefault();\n      }\n    });\n  }\n\n  updateViewportBoundaries() {\n    this._cachedViewportTotalPaddingBottom = undefined;\n\n    this._selector.updateViewportBoundaries();\n  }\n\n  get _viewportTotalPaddingBottom() {\n    if (this._cachedViewportTotalPaddingBottom === undefined) {\n      const itemsStyle = window.getComputedStyle(this._selector.$.items);\n      this._cachedViewportTotalPaddingBottom = [itemsStyle.paddingBottom, itemsStyle.borderBottomWidth].map(v => {\n        return parseInt(v, 10);\n      }).reduce((sum, v) => {\n        return sum + v;\n      });\n    }\n\n    return this._cachedViewportTotalPaddingBottom;\n  }\n\n  _visibleItemsCount() {\n    if (!this._selector) {\n      return;\n    } // Ensure items are rendered\n\n\n    this._selector.flushDebouncer('_debounceTemplate'); // Ensure items are positioned\n\n\n    this._selector.scrollToIndex(this._selector.firstVisibleIndex); // Ensure viewport boundaries are up-to-date\n\n\n    this.updateViewportBoundaries();\n    return this._selector.lastVisibleIndex - this._selector.firstVisibleIndex + 1;\n  }\n\n  _selectItem(item) {\n    item = typeof item === 'number' ? this._items[item] : item;\n\n    if (this._selector.selectedItem !== item) {\n      this._selector.selectItem(item);\n    }\n  }\n\n  _preventDefault(e) {\n    if (e.cancelable) {\n      e.preventDefault();\n    }\n  }\n\n  _stopPropagation(e) {\n    e.stopPropagation();\n  }\n\n  _hidden(itemsChange) {\n    return !this.loading && (!this._items || !this._items.length);\n  }\n\n}\n\ncustomElements.define(ComboBoxDropdownWrapperElement.is, ComboBoxDropdownWrapperElement);","/**\n@license\nCopyright (c) 2018 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\nimport { ComboBoxPlaceholder } from './vaadin-combo-box-placeholder.js';\n/**\n * @polymerMixin\n */\n\nexport const ComboBoxDataProviderMixin = superClass => class DataProviderMixin extends superClass {\n  static get properties() {\n    return {\n      /**\n       * Number of items fetched at a time from the dataprovider.\n       */\n      pageSize: {\n        type: Number,\n        value: 50,\n        observer: '_pageSizeChanged'\n      },\n\n      /**\n       * Total number of items.\n       */\n      size: {\n        type: Number,\n        observer: '_sizeChanged'\n      },\n\n      /**\n       * Function that provides items lazily. Receives arguments `params`, `callback`\n       *\n       * `params.page` Requested page index\n       *\n       * `params.pageSize` Current page size\n       *\n       * `params.filter` Currently applied filter\n       *\n       * `callback(items, size)` Callback function with arguments:\n       *   - `items` Current page of items\n       *   - `size` Total number of items.\n       */\n      dataProvider: {\n        type: Object,\n        observer: '_dataProviderChanged'\n      },\n      _pendingRequests: {\n        value: () => {\n          return {};\n        }\n      },\n      __placeHolder: {\n        value: new ComboBoxPlaceholder()\n      }\n    };\n  }\n\n  static get observers() {\n    return ['_dataProviderFilterChanged(filter, dataProvider)', '_dataProviderClearFilter(dataProvider, opened, value)', '_warnDataProviderValue(dataProvider, value)', '_ensureFirstPage(opened)'];\n  }\n\n  _dataProviderClearFilter(dataProvider, opened, value) {\n    // Can't depend on filter in this obsever as we don't want\n    // to clear the filter whenever it's set\n    if (dataProvider && this.filter) {\n      this.size = undefined;\n      this._pendingRequests = {};\n      this.filter = '';\n      this.clearCache();\n    }\n  }\n\n  ready() {\n    super.ready();\n    this.clearCache();\n    this.$.overlay.addEventListener('index-requested', e => {\n      const index = e.detail.index;\n\n      if (index !== undefined) {\n        const page = this._getPageForIndex(index);\n\n        if (this._shouldLoadPage(page)) {\n          this._loadPage(page);\n        }\n      }\n    });\n  }\n\n  _dataProviderFilterChanged() {\n    if (this.dataProvider && this.opened) {\n      this.size = undefined;\n      this._pendingRequests = {};\n      this.clearCache();\n    }\n  }\n\n  _ensureFirstPage(opened) {\n    if (opened && this._shouldLoadPage(0)) {\n      this._loadPage(0);\n    }\n  }\n\n  _shouldLoadPage(page) {\n    if (!this.filteredItems || this._forceNextRequest) {\n      this._forceNextRequest = false;\n      return true;\n    }\n\n    const loadedItem = this.filteredItems[page * this.pageSize];\n\n    if (loadedItem !== undefined) {\n      return loadedItem instanceof ComboBoxPlaceholder;\n    } else {\n      return this.size === undefined;\n    }\n  }\n\n  _loadPage(page) {\n    // make sure same page isn't requested multiple times.\n    if (!this._pendingRequests[page] && this.dataProvider) {\n      this.loading = true;\n      const params = {\n        page,\n        pageSize: this.pageSize,\n        filter: this.filter\n      };\n\n      const callback = (items, size) => {\n        if (this._pendingRequests[page] === callback) {\n          if (!this.filteredItems) {\n            const filteredItems = [];\n            filteredItems.splice(params.page * params.pageSize, items.length, ...items);\n            this.filteredItems = filteredItems;\n          } else {\n            this.splice('filteredItems', params.page * params.pageSize, items.length, ...items);\n          } // Update selectedItem from filteredItems if value is set\n\n\n          if (this._isValidValue(this.value) && this._getItemValue(this.selectedItem) !== this.value) {\n            this._selectItemForValue(this.value);\n          }\n\n          this.size = size;\n          delete this._pendingRequests[page];\n\n          if (Object.keys(this._pendingRequests).length === 0) {\n            this.loading = false;\n          }\n\n          if (page === 0 && this.__repositionOverlayDebouncer && items.length > (this.__maxRenderedItems || 0)) {\n            setTimeout(() => this.__repositionOverlayDebouncer.flush());\n            this.__maxRenderedItems = items.length;\n          }\n        }\n      };\n\n      this._pendingRequests[page] = callback;\n      this.dataProvider(params, callback);\n    }\n  }\n\n  _getPageForIndex(index) {\n    return Math.floor(index / this.pageSize);\n  }\n  /**\n   * Clears the cached pages and reloads data from dataprovider when needed.\n   */\n\n\n  clearCache() {\n    if (!this.dataProvider) {\n      return;\n    }\n\n    this._pendingRequests = {};\n    const filteredItems = [];\n\n    for (let i = 0; i < (this.size || 0); i++) {\n      filteredItems.push(this.__placeHolder);\n    }\n\n    this.filteredItems = filteredItems;\n\n    if (this.opened) {\n      this._loadPage(0);\n    } else {\n      this._forceNextRequest = true;\n    }\n  }\n\n  _sizeChanged(size = 0) {\n    const filteredItems = (this.filteredItems || []).slice(0, size);\n\n    for (let i = 0; i < size; i++) {\n      filteredItems[i] = filteredItems[i] !== undefined ? filteredItems[i] : this.__placeHolder;\n    }\n\n    this.filteredItems = filteredItems;\n  }\n\n  _pageSizeChanged(pageSize, oldPageSize) {\n    if (Math.floor(pageSize) !== pageSize || pageSize < 1) {\n      this.pageSize = oldPageSize;\n      throw new Error('`pageSize` value must be an integer > 0');\n    }\n\n    this.clearCache();\n  }\n\n  _dataProviderChanged(dataProvider, oldDataProvider) {\n    this._ensureItemsOrDataProvider(() => {\n      this.dataProvider = oldDataProvider;\n    });\n  }\n\n  _ensureItemsOrDataProvider(restoreOldValueCallback) {\n    if (this.items !== undefined && this.dataProvider !== undefined) {\n      restoreOldValueCallback();\n      throw new Error('Using `items` and `dataProvider` together is not supported');\n    } else if (this.dataProvider && !this.filteredItems) {\n      this.filteredItems = [];\n    }\n  }\n\n  _warnDataProviderValue(dataProvider, value) {\n    if (dataProvider && value !== '' && (this.selectedItem === undefined || this.selectedItem === null)) {\n      const valueIndex = this._indexOfValue(value, this.filteredItems);\n\n      if (valueIndex < 0 || !this._getItemLabel(this.filteredItems[valueIndex])) {\n        /* eslint-disable no-console */\n        console.warn('Warning: unable to determine the label for the provided `value`. ' + 'Nothing to display in the text field. This usually happens when ' + 'setting an initial `value` before any items are returned from ' + 'the `dataProvider` callback. Consider setting `selectedItem` ' + 'instead of `value`');\n        /* eslint-enable no-console */\n      }\n    }\n  }\n\n};","/**\n@license\nCopyright (c) 2017 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\nimport { PolymerElement } from \"@polymer/polymer/polymer-element.js\";\nimport \"../../vaadin-text-field/src/vaadin-text-field.js\";\nimport { ControlStateMixin } from \"../../vaadin-control-state-mixin/vaadin-control-state-mixin.js\";\nimport { ThemableMixin } from \"../../vaadin-themable-mixin/vaadin-themable-mixin.js\";\nimport { ThemePropertyMixin } from \"../../vaadin-themable-mixin/vaadin-theme-property-mixin.js\";\nimport { ComboBoxMixin } from './vaadin-combo-box-mixin.js';\nimport './vaadin-combo-box-dropdown-wrapper.js';\nimport { ComboBoxDataProviderMixin } from './vaadin-combo-box-data-provider-mixin.js';\nimport { ElementMixin } from \"../../vaadin-element-mixin/vaadin-element-mixin.js\";\nimport { html } from \"@polymer/polymer/lib/utils/html-tag.js\";\n/**\n * `<vaadin-combo-box>` is a combo box element combining a dropdown list with an\n * input field for filtering the list of items. If you want to replace the default\n * input field with a custom implementation, you should use the\n * [`<vaadin-combo-box-light>`](#/elements/vaadin-combo-box-light) element.\n *\n * Items in the dropdown list must be provided as a list of `String` values.\n * Defining the items is done using the `items` property, which can be assigned\n * with data-binding, using an attribute or directly with the JavaScript property.\n *\n * ```html\n * <vaadin-combo-box\n *     label=\"Fruit\"\n *     items=\"[[data]]\">\n * </vaadin-combo-box>\n * ```\n *\n * ```js\n * combobox.items = ['apple', 'orange', 'banana'];\n * ```\n *\n * When the selected `value` is changed, a `value-changed` event is triggered.\n *\n * This element can be used within an `iron-form`.\n *\n * ### Item rendering\n *\n * `<vaadin-combo-box>` supports using custom renderer callback function for defining the\n * content of `<vaadin-combo-box-item>`.\n *\n * The renderer function provides `root`, `comboBox`, `model` arguments when applicable.\n * Generate DOM content by using `model` object properties if needed, append it to the `root`\n * element and control the state of the host element by accessing `comboBox`. Before generating new\n * content, users are able to check if there is already content in `root` for reusing it.\n *\n * ```html\n * <vaadin-combo-box id=\"combo-box\"></vaadin-combo-box>\n * ```\n * ```js\n * const comboBox = document.querySelector('#combo-box');\n * comboBox.items = [{'label': 'Hydrogen', 'value': 'H'}];\n * comboBox.renderer = function(root, comboBox, model) {\n *   root.innerHTML = model.index + ': ' +\n *                    model.item.label + ' ' +\n *                    '<b>' + model.item.value + '</b>';\n * };\n * ```\n *\n * Renderer is called on the opening of the combo-box and each time the related model is updated.\n * DOM generated during the renderer call can be reused\n * in the next renderer call and will be provided with the `root` argument.\n * On first call it will be empty.\n *\n * ### Item Template\n *\n * Alternatively, the content of the `<vaadin-combo-box-item>` can be populated by using\n * custom item template provided in the light DOM:\n *\n * ```html\n * <vaadin-combo-box items='[{\"label\": \"Hydrogen\", \"value\": \"H\"}]'>\n *   <template>\n *     [[index]]: [[item.label]] <b>[[item.value]</b>\n *   </template>\n * </vaadin-combo-box>\n * ```\n *\n * The following properties are available for item template bindings:\n *\n * Property name | Type | Description\n * --------------|------|------------\n * `index`| Number | Index of the item in the `items` array\n * `item` | String or Object | The item reference\n * `selected` | Boolean | True when item is selected\n * `focused` | Boolean | True when item is focused\n *\n * ### Lazy Loading with Function Data Provider\n *\n * In addition to assigning an array to the items property, you can alternatively\n * provide the `<vaadin-combo-box>` data through the\n * [`dataProvider`](#/elements/vaadin-combo-box#property-dataProvider) function property.\n * The `<vaadin-combo-box>` calls this function lazily, only when it needs more data\n * to be displayed.\n *\n * See the [`dataProvider`](#/elements/vaadin-combo-box#property-dataProvider) in\n * the API reference below for the detailed data provider arguments description,\n * and the “Lazy Loading“ example on “Basics” page in the demos.\n *\n * __Note that when using function data providers, the total number of items\n * needs to be set manually. The total number of items can be returned\n * in the second argument of the data provider callback:__\n *\n * ```javascript\n * comboBox.dataProvider = function(params, callback) {\n *   var url = 'https://api.example/data' +\n *       '?page=' + params.page +        // the requested page index\n *       '&per_page=' + params.pageSize; // number of items on the page\n *   var xhr = new XMLHttpRequest();\n *   xhr.onload = function() {\n *     var response = JSON.parse(xhr.responseText);\n *     callback(\n *       response.employees, // requested page of items\n *       response.totalSize  // total number of items\n *     );\n *   };\n *   xhr.open('GET', url, true);\n *   xhr.send();\n * };\n * ```\n *\n * ### Styling\n *\n * The following custom properties are available for styling:\n *\n * Custom property | Description | Default\n * ----------------|-------------|-------------\n * `--vaadin-combo-box-overlay-max-height` | Property that determines the max height of overlay | `65vh`\n *\n * The following shadow DOM parts are available for styling:\n *\n * Part name | Description\n * ----------------|----------------\n * `text-field` | The text field\n * `toggle-button` | The toggle button\n *\n * See [`<vaadin-overlay>` documentation](https://github.com/vaadin/vaadin-overlay/blob/master/src/vaadin-overlay.html)\n * for `<vaadin-combo-box-overlay>` parts.\n *\n * See [`<vaadin-text-field>` documentation](https://vaadin.com/components/vaadin-text-field/html-api/elements/Vaadin.TextFieldElement)\n * for the text field parts.\n *\n * The following state attributes are available for styling:\n *\n * Attribute    | Description | Part name\n * -------------|-------------|------------\n * `opened` | Set when the combo box dropdown is open | :host\n * `disabled` | Set to a disabled combo box | :host\n * `readonly` | Set to a read only combo box | :host\n * `has-value` | Set when the element has a value | :host\n * `invalid` | Set when the element is invalid | :host\n * `focused` | Set when the element is focused | :host\n * `focus-ring` | Set when the element is keyboard focused | :host\n * `loading` | Set when new items are expected | :host\n *\n * In addition to `<vaadin-combo-box>` itself, the following internal\n * components are themable:\n *\n * - `<vaadin-text-field>`\n * - `<vaadin-combo-box-overlay>`\n * - `<vaadin-combo-box-item>`\n *\n * Note: the `theme` attribute value set on `<vaadin-combo-box>` is\n * propagated to the internal themable components listed above.\n *\n * See [ThemableMixin – how to apply styles for shadow parts](https://github.com/vaadin/vaadin-themable-mixin/wiki)\n *\n * @memberof Vaadin\n * @mixes Vaadin.ElementMixin\n * @mixes Vaadin.ControlStateMixin\n * @mixes Vaadin.ComboBoxDataProviderMixin\n * @mixes Vaadin.ComboBoxMixin\n * @mixes Vaadin.ThemableMixin\n * @mixes Vaadin.ThemePropertyMixin\n * @demo demo/index.html\n */\n\nclass ComboBoxElement extends ElementMixin(ControlStateMixin(ThemePropertyMixin(ThemableMixin(ComboBoxDataProviderMixin(ComboBoxMixin(PolymerElement)))))) {\n  static get template() {\n    return html`\n    <style>\n      :host {\n        display: inline-block;\n      }\n\n      :host([hidden]) {\n        display: none !important;\n      }\n\n      :host([opened]) {\n        pointer-events: auto;\n      }\n\n      [part=\"text-field\"] {\n        width: 100%;\n        min-width: 0;\n      }\n    </style>\n\n    <vaadin-text-field part=\"text-field\" id=\"input\" pattern=\"[[pattern]]\" prevent-invalid-input=\"[[preventInvalidInput]]\" value=\"{{_inputElementValue}}\" autocomplete=\"off\" invalid=\"[[invalid]]\" label=\"[[label]]\" name=\"[[name]]\" placeholder=\"[[placeholder]]\" required=\"[[required]]\" disabled=\"[[disabled]]\" readonly=\"[[readonly]]\" error-message=\"[[errorMessage]]\" autocapitalize=\"none\" autofocus=\"[[autofocus]]\" on-change=\"_stopPropagation\" on-input=\"_inputValueChanged\" clear-button-visible=\"[[clearButtonVisible]]\" theme\\$=\"[[theme]]\">\n      <slot name=\"prefix\" slot=\"prefix\"></slot>\n\n      <div part=\"toggle-button\" id=\"toggleButton\" slot=\"suffix\" role=\"button\" aria-label=\"Toggle\"></div>\n\n    </vaadin-text-field>\n\n    <vaadin-combo-box-dropdown-wrapper id=\"overlay\" opened=\"[[opened]]\" renderer=\"[[renderer]]\" position-target=\"[[_getPositionTarget()]]\" _focused-index=\"[[_focusedIndex]]\" _item-id-path=\"[[itemIdPath]]\" _item-label-path=\"[[itemLabelPath]]\" loading=\"[[loading]]\" theme=\"[[theme]]\">\n    </vaadin-combo-box-dropdown-wrapper>\n`;\n  }\n\n  constructor() {\n    super();\n    /**\n     * @property\n     */\n\n    this.theme;\n  }\n\n  static get is() {\n    return 'vaadin-combo-box';\n  }\n\n  static get version() {\n    return '5.0.9';\n  }\n\n  static get properties() {\n    return {\n      /**\n       * The label for this element.\n       */\n      label: {\n        type: String,\n        reflectToAttribute: true\n      },\n\n      /**\n       * Set to true to mark the input as required.\n       */\n      required: {\n        type: Boolean,\n        value: false\n      },\n\n      /**\n       * Set to true to disable this input.\n       */\n      disabled: {\n        type: Boolean,\n        value: false\n      },\n\n      /**\n       * Set to true to prevent the user from entering invalid input.\n       */\n      preventInvalidInput: {\n        type: Boolean\n      },\n\n      /**\n       * A pattern to validate the `input` with.\n       */\n      pattern: {\n        type: String\n      },\n\n      /**\n       * The error message to display when the input is invalid.\n       */\n      errorMessage: {\n        type: String\n      },\n      autofocus: {\n        type: Boolean\n      },\n\n      /**\n       * A placeholder string in addition to the label.\n       */\n      placeholder: {\n        type: String,\n        value: ''\n      },\n      readonly: {\n        type: Boolean,\n        value: false\n      },\n\n      /**\n       * Set to true to display the clear icon which clears the input.\n       */\n      clearButtonVisible: {\n        type: Boolean,\n        value: false\n      }\n    };\n  }\n\n  static get observers() {\n    return ['_updateAriaExpanded(opened)'];\n  }\n\n  attributeChanged(name, type) {\n    // Safari has an issue with repainting shadow root element styles when a host attribute changes.\n    // Need this workaround (toggle any inline css property on and off) until the issue gets fixed.\n    const isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\n\n    if (isSafari && this.root) {\n      Array.prototype.forEach.call(this.root.querySelectorAll('*'), el => {\n        el.style['-webkit-backface-visibility'] = 'visible';\n        el.style['-webkit-backface-visibility'] = '';\n      });\n    }\n  }\n\n  ready() {\n    super.ready();\n    this._nativeInput = this.inputElement.focusElement;\n    this._toggleElement = this.$.toggleButton;\n    this._clearElement = this.inputElement.shadowRoot.querySelector('[part=\"clear-button\"]'); // Stop propagation of Esc in capturing phase so that\n    // vaadin-text-field will not handle Esc as a shortcut\n    // to clear the value.\n    // We need to set this listener for \"this.inputElement\"\n    // instead of just \"this\", otherwise keyboard navigation behaviour\n    // breaks a bit on Safari and some related tests fail.\n\n    this.inputElement.addEventListener('keydown', e => {\n      if (this._isEventKey(e, 'esc')) {\n        this._stopPropagation(e); // Trigger _onEscape method of vaadin-combo-box-mixin because\n        // bubbling phase is not reached.\n\n\n        this._onEscape(e);\n      }\n    }, true);\n\n    this._nativeInput.setAttribute('role', 'combobox');\n\n    this._nativeInput.setAttribute('aria-autocomplete', 'list');\n\n    this._updateAriaExpanded();\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n\n    this._preventInputBlur();\n  }\n\n  disconnectedCallback() {\n    super.disconnectedCallback();\n\n    this._restoreInputBlur();\n  }\n\n  _getPositionTarget() {\n    return this.$.input;\n  }\n\n  _updateAriaExpanded() {\n    if (this._nativeInput) {\n      this._nativeInput.setAttribute('aria-expanded', this.opened);\n\n      this._toggleElement.setAttribute('aria-expanded', this.opened);\n    }\n  }\n\n  get inputElement() {\n    return this.$.input;\n  }\n  /**\n   * Focusable element used by vaadin-control-state-mixin\n   */\n\n\n  get focusElement() {\n    // inputElement might not be defined on property changes before ready.\n    return this.inputElement || this;\n  }\n\n}\n\ncustomElements.define(ComboBoxElement.is, ComboBoxElement);\nexport { ComboBoxElement };","import \"../../../vaadin-lumo-styles/spacing.js\";\nimport \"../../../vaadin-lumo-styles/style.js\";\nimport \"../../../vaadin-lumo-styles/mixins/menu-overlay.js\";\nimport \"../../../vaadin-lumo-styles/font-icons.js\";\nimport \"../../../vaadin-lumo-styles/color.js\";\nimport \"../../../vaadin-lumo-styles/sizing.js\";\nimport \"../../../vaadin-lumo-styles/typography.js\";\nimport { html } from \"@polymer/polymer/lib/utils/html-tag.js\";\nconst $_documentContainer = html`<dom-module id=\"lumo-context-menu-overlay\" theme-for=\"vaadin-context-menu-overlay\">\n  <template>\n    <style include=\"lumo-menu-overlay\">\n      :host([phone]) {\n        top: 0 !important;\n        right: 0 !important;\n        bottom: var(--vaadin-overlay-viewport-bottom) !important;\n        left: 0 !important;\n        align-items: stretch;\n        justify-content: flex-end;\n      }\n\n    /* TODO These style overrides should not be needed.\n       We should instead offer a way to have non-selectable items inside the context menu. */\n\n      :host {\n        --_lumo-list-box-item-selected-icon-display: none;\n        --_lumo-list-box-item-padding-left: calc(var(--lumo-space-m) + var(--lumo-border-radius) / 4);\n      }\n\n      [part=\"overlay\"] {\n        outline: none;\n      }\n    </style>\n  </template>\n</dom-module><dom-module id=\"lumo-context-menu-list-box\" theme-for=\"vaadin-context-menu-list-box\">\n  <template>\n    <style>\n      :host(.vaadin-menu-list-box) {\n        --_lumo-list-box-item-selected-icon-display: block;\n      }\n\n      /* Normal item */\n\n      [part=\"items\"] ::slotted(.vaadin-menu-item) {\n        -webkit-tap-highlight-color: var(--lumo-primary-color-10pct);\n        cursor: default;\n      }\n\n      [part=\"items\"] ::slotted(.vaadin-menu-item) {\n        outline: none;\n        border-radius: var(--lumo-border-radius);\n        padding-left: var(--_lumo-list-box-item-padding-left, calc(var(--lumo-border-radius) / 4));\n        padding-right: calc(var(--lumo-space-l) + var(--lumo-border-radius) / 4);\n      }\n\n      :host(.vaadin-menu-list-box) [part=\"items\"] ::slotted(.vaadin-menu-item) {\n        padding-left: calc(var(--lumo-border-radius) / 4);\n        padding-right: calc(var(--lumo-space-l) + var(--lumo-border-radius) / 4);\n      }\n\n      /* Workaround to display checkmark in IE11 when list-box is not used in dropdown-menu */\n      [part=\"items\"] ::slotted(.vaadin-menu-item)::before {\n        display: var(--_lumo-item-selected-icon-display);\n      }\n\n      /* Hovered item */\n      /* TODO a workaround until we have \"focus-follows-mouse\". After that, use the hover style for focus-ring as well */\n\n      [part=\"items\"] ::slotted(.vaadin-menu-item:hover:not([disabled])),\n      [part=\"items\"] ::slotted(.vaadin-menu-item[expanded]:not([disabled])) {\n        background-color: var(--lumo-primary-color-10pct);\n      }\n\n      /* Focused item */\n\n      @media (pointer: coarse) {\n        [part=\"items\"] ::slotted(.vaadin-menu-item:hover:not([expanded]):not([disabled])) {\n          background-color: transparent;\n        }\n      }\n    </style>\n  </template>\n</dom-module><dom-module id=\"lumo-context-menu-item\" theme-for=\"vaadin-context-menu-item\">\n  <template>\n    <style>\n      :host(.vaadin-menu-item[menu-item-checked])::before {\n        opacity: 1;\n      }\n\n      :host(.vaadin-menu-item.vaadin-context-menu-parent-item)::after {\n        font-family: lumo-icons;\n        font-size: var(--lumo-icon-size-xs);\n        content: var(--lumo-icons-angle-right);\n        color: var(--lumo-tertiary-text-color);\n        margin-right: calc(var(--lumo-space-m) * -1);\n        padding-left: var(--lumo-space-m);\n      }\n\n      :host([expanded]) {\n        background-color: var(--lumo-primary-color-10pct);\n      }\n    </style>\n  </template>\n</dom-module>`;\ndocument.head.appendChild($_documentContainer.content);","import \"../../../vaadin-lumo-styles/color.js\";\nimport \"../../../vaadin-lumo-styles/spacing.js\";\nimport \"../../../vaadin-lumo-styles/style.js\";\nimport { html } from \"@polymer/polymer/lib/utils/html-tag.js\";\nconst $_documentContainer = html`<dom-module id=\"lumo-list-box\" theme-for=\"vaadin-list-box\">\n  <template>\n    <style>\n      :host {\n        -webkit-tap-highlight-color: transparent;\n        --_lumo-item-selected-icon-display: var(--_lumo-list-box-item-selected-icon-display, block);\n      }\n\n      /* IE11 flexbox issue workaround (vaadin-items are flex containers with min-height) */\n      [part=\"items\"] {\n        display: flex;\n        flex-direction: column;\n      }\n\n      [part=\"items\"] ::slotted(*) {\n        flex: none;\n      }\n\n      /* Normal item */\n\n      [part=\"items\"] ::slotted(vaadin-item) {\n        -webkit-tap-highlight-color: var(--lumo-primary-color-10pct);\n        cursor: default;\n      }\n\n      [part=\"items\"] ::slotted(vaadin-item) {\n        outline: none;\n        border-radius: var(--lumo-border-radius);\n        padding-left: var(--_lumo-list-box-item-padding-left, calc(var(--lumo-border-radius) / 4));\n        padding-right: calc(var(--lumo-space-l) + var(--lumo-border-radius) / 4);\n      }\n\n      /* Workaround to display checkmark in IE11 when list-box is not used in dropdown-menu */\n      [part=\"items\"] ::slotted(vaadin-item)::before {\n        display: var(--_lumo-item-selected-icon-display);\n      }\n\n      /* Hovered item */\n      /* TODO a workaround until we have \"focus-follows-mouse\". After that, use the hover style for focus-ring as well */\n\n      [part=\"items\"] ::slotted(vaadin-item:hover:not([disabled])) {\n        background-color: var(--lumo-primary-color-10pct);\n      }\n\n      /* Focused item */\n\n      [part=\"items\"] ::slotted([focus-ring]:not([disabled])) {\n        box-shadow: inset 0 0 0 2px var(--lumo-primary-color-50pct);\n      }\n\n      @media (pointer: coarse) {\n        [part=\"items\"] ::slotted(vaadin-item:hover:not([disabled])) {\n          background-color: transparent;\n        }\n\n        [part=\"items\"] ::slotted([focus-ring]:not([disabled])) {\n          box-shadow: none;\n        }\n      }\n\n      /* Easily add section dividers */\n\n      [part=\"items\"] ::slotted(hr) {\n        height: 1px;\n        border: 0;\n        padding: 0;\n        margin: var(--lumo-space-s) var(--lumo-border-radius);\n        background-color: var(--lumo-contrast-10pct);\n      }\n    </style>\n  </template>\n</dom-module>`;\ndocument.head.appendChild($_documentContainer.content);","/**\n@license\nCopyright (c) 2017 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\nimport { FlattenedNodesObserver } from \"@polymer/polymer/lib/utils/flattened-nodes-observer.js\";\nimport { Debouncer } from \"@polymer/polymer/lib/utils/debounce.js\";\nimport { timeOut } from \"@polymer/polymer/lib/utils/async.js\";\n/**\n * A mixin for `nav` elements, facilitating navigation and selection of childNodes.\n *\n * @polymerMixin\n */\n\nexport const ListMixin = superClass => class VaadinListMixin extends superClass {\n  static get properties() {\n    return {\n      /**\n       * Used for mixin detection because `instanceof` does not work with mixins.\n       */\n      _hasVaadinListMixin: {\n        value: true\n      },\n\n      /**\n       * The index of the item selected in the items array.\n       * Note: Not updated when used in `multiple` selection mode.\n       */\n      selected: {\n        type: Number,\n        reflectToAttribute: true,\n        notify: true\n      },\n\n      /**\n       * Define how items are disposed in the dom.\n       * Possible values are: `horizontal|vertical`.\n       * It also changes navigation keys from left/right to up/down.\n       */\n      orientation: {\n        type: String,\n        reflectToAttribute: true,\n        value: ''\n      },\n\n      /**\n       * The list of items from which a selection can be made.\n       * It is populated from the elements passed to the light DOM,\n       * and updated dynamically when adding or removing items.\n       *\n       * The item elements must implement `Vaadin.ItemMixin`.\n       *\n       * Note: unlike `<vaadin-combo-box>`, this property is read-only,\n       * so if you want to provide items by iterating array of data,\n       * you have to use `dom-repeat` and place it to the light DOM.\n       */\n      items: {\n        type: Array,\n        readOnly: true,\n        notify: true\n      },\n\n      /**\n       * The search buffer for the keyboard selection feature.\n       */\n      _searchBuf: {\n        type: String,\n        value: ''\n      }\n    };\n  }\n\n  static get observers() {\n    return ['_enhanceItems(items, orientation, selected, disabled)'];\n  }\n\n  ready() {\n    super.ready();\n    this.addEventListener('keydown', e => this._onKeydown(e));\n    this.addEventListener('click', e => this._onClick(e));\n    this._observer = new FlattenedNodesObserver(this, info => {\n      this._setItems(this._filterItems(Array.from(this.children)));\n    });\n  }\n\n  _enhanceItems(items, orientation, selected, disabled) {\n    if (!disabled) {\n      if (items) {\n        this.setAttribute('aria-orientation', orientation || 'vertical');\n        this.items.forEach(item => {\n          orientation ? item.setAttribute('orientation', orientation) : item.removeAttribute('orientation');\n          item.updateStyles();\n        });\n\n        this._setFocusable(selected);\n\n        const itemToSelect = items[selected];\n        items.forEach(item => item.selected = item === itemToSelect);\n\n        if (itemToSelect && !itemToSelect.disabled) {\n          this._scrollToItem(selected);\n        }\n      }\n    }\n  }\n\n  get focused() {\n    return this.getRootNode().activeElement;\n  }\n\n  _filterItems(array) {\n    return array.filter(e => e._hasVaadinItemMixin);\n  }\n\n  _onClick(event) {\n    if (event.metaKey || event.shiftKey || event.ctrlKey || event.defaultPrevented) {\n      return;\n    }\n\n    const item = this._filterItems(event.composedPath())[0];\n\n    let idx;\n\n    if (item && !item.disabled && (idx = this.items.indexOf(item)) >= 0) {\n      this.selected = idx;\n    }\n  }\n\n  _searchKey(currentIdx, key) {\n    this._searchReset = Debouncer.debounce(this._searchReset, timeOut.after(500), () => this._searchBuf = '');\n    this._searchBuf += key.toLowerCase();\n    const increment = 1;\n\n    const condition = item => !item.disabled && item.textContent.replace(/[^a-zA-Z0-9]/g, '').toLowerCase().indexOf(this._searchBuf) === 0;\n\n    if (!this.items.some(item => item.textContent.replace(/[^a-zA-Z0-9]/g, '').toLowerCase().indexOf(this._searchBuf) === 0)) {\n      this._searchBuf = key.toLowerCase();\n    }\n\n    const idx = this._searchBuf.length === 1 ? currentIdx + 1 : currentIdx;\n    return this._getAvailableIndex(idx, increment, condition);\n  }\n\n  _onKeydown(event) {\n    if (event.metaKey || event.ctrlKey) {\n      return;\n    } // IE names for arrows do not include the Arrow prefix\n\n\n    const key = event.key.replace(/^Arrow/, '');\n    const currentIdx = this.items.indexOf(this.focused);\n\n    if (/[a-zA-Z0-9]/.test(key) && key.length === 1) {\n      const idx = this._searchKey(currentIdx, key);\n\n      if (idx >= 0) {\n        this._focus(idx);\n      }\n\n      return;\n    }\n\n    const condition = item => !item.disabled;\n\n    let idx, increment;\n\n    if (this._vertical && key === 'Up' || !this._vertical && key === 'Left') {\n      increment = -1;\n      idx = currentIdx - 1;\n    } else if (this._vertical && key === 'Down' || !this._vertical && key === 'Right') {\n      increment = 1;\n      idx = currentIdx + 1;\n    } else if (key === 'Home') {\n      increment = 1;\n      idx = 0;\n    } else if (key === 'End') {\n      increment = -1;\n      idx = this.items.length - 1;\n    }\n\n    idx = this._getAvailableIndex(idx, increment, condition);\n\n    if (idx >= 0) {\n      this._focus(idx);\n\n      event.preventDefault();\n    }\n  }\n\n  _getAvailableIndex(idx, increment, condition) {\n    const totalItems = this.items.length;\n\n    for (let i = 0; typeof idx == 'number' && i < totalItems; i++, idx += increment || 1) {\n      if (idx < 0) {\n        idx = totalItems - 1;\n      } else if (idx >= totalItems) {\n        idx = 0;\n      }\n\n      const item = this.items[idx];\n\n      if (condition(item)) {\n        return idx;\n      }\n    }\n\n    return -1;\n  }\n\n  _setFocusable(idx) {\n    idx = this._getAvailableIndex(idx, 1, item => !item.disabled);\n    const item = this.items[idx] || this.items[0];\n    this.items.forEach(e => e.tabIndex = e === item ? 0 : -1);\n  }\n\n  _focus(idx) {\n    const item = this.items[idx];\n    this.items.forEach(e => e.focused = e === item);\n\n    this._setFocusable(idx);\n\n    this._scrollToItem(idx);\n\n    item.focus();\n  }\n\n  focus() {\n    // In initialisation (e.g vaadin-select) observer might not been run yet.\n    this._observer && this._observer.flush();\n    const firstItem = this.querySelector('[tabindex=\"0\"]') || (this.items ? this.items[0] : null);\n    firstItem && firstItem.focus();\n  }\n  /* @protected */\n\n\n  get _scrollerElement() {} // Returning scroller element of the component\n  // Scroll the container to have the next item by the edge of the viewport\n\n\n  _scrollToItem(idx) {\n    const item = this.items[idx];\n\n    if (!item) {\n      return;\n    }\n\n    const props = this._vertical ? ['top', 'bottom'] : ['left', 'right'];\n\n    const scrollerRect = this._scrollerElement.getBoundingClientRect();\n\n    const nextItemRect = (this.items[idx + 1] || item).getBoundingClientRect();\n    const prevItemRect = (this.items[idx - 1] || item).getBoundingClientRect();\n    let scrollDistance = 0;\n\n    if (nextItemRect[props[1]] >= scrollerRect[props[1]]) {\n      scrollDistance = nextItemRect[props[1]] - scrollerRect[props[1]];\n    } else if (prevItemRect[props[0]] <= scrollerRect[props[0]]) {\n      scrollDistance = prevItemRect[props[0]] - scrollerRect[props[0]];\n    }\n\n    this._scroll(scrollDistance);\n  }\n  /* @protected */\n\n\n  get _vertical() {\n    return this.orientation !== 'horizontal';\n  }\n\n  _scroll(pixels) {\n    this._scrollerElement['scroll' + (this._vertical ? 'Top' : 'Left')] += pixels;\n  }\n  /**\n   * Fired when the selection is changed.\n   * Not fired when used in `multiple` selection mode.\n   *\n   * @event selected-changed\n   * @param {Object} detail\n   * @param {Object} detail.value the index of the item selected in the items array.\n   */\n\n\n};","/**\n@license\nCopyright (c) 2019 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\nimport { ListMixin } from './vaadin-list-mixin.js';\n/**\n * A mixin for `nav` elements, facilitating multiple selection of childNodes.\n *\n * @polymerMixin\n * @mixes Vaadin.ListMixin\n */\n\nexport const MultiSelectListMixin = superClass => class VaadinMultiSelectListMixin extends ListMixin(superClass) {\n  static get properties() {\n    return {\n      /**\n       * Specifies that multiple options can be selected at once.\n       */\n      multiple: {\n        type: Boolean,\n        value: false,\n        reflectToAttribute: true,\n        observer: '_multipleChanged'\n      },\n\n      /**\n       * Array of indexes of the items selected in the items array\n       * Note: Not updated when used in single selection mode.\n       */\n      selectedValues: {\n        type: Array,\n        notify: true,\n        value: function () {\n          return [];\n        }\n      }\n    };\n  }\n\n  static get observers() {\n    return [`_enhanceMultipleItems(items, multiple, selected, selectedValues, selectedValues.*)`];\n  }\n\n  ready() {\n    // Should be attached before click listener in list-mixin\n    this.addEventListener('click', e => this._onMultipleClick(e));\n    super.ready();\n  }\n\n  _enhanceMultipleItems(items, multiple, selected, selectedValues) {\n    if (!items || !multiple) {\n      return;\n    }\n\n    if (selectedValues) {\n      const selectedItems = selectedValues.map(selectedId => items[selectedId]);\n      items.forEach(item => item.selected = selectedItems.indexOf(item) !== -1);\n    }\n\n    const lastSelectedItem = this.selectedValues.slice(-1)[0];\n\n    if (lastSelectedItem && !lastSelectedItem.disabled) {\n      this._scrollToItem(lastSelectedItem);\n    }\n  }\n\n  _onMultipleClick(event) {\n    const item = this._filterItems(event.composedPath())[0];\n\n    const idx = item && !item.disabled ? this.items.indexOf(item) : -1;\n\n    if (idx < 0 || !this.multiple) {\n      return;\n    }\n\n    event.preventDefault();\n\n    if (this.selectedValues.indexOf(idx) !== -1) {\n      this.selectedValues = this.selectedValues.filter(v => v !== idx);\n    } else {\n      this.selectedValues = this.selectedValues.concat(idx);\n    }\n  }\n\n  _multipleChanged(value, oldValue) {\n    // Changing from multiple to single selection, clear selection.\n    if (!value && oldValue) {\n      this.selectedValues = [];\n      this.items.forEach(item => item.selected = false);\n    } // Changing from single to multiple selection, add selected to selectedValues.\n\n\n    if (value && !oldValue && this.selected !== undefined) {\n      this.push('selectedValues', this.selected);\n      this.selected = undefined;\n    }\n  }\n  /**\n   * Fired when the selection is changed.\n   * Not fired in single selection mode.\n   *\n   * @event selected-values-changed\n   * @param {Object} detail\n   * @param {Object} detail.value the array of indexes of the items selected in the items array.\n   */\n\n\n};","/**\n@license\nCopyright (c) 2017 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\nimport { PolymerElement } from \"@polymer/polymer/polymer-element.js\";\nimport { ThemableMixin } from \"../../vaadin-themable-mixin/vaadin-themable-mixin.js\";\nimport { MultiSelectListMixin } from \"../../vaadin-list-mixin/vaadin-multi-select-list-mixin.js\";\nimport { ElementMixin } from \"../../vaadin-element-mixin/vaadin-element-mixin.js\";\nimport { html } from \"@polymer/polymer/lib/utils/html-tag.js\";\n/**\n * `<vaadin-list-box>` is a Web Component for creating menus.\n *\n * ```\n *   <vaadin-list-box selected=\"2\">\n *     <vaadin-item>Item 1</vaadin-item>\n *     <vaadin-item>Item 2</vaadin-item>\n *     <vaadin-item>Item 3</vaadin-item>\n *     <vaadin-item>Item 4</vaadin-item>\n *   </vaadin-list-box>\n * ```\n *\n * ### Styling\n *\n * The following shadow DOM parts are available for styling:\n *\n * Part name         | Description\n * ------------------|------------------------\n * `items`           | The items container\n *\n * See [ThemableMixin – how to apply styles for shadow parts](https://github.com/vaadin/vaadin-themable-mixin/wiki)\n *\n * @memberof Vaadin\n * @mixes Vaadin.MultiSelectListMixin\n * @mixes Vaadin.ThemableMixin\n * @demo demo/index.html\n */\n\nclass ListBoxElement extends ElementMixin(MultiSelectListMixin(ThemableMixin(PolymerElement))) {\n  static get template() {\n    return html`\n    <style>\n      :host {\n        display: flex;\n      }\n\n      :host([hidden]) {\n        display: none !important;\n      }\n\n      [part=\"items\"] {\n        height: 100%;\n        width: 100%;\n        overflow-y: auto;\n        -webkit-overflow-scrolling: touch;\n      }\n    </style>\n    <div part=\"items\">\n      <slot></slot>\n    </div>\n`;\n  }\n\n  static get is() {\n    return 'vaadin-list-box';\n  }\n\n  static get version() {\n    return '1.2.0';\n  }\n\n  static get properties() {\n    return {\n      // We don't need to define this property since super default is vertical,\n      // but we don't want it to be modified, or be shown in the API docs.\n\n      /** @private */\n      orientation: {\n        readOnly: true\n      }\n    };\n  }\n\n  constructor() {\n    super();\n    /** @protected */\n\n    this.focused;\n  }\n\n  ready() {\n    super.ready();\n    this.setAttribute('role', 'list');\n    setTimeout(this._checkImport.bind(this), 2000);\n  }\n\n  get _scrollerElement() {\n    return this.shadowRoot.querySelector('[part=\"items\"]');\n  }\n\n  _checkImport() {\n    var item = this.querySelector('vaadin-item');\n\n    if (item && !(item instanceof PolymerElement)) {\n      console.warn(`Make sure you have imported the vaadin-item element.`);\n    }\n  }\n\n}\n\ncustomElements.define(ListBoxElement.is, ListBoxElement);\nexport { ListBoxElement };","/**\n@license\nCopyright (c) 2017 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\nimport { register, prevent } from \"@polymer/polymer/lib/utils/gestures.js\";\nregister({\n  name: 'vaadin-contextmenu',\n  deps: ['touchstart', 'touchmove', 'touchend', 'contextmenu'],\n  flow: {\n    start: ['touchstart', 'contextmenu'],\n    end: ['contextmenu']\n  },\n  emits: ['vaadin-contextmenu'],\n  info: {\n    sourceEvent: null,\n    _ios: /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream\n  },\n  reset: function () {\n    this.info.sourceEvent = null;\n\n    this._cancelTimer();\n\n    this.info.touchJob = null;\n    this.info.touchStartCoords = null;\n  },\n  _cancelTimer: function () {\n    if (this._timerId) {\n      clearTimeout(this._timerId);\n      delete this._fired;\n    }\n  },\n  touchstart: function (e) {\n    this.info.sourceEvent = e;\n    this.info.touchStartCoords = {\n      x: e.changedTouches[0].clientX,\n      y: e.changedTouches[0].clientY\n    }; // After timeout event is already retargeted to the parent element in case there is one.\n    // So we are assigning the target synchronously on event dispatched.\n\n    const t = e.composedPath()[0] || e.target;\n    this._timerId = setTimeout(() => {\n      const ct = e.changedTouches[0];\n\n      if (!e.shiftKey) {\n        if (this.info._ios) {\n          this._fired = true;\n          this.fire(t, ct.clientX, ct.clientY);\n        } // needed to prevent any 'tap' gesture events from firing\n        // which could potentially cancel/close the overlay.\n\n\n        prevent('tap');\n      }\n    }, 500); // default setting for Android and iOS.\n  },\n  touchmove: function (e) {\n    const moveThreshold = 15;\n    const touchStartCoords = this.info.touchStartCoords;\n\n    if (Math.abs(touchStartCoords.x - e.changedTouches[0].clientX) > moveThreshold || Math.abs(touchStartCoords.y - e.changedTouches[0].clientY) > moveThreshold) {\n      this._cancelTimer();\n    }\n  },\n  touchend: function (e) {\n    if (this._fired) {\n      e.preventDefault();\n    }\n\n    this._cancelTimer();\n  },\n  contextmenu: function (e) {\n    if (!e.shiftKey) {\n      this.info.sourceEvent = e;\n      this.fire(e.target, e.clientX, e.clientY);\n      prevent('tap');\n    }\n  },\n  fire: function (target, x, y) {\n    // NOTE(web-padawan): the code below is copied from `Polymer.Gestures._fire`,\n    // which is not exported from `gestures.js` module for Polymer 3.\n    const sourceEvent = this.info.sourceEvent;\n    const ev = new Event('vaadin-contextmenu', {\n      bubbles: true,\n      cancelable: true,\n      composed: true\n    });\n    ev.detail = {\n      x,\n      y,\n      sourceEvent\n    };\n    target.dispatchEvent(ev); // forward `preventDefault` in a clean way\n\n    if (ev.defaultPrevented && sourceEvent && sourceEvent.preventDefault) {\n      sourceEvent.preventDefault();\n    }\n  }\n});","/**\n@license\nCopyright (c) 2017 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\nimport { PolymerElement } from \"@polymer/polymer/polymer-element.js\";\nimport \"@polymer/iron-media-query/iron-media-query.js\";\nimport { html } from \"@polymer/polymer/lib/utils/html-tag.js\";\n/**\n * Element for internal use only.\n *\n * @memberof Vaadin\n * @private\n */\n\nclass DeviceDetectorElement extends class extends PolymerElement {} {\n  static get template() {\n    return html`\n    <iron-media-query query=\"min-device-width: 750px\" query-matches=\"{{wide}}\"></iron-media-query>\n`;\n  }\n\n  static get is() {\n    return 'vaadin-device-detector';\n  }\n\n  static get properties() {\n    return {\n      /**\n       * `true`, when running in a phone.\n       */\n      phone: {\n        type: Boolean,\n        computed: '_phone(wide, touch)',\n        notify: true\n      },\n\n      /**\n       * `true`, when running in a touch device.\n       * @default false\n       */\n      touch: {\n        type: Boolean,\n        notify: true,\n        value: () => this._touch()\n      },\n\n      /**\n       * `true`, when running in a tablet/desktop device.\n       */\n      wide: {\n        type: Boolean,\n        notify: true\n      }\n    };\n  }\n\n  static _touch() {\n    try {\n      document.createEvent('TouchEvent');\n      return true;\n    } catch (err) {\n      return false;\n    }\n  }\n\n  _phone(wide, touch) {\n    return !wide && touch;\n  }\n\n}\n\ncustomElements.define(DeviceDetectorElement.is, DeviceDetectorElement);","import { ItemElement } from \"../../vaadin-item/src/vaadin-item.js\";\nimport { ListBoxElement } from \"../../vaadin-list-box/src/vaadin-list-box.js\";\nimport { flush } from \"@polymer/polymer/lib/utils/flush.js\";\n/**\n * The vaadin-context-menu-item element.\n *\n * @memberof Vaadin\n */\n\nclass ContextMenuItemElement extends ItemElement {\n  static get is() {\n    return 'vaadin-context-menu-item';\n  }\n\n}\n/**\n * The vaadin-context-menu-list-box element.\n *\n * @memberof Vaadin\n */\n\n\nclass ContextMenuListBoxElement extends ListBoxElement {\n  static get is() {\n    return 'vaadin-context-menu-list-box';\n  }\n\n}\n\ncustomElements.define(ContextMenuItemElement.is, ContextMenuItemElement);\ncustomElements.define(ContextMenuListBoxElement.is, ContextMenuListBoxElement);\n/**\n * @polymerMixin\n */\n\nexport const ItemsMixin = superClass => class ItemsMixin extends superClass {\n  static get properties() {\n    return {\n      /**\n       * @typedef MenuItem\n       * @type {object}\n       * @property {string} text - Text to be set as the menu item component's textContent\n       * @property {union: string | object} component - The component to represent the item.\n       * Either a tagName or an element instance. Defaults to \"vaadin-context-menu-item\".\n       * @property {boolean} disabled - If true, the item is disabled and cannot be selected\n       * @property {boolean} checked - If true, the item shows a checkmark next to it\n       * @property {MenuItem[]} children - Array of child menu items\n       */\n\n      /**\n       * Defines a (hierarchical) menu structure for the component.\n       * If a menu item has a non-empty `children` set, a sub-menu with the child items is opened\n       * next to the parent menu on mouseover, tap or a right arrow keypress.\n       *\n       * The items API can't be used together with a renderer or a template!\n       *\n       * #### Example\n       *\n       * ```javascript\n       * contextMenu.items = [\n       *   {text: 'Menu Item 1', children:\n       *     [\n       *       {text: 'Menu Item 1-1', checked: true},\n       *       {text: 'Menu Item 1-2'}\n       *     ]\n       *   },\n       *   {component: 'hr'},\n       *   {text: 'Menu Item 2', children:\n       *     [\n       *       {text: 'Menu Item 2-1'},\n       *       {text: 'Menu Item 2-2', disabled: true}\n       *     ]\n       *   },\n       *   {text: 'Menu Item 3', disabled: true}\n       * ];\n       * ```\n       *\n       * @type {MenuItem[]}\n       *\n       *\n       * ### Styling\n       *\n       * The `<vaadin-context-menu-item>` sub-menu elements have the following additional state attributes on top of\n       * the built-in `<vaadin-item>` state attributes (see `<vaadin-item>` documentation for full listing).\n       *\n       * Part name | Attribute | Description\n       * ----------------|----------------|----------------\n       * `:host` | expanded | Expanded parent item\n       */\n      items: Array\n    };\n  }\n\n  ready() {\n    super.ready(); // Overlay's outside click listener doesn't work with modeless\n    // overlays (submenus) so we need additional logic for it\n\n    this.__itemsOutsideClickListener = e => {\n      if (!e.composedPath().filter(el => el.localName === 'vaadin-context-menu-overlay')[0]) {\n        this.dispatchEvent(new CustomEvent('items-outside-click'));\n      }\n    };\n\n    this.addEventListener('items-outside-click', e => this.items && this.close());\n  }\n\n  connectedCallback() {\n    super.connectedCallback(); // Firefox leaks click to document on contextmenu even if prevented\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=990614\n\n    document.documentElement.addEventListener('click', this.__itemsOutsideClickListener);\n  }\n\n  disconnectedCallback() {\n    super.disconnectedCallback();\n    document.documentElement.removeEventListener('click', this.__itemsOutsideClickListener);\n  }\n\n  __forwardFocus() {\n    const overlay = this.$.overlay;\n    const child = overlay.getFirstChild(); // if parent item is not focused, do not focus submenu\n\n    if (overlay.parentOverlay) {\n      const parent = overlay.parentOverlay.querySelector('[expanded]');\n\n      if (parent && parent.hasAttribute('focused') && child) {\n        child.focus();\n      } else {\n        overlay.$.overlay.focus();\n      }\n    } else if (child) {\n      child.focus();\n    }\n  }\n\n  __openSubMenu(subMenu, itemElement) {\n    subMenu.items = itemElement._item.children;\n    subMenu.listenOn = itemElement;\n    const itemRect = itemElement.getBoundingClientRect();\n    const content = subMenu.$.overlay.$.content;\n    const style = getComputedStyle(content);\n    const parent = this.$.overlay;\n    const y = parent.hasAttribute('bottom-aligned') ? itemRect.bottom + parseFloat(style.paddingBottom) : itemRect.top - parseFloat(style.paddingTop); // Store the reference to align based on parent overlay coordinates\n\n    subMenu.$.overlay._setParentOverlay(parent); // Set theme attribute from parent element\n\n\n    if (parent.theme) {\n      subMenu.setAttribute('theme', parent.theme);\n    } else {\n      subMenu.removeAttribute('theme');\n    }\n\n    let x;\n    content.style.minWidth = '';\n\n    if (document.documentElement.clientWidth - itemRect.right > itemRect.width) {\n      // There's room on the right side\n      x = itemRect.right;\n    } else {\n      // Open on the left side\n      x = itemRect.left - itemRect.width; // Make sure there's no gaps between the menus\n\n      content.style.minWidth = parent.$.content.clientWidth + 'px';\n    }\n\n    x = Math.max(x, 0);\n    itemElement.dispatchEvent(new CustomEvent('opensubmenu', {\n      detail: {\n        x,\n        y,\n        children: itemElement._item.children\n      }\n    }));\n  }\n\n  __itemsRenderer(root, menu, context) {\n    this.__initMenu(root, menu);\n\n    const subMenu = root.querySelector(this.constructor.is);\n    subMenu.closeOn = menu.closeOn;\n    const listBox = root.querySelector('vaadin-context-menu-list-box');\n    listBox.innerHTML = '';\n    const items = Array.from(context.detail.children || menu.items);\n    items.forEach(item => {\n      let component;\n\n      if (item.component instanceof HTMLElement) {\n        component = item.component;\n      } else {\n        component = document.createElement(item.component || 'vaadin-context-menu-item');\n      }\n\n      if (component instanceof ItemElement) {\n        component.setAttribute('role', 'menuitem');\n        component.classList.add('vaadin-menu-item');\n      } else if (component.localName === 'hr') {\n        component.setAttribute('role', 'separator');\n      }\n\n      this.theme && component.setAttribute('theme', this.theme);\n      component._item = item;\n\n      if (item.text) {\n        component.textContent = item.text;\n      }\n\n      this.__toggleMenuComponentAttribute(component, 'menu-item-checked', item.checked);\n\n      this.__toggleMenuComponentAttribute(component, 'disabled', item.disabled);\n\n      component.setAttribute('aria-haspopup', 'false');\n      component.classList.remove('vaadin-context-menu-parent-item');\n\n      if (item.children && item.children.length) {\n        component.classList.add('vaadin-context-menu-parent-item');\n        component.setAttribute('aria-haspopup', 'true');\n        component.setAttribute('aria-expanded', 'false');\n        component.removeAttribute('expanded');\n      }\n\n      listBox.appendChild(component);\n    });\n  }\n\n  __toggleMenuComponentAttribute(component, attribute, on) {\n    if (on) {\n      component.setAttribute(attribute, '');\n      component['__has-' + attribute] = true;\n    } else if (component['__has-' + attribute]) {\n      component.removeAttribute(attribute);\n      component['__has-' + attribute] = false;\n    }\n  }\n\n  __initMenu(root, menu) {\n    if (!root.firstElementChild) {\n      const is = this.constructor.is;\n      root.innerHTML = `\n        <vaadin-context-menu-list-box></vaadin-context-menu-list-box>\n        <${is} hidden></${is}>\n      `;\n      flush();\n      const listBox = root.querySelector('vaadin-context-menu-list-box');\n      this.theme && listBox.setAttribute('theme', this.theme);\n      listBox.classList.add('vaadin-menu-list-box');\n      requestAnimationFrame(() => listBox.setAttribute('role', 'menu'));\n      const subMenu = root.querySelector(is);\n      subMenu.$.overlay.modeless = true;\n      subMenu.openOn = 'opensubmenu';\n      menu.addEventListener('opened-changed', e => !e.detail.value && subMenu.close());\n      subMenu.addEventListener('opened-changed', e => {\n        if (!e.detail.value) {\n          const expandedItem = listBox.querySelector('[expanded]');\n\n          if (expandedItem) {\n            expandedItem.setAttribute('aria-expanded', 'false');\n            expandedItem.removeAttribute('expanded');\n          }\n        }\n      });\n      listBox.addEventListener('selected-changed', e => {\n        if (typeof e.detail.value === 'number') {\n          const item = e.target.items[e.detail.value]._item;\n\n          if (!item.children) {\n            const detail = {\n              value: item\n            };\n            menu.dispatchEvent(new CustomEvent('item-selected', {\n              detail\n            }));\n          }\n\n          listBox.selected = null;\n        }\n      });\n      subMenu.addEventListener('item-selected', e => {\n        menu.dispatchEvent(new CustomEvent('item-selected', {\n          detail: e.detail\n        }));\n      });\n      subMenu.addEventListener('close-all-menus', () => {\n        menu.dispatchEvent(new CustomEvent('close-all-menus'));\n      });\n      menu.addEventListener('close-all-menus', menu.close);\n      menu.addEventListener('item-selected', menu.close);\n      menu.$.overlay.$.backdrop.addEventListener('click', () => menu.close());\n      menu.$.overlay.addEventListener('keydown', e => {\n        if (e.keyCode === 37) {\n          menu.close();\n          menu.listenOn.focus();\n        } else if (e.keyCode === 27) {\n          menu.dispatchEvent(new CustomEvent('close-all-menus'));\n        }\n      });\n      requestAnimationFrame(() => this.__openListenerActive = true);\n\n      const openSubMenu = (e, itemElement = e.composedPath().filter(e => e.localName === 'vaadin-context-menu-item')[0]) => {\n        // Delay enabling the mouseover listener to avoid it from triggering on parent menu open\n        if (!this.__openListenerActive) {\n          return;\n        } // Don't open sub-menus while the menu is still opening\n\n\n        if (menu.$.overlay.hasAttribute('opening')) {\n          requestAnimationFrame(() => openSubMenu(e, itemElement));\n          return;\n        }\n\n        if (itemElement) {\n          if (subMenu.items !== itemElement._item.children) {\n            subMenu.close();\n          }\n\n          if (!menu.opened) {\n            return;\n          }\n\n          if (itemElement._item.children && itemElement._item.children.length) {\n            itemElement.setAttribute('aria-expanded', 'true');\n            itemElement.setAttribute('expanded', '');\n\n            this.__openSubMenu(subMenu, itemElement);\n          } else {\n            subMenu.listenOn.focus();\n          }\n        }\n      };\n\n      menu.$.overlay.addEventListener('mouseover', openSubMenu);\n      menu.$.overlay.addEventListener('keydown', e => (e.keyCode === 39 || e.keyCode === 13 || e.keyCode === 32) && openSubMenu(e));\n    } else {\n      const listBox = root.querySelector('vaadin-context-menu-list-box');\n\n      if (this.theme) {\n        listBox.setAttribute('theme', this.theme);\n      } else {\n        listBox.removeAttribute('theme');\n      }\n    }\n  }\n\n};","/**\n@license\nCopyright (c) 2017 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\nimport \"@polymer/polymer/lib/elements/dom-module.js\";\nimport { OverlayElement } from \"../../vaadin-overlay/src/vaadin-overlay.js\";\nconst $_documentContainer = document.createElement('template');\n$_documentContainer.innerHTML = `<dom-module id=\"vaadin-context-menu-overlay-styles\" theme-for=\"vaadin-context-menu-overlay\">\n  <template>\n    <style>\n      :host {\n        align-items: flex-start;\n        justify-content: flex-start;\n      }\n\n      :host([right-aligned]) {\n        align-items: flex-end;\n      }\n\n      :host([bottom-aligned]) {\n        justify-content: flex-end;\n      }\n\n      [part=\"overlay\"] {\n        background-color: #fff;\n      }\n    </style>\n  </template>\n</dom-module>`;\ndocument.head.appendChild($_documentContainer.content);\n/**\n * The overlay element.\n *\n * ### Styling\n *\n * See [`<vaadin-overlay>` documentation](https://github.com/vaadin/vaadin-overlay/blob/master/src/vaadin-overlay.html)\n * for `<vaadin-context-menu-overlay>` parts.\n *\n * See [ThemableMixin – how to apply styles for shadow parts](https://github.com/vaadin/vaadin-themable-mixin/wiki)\n *\n * @memberof Vaadin\n * @private\n */\n\nclass ContextMenuOverlayElement extends OverlayElement {\n  static get is() {\n    return 'vaadin-context-menu-overlay';\n  }\n\n  static get properties() {\n    return {\n      instanceProps: {\n        type: Object,\n        value: () => {\n          return {\n            detail: true,\n            target: true\n          };\n        }\n      },\n\n      /**\n       * @protected\n       */\n      parentOverlay: {\n        type: Object,\n        readOnly: true\n      }\n    };\n  }\n\n  static get observers() {\n    return ['_themeChanged(theme)'];\n  }\n\n  ready() {\n    super.ready();\n    this.addEventListener('keydown', e => {\n      if (!e.defaultPrevented && e.composedPath()[0] === this.$.overlay && [38, 40].indexOf(e.keyCode) > -1) {\n        const child = this.getFirstChild();\n\n        if (child && Array.isArray(child.items) && child.items.length) {\n          e.preventDefault();\n\n          if (e.keyCode === 38) {\n            child.items[child.items.length - 1].focus();\n          } else {\n            child.focus();\n          }\n        }\n      }\n    });\n  }\n\n  getFirstChild() {\n    return this.content.querySelector(':not(style):not(slot)');\n  }\n\n  _themeChanged(theme) {\n    this.close();\n  }\n\n  getBoundaries() {\n    // Measure actual overlay and content sizes\n    const overlayRect = this.getBoundingClientRect();\n    const contentRect = this.$.overlay.getBoundingClientRect(); // Maximum x and y values are imposed by content size and overlay limits.\n\n    let yMax = overlayRect.bottom - contentRect.height; // Adjust constraints to ensure bottom-aligned applies to sub-menu.\n\n    const parent = this.parentOverlay;\n\n    if (parent && parent.hasAttribute('bottom-aligned')) {\n      const parentStyle = getComputedStyle(parent);\n      yMax = yMax - parseFloat(parentStyle.bottom) - parseFloat(parentStyle.height);\n    }\n\n    return {\n      xMax: overlayRect.right - contentRect.width,\n      yMax,\n      left: overlayRect.left,\n      top: overlayRect.top,\n      width: contentRect.width\n    };\n  }\n\n}\n\ncustomElements.define(ContextMenuOverlayElement.is, ContextMenuOverlayElement);","/**\n@license\nCopyright (c) 2017 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\nimport { PolymerElement } from \"@polymer/polymer/polymer-element.js\";\nimport { GestureEventListeners } from \"@polymer/polymer/lib/mixins/gesture-event-listeners.js\";\nimport { FlattenedNodesObserver } from \"@polymer/polymer/lib/utils/flattened-nodes-observer.js\";\nimport './vaadin-contextmenu-event.js';\nimport './vaadin-device-detector.js';\nimport { ItemsMixin } from './vaadin-contextmenu-items-mixin.js';\nimport { ElementMixin } from \"../../vaadin-element-mixin/vaadin-element-mixin.js\";\nimport { ThemePropertyMixin } from \"../../vaadin-themable-mixin/vaadin-theme-property-mixin.js\";\nimport './vaadin-context-menu-overlay.js';\nimport { html } from \"@polymer/polymer/lib/utils/html-tag.js\";\nimport { gestures, addListener, removeListener } from \"@polymer/polymer/lib/utils/gestures.js\";\n/**\n *\n * `<vaadin-context-menu>` is a Web Component for creating context menus. The content of the\n * menu can be populated in three ways: imperatively by using the items API or a renderer callback function and\n * declaratively by using Polymer's Templates.\n *\n * ### Items\n *\n * Items is a higher level convenience API for defining a (hierarchical) menu structure for the component.\n * If a menu item has a non-empty `children` set, a sub-menu with the child items is opened\n * next to the parent menu on mouseover, tap or a right arrow keypress.\n *\n * When an item is selected, `<vaadin-context-menu>` dispatches an \"item-selected\" event\n * with the selected item as `event.detail.value` property.\n *\n * ```javascript\n * contextMenu.items = [\n *   {text: 'Menu Item 1', children:\n *     [\n *       {text: 'Menu Item 1-1', checked: true},\n *       {text: 'Menu Item 1-2'}\n *     ]\n *   },\n *   {component: 'hr'},\n *   {text: 'Menu Item 2', children:\n *     [\n *       {text: 'Menu Item 2-1'},\n *       {text: 'Menu Item 2-2', disabled: true}\n *     ]\n *   },\n *   {text: 'Menu Item 3', disabled: true}\n * ];\n *\n * contextMenu.addEventListener('item-selected', e => {\n *   const item = e.detail.value;\n *   console.log(`${item.text} selected`);\n * });\n * ```\n *\n * **NOTE:** when the `items` array is defined, the renderer or a template cannot be used.\n *\n * ### Rendering\n *\n * The renderer function provides `root`, `contextMenu`, `model` arguments when applicable.\n * Generate DOM content by using `model` object properties if needed, append it to the `root`\n * element and control the state of the host element by accessing `contextMenu`. Before generating\n * new content, the renderer function should check if there is already content in `root` for reusing it.\n *\n * ```html\n * <vaadin-context-menu id=\"contextMenu\">\n *  <p>This paragraph has a context menu.</p>\n * </vaadin-context-menu>\n * ```\n * ```js\n * const contextMenu = document.querySelector('#contextMenu');\n * contextMenu.renderer = (root, contextMenu, context) => {\n *   let listBox = root.firstElementChild;\n *   if (!listBox) {\n *     listBox = document.createElement('vaadin-list-box');\n *     root.appendChild(listBox);\n *   }\n *\n *   let item = listBox.querySelector('vaadin-item');\n *   if (!item) {\n *     item = document.createElement('vaadin-item');\n *     listBox.appendChild(item);\n *   }\n *   item.textContent = 'Content of the selector: ' + context.target.textContent;\n * };\n * ```\n *\n * You can access the menu context inside the renderer using\n * `context.target` and `context.detail`.\n *\n * Renderer is called on the opening of the context-menu and each time the related context is updated.\n * DOM generated during the renderer call can be reused\n * in the next renderer call and will be provided with the `root` argument.\n * On first call it will be empty.\n *\n * **NOTE:** when the `renderer` function is defined, the template content\n * is not in use.\n *\n * ### Polymer Templates\n *\n * Alternatively to using the `renderer`, you can populate\n * the menu content using Polymer's Templates:\n *\n * ```html\n * <vaadin-context-menu>\n *   <template>\n *     <vaadin-list-box>\n *       <vaadin-item>First menu item</vaadin-item>\n *       <vaadin-item>Second menu item</vaadin-item>\n *     </vaadin-list-box>\n *   </template>\n * </vaadin-context-menu>\n * ```\n *\n * ### “vaadin-contextmenu” Gesture Event\n *\n * `vaadin-contextmenu` is a gesture event (a custom event),\n * which is dispatched after either `contextmenu` and long touch events.\n * This enables support for both mouse and touch environments in a uniform way.\n *\n * `<vaadin-context-menu>` opens the menu overlay on the `vaadin-contextmenu`\n * event by default.\n *\n * ### Menu Listener\n *\n * By default, the `<vaadin-context-menu>` element listens for the menu opening\n * event on itself. In order to have a context menu on your content, wrap\n * your content with the `<vaadin-context-menu>` element, and add a template\n * element with a menu. Example:\n *\n * ```html\n * <vaadin-context-menu>\n *   <template>\n *     <vaadin-list-box>\n *       <vaadin-item>First menu item</vaadin-item>\n *       <vaadin-item>Second menu item</vaadin-item>\n *     </vaadin-list-box>\n *   </template>\n *\n *   <p>This paragraph has the context menu provided in the above template.</p>\n *   <p>Another paragraph with the context menu.</p>\n * </vaadin-context-menu>\n * ```\n *\n * In case if you do not want to wrap the page content, you can listen for\n * events on an element outside the `<vaadin-context-menu>` by setting the\n * `listenOn` property:\n *\n * ```html\n * <vaadin-context-menu id=\"customListener\">\n *   <template>\n *     <vaadin-list-box>\n *       ...\n *     </vaadin-list-box>\n *   </template>\n * </vaadin-context-menu>\n *\n * <div id=\"menuListener\">The element that listens for the context menu.</div>\n * ```\n * ```javascript\n *   const contextMenu = document.querySelector('vaadin-context-menu#customListener');\n *   contextMenu.listenOn = document.querySelector('#menuListener');\n * ```\n *\n * ### Filtering Menu Targets\n *\n * By default, the listener element and all its descendants open the context\n * menu. You can filter the menu targets to a smaller set of elements inside\n * the listener element by setting the `selector` property.\n *\n * In the following example, only the elements matching `.has-menu` will open the context menu:\n *\n * ```html\n * <vaadin-context-menu selector=\".has-menu\">\n *   <template>\n *     <vaadin-list-box>\n *       ...\n *     </vaadin-list-box>\n *   </template>\n *\n *   <p class=\"has-menu\">This paragraph opens the context menu</p>\n *   <p>This paragraph does not open the context menu</p>\n * </vaadin-context-menu>\n * ```\n *\n * ### Menu Context\n *\n * You can bind to the following properties in the menu template:\n *\n * - `target` is the menu opening event target, which is the element that\n * the user has called the context menu for\n * - `detail` is the menu opening event detail\n *\n * In the following example, the menu item text is composed with the contents\n * of the element that opened the menu:\n *\n * ```html\n * <vaadin-context-menu selector=\"li\">\n *   <template>\n *     <vaadin-list-box>\n *       <vaadin-item>The menu target: [[target.textContent]]</vaadin-item>\n *     </vaadin-list-box>\n *   </template>\n *\n *   <ul>\n *     <li>Foo</li>\n *     <li>Bar</li>\n *     <li>Baz</li>\n *   </ul>\n * </vaadin-context-menu>\n * ```\n *\n * ### Styling\n *\n * `<vaadin-context-menu>` uses `<vaadin-context-menu-overlay>` internal\n * themable component as the actual visible context menu overlay. See\n * See [`<vaadin-overlay>` documentation](https://github.com/vaadin/vaadin-overlay/blob/master/src/vaadin-overlay.html)\n * for `<vaadin-context-menu-overlay>` parts.\n *\n * See [ThemableMixin – how to apply styles for shadow parts](https://github.com/vaadin/vaadin-themable-mixin/wiki)\n *\n * Note: the `theme` attribute value set on `<vaadin-context-menu>` is\n * propagated to the internal `<vaadin-context-menu-overlay>` component.\n * In case of using nested menu items, the `theme` attribute is also propagated\n * to internal `vaadin-context-menu-list-box` and `vaadin-context-menu-item`'s.\n *\n * @memberof Vaadin\n * @mixes Vaadin.ElementMixin\n * @mixes Vaadin.ThemePropertyMixin\n * @mixes Vaadin.ContextMenu.ItemsMixin\n * @mixes Polymer.GestureEventListeners\n * @demo demo/index.html\n */\n\nclass ContextMenuElement extends ElementMixin(ThemePropertyMixin(ItemsMixin(GestureEventListeners(PolymerElement)))) {\n  static get template() {\n    return html`\n    <style>\n      :host {\n        display: block;\n      }\n\n      :host([hidden]) {\n        display: none !important;\n      }\n    </style>\n\n    <slot id=\"slot\"></slot>\n\n    <vaadin-device-detector phone=\"{{_phone}}\" touch=\"{{_touch}}\"></vaadin-device-detector>\n\n    <vaadin-context-menu-overlay id=\"overlay\" on-opened-changed=\"_onOverlayOpened\" on-vaadin-overlay-open=\"_onVaadinOverlayOpen\" with-backdrop=\"[[_phone]]\" phone\\$=\"[[_phone]]\" model=\"[[_context]]\" theme\\$=\"[[theme]]\">\n    </vaadin-context-menu-overlay>\n`;\n  }\n\n  static get is() {\n    return 'vaadin-context-menu';\n  }\n\n  static get version() {\n    return '4.3.13';\n  }\n\n  static get properties() {\n    return {\n      /**\n       * CSS selector that can be used to target any child element\n       * of the context menu to listen for `openOn` events.\n       */\n      selector: {\n        type: String\n      },\n\n      /**\n       * True if the overlay is currently displayed.\n       */\n      opened: {\n        type: Boolean,\n        value: false,\n        notify: true,\n        readOnly: true\n      },\n\n      /**\n       * Event name to listen for opening the context menu.\n       */\n      openOn: {\n        type: String,\n        value: 'vaadin-contextmenu'\n      },\n\n      /**\n       * The target element that's listened to for context menu opening events.\n       * By default the vaadin-context-menu listens to the target's `vaadin-contextmenu`\n       * events.\n       * @type {HTMLElement}\n       * @default self\n       */\n      listenOn: {\n        type: Object,\n        value: function () {\n          return this;\n        }\n      },\n\n      /**\n       * Event name to listen for closing the context menu.\n       */\n      closeOn: {\n        type: String,\n        value: 'click',\n        observer: '_closeOnChanged'\n      },\n\n      /**\n       * Custom function for rendering the content of the menu overlay.\n       * Receives three arguments:\n       *\n       * - `root` The root container DOM element. Append your content to it.\n       * - `contextMenu` The reference to the `<vaadin-context-menu>` element.\n       * - `context` The object with the menu context, contains:\n       *   - `context.target`  the target of the menu opening event,\n       *   - `context.detail` the menu opening event detail.\n       */\n      renderer: {\n        type: Function\n      },\n      _context: Object,\n      _boundClose: Object,\n      _boundOpen: Object,\n      _contentTemplate: Object,\n      _oldTemplate: Object,\n      _oldRenderer: Object,\n      _touch: Boolean\n    };\n  }\n\n  static get observers() {\n    return ['_openedChanged(opened)', '_contextChanged(_context, _instance)', '_targetOrOpenOnChanged(listenOn, openOn)', '_templateOrRendererChanged(_contentTemplate, renderer, _context, items)'];\n  }\n\n  constructor() {\n    super();\n    this._boundOpen = this.open.bind(this);\n    this._boundClose = this.close.bind(this);\n    this._boundOnGlobalContextMenu = this._onGlobalContextMenu.bind(this);\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n    this.__boundOnScroll = this.__onScroll.bind(this);\n    window.addEventListener('scroll', this.__boundOnScroll, true);\n  }\n\n  disconnectedCallback() {\n    super.disconnectedCallback();\n    window.removeEventListener('scroll', this.__boundOnScroll, true);\n  }\n\n  ready() {\n    super.ready();\n    this._observer = new FlattenedNodesObserver(this, info => {\n      this._setTemplateFromNodes(info.addedNodes);\n    });\n  }\n\n  _setTemplateFromNodes(nodes) {\n    this._contentTemplate = nodes.filter(node => node.localName && node.localName === 'template')[0] || this._contentTemplate;\n  } // Runs before overlay is fully rendered\n\n\n  _onOverlayOpened(e) {\n    this._setOpened(e.detail.value);\n  } // Runs after overlay is fully rendered\n\n\n  _onVaadinOverlayOpen(e) {\n    this.__alignOverlayPosition();\n\n    this.$.overlay.style.opacity = '';\n\n    this.__forwardFocus();\n  }\n\n  _targetOrOpenOnChanged(listenOn, openOn) {\n    if (this._oldListenOn && this._oldOpenOn) {\n      this._unlisten(this._oldListenOn, this._oldOpenOn, this._boundOpen);\n\n      this._oldListenOn.style.webkitTouchCallout = '';\n      this._oldListenOn.style.webkitUserSelect = '';\n      this._oldListenOn = null;\n      this._oldOpenOn = null;\n    }\n\n    if (listenOn && openOn) {\n      this._listen(listenOn, openOn, this._boundOpen); // note: these styles don't seem to work in Firefox on iOS.\n\n\n      listenOn.style.webkitTouchCallout = 'none';\n      listenOn.style.webkitUserSelect = 'none';\n      this._oldListenOn = listenOn;\n      this._oldOpenOn = openOn;\n    }\n  }\n\n  _closeOnChanged(closeOn, oldCloseOn) {\n    // Listen on this.$.overlay.root to workaround issue on\n    //  ShadyDOM polyfill: https://github.com/webcomponents/shadydom/issues/159\n    // Outside click event from overlay\n    const evtOverlay = 'vaadin-overlay-outside-click';\n\n    if (oldCloseOn) {\n      this._unlisten(this.$.overlay, oldCloseOn, this._boundClose);\n\n      this._unlisten(this.$.overlay.root, oldCloseOn, this._boundClose);\n    }\n\n    if (closeOn) {\n      this._listen(this.$.overlay, closeOn, this._boundClose);\n\n      this._listen(this.$.overlay.root, closeOn, this._boundClose);\n\n      this._unlisten(this.$.overlay, evtOverlay, this._preventDefault);\n    } else {\n      this._listen(this.$.overlay, evtOverlay, this._preventDefault);\n    }\n  }\n\n  _preventDefault(e) {\n    e.preventDefault();\n  }\n\n  _openedChanged(opened) {\n    if (opened) {\n      if (!this._instance) {\n        this.$.overlay.template = this.querySelector('template');\n        this._instance = this.$.overlay._instance;\n      }\n\n      document.documentElement.addEventListener('contextmenu', this._boundOnGlobalContextMenu, true);\n    } else {\n      document.documentElement.removeEventListener('contextmenu', this._boundOnGlobalContextMenu, true);\n    } // Has to be set after instance has been created\n\n\n    this.$.overlay.opened = opened;\n  }\n  /**\n   * Manually invoke existing renderer.\n   */\n\n\n  render() {\n    this.$.overlay.render();\n  }\n\n  _removeNewRendererOrTemplate(template, oldTemplate, renderer, oldRenderer) {\n    if (template !== oldTemplate) {\n      this._contentTemplate = undefined;\n    } else if (renderer !== oldRenderer) {\n      this.renderer = undefined;\n    }\n  }\n\n  _templateOrRendererChanged(template, renderer, context, items) {\n    if (template && renderer) {\n      this._removeNewRendererOrTemplate(template, this._oldTemplate, renderer, this._oldRenderer);\n\n      throw new Error('You should only use either a renderer or a template for context-menu content');\n    }\n\n    this._oldTemplate = template;\n    this._oldRenderer = renderer;\n\n    if (items) {\n      if (template || renderer) {\n        throw new Error('The items API cannot be used together with a template/renderer');\n      }\n\n      if (this.closeOn === 'click') {\n        this.closeOn = '';\n      }\n\n      renderer = this.__itemsRenderer;\n    }\n\n    if (renderer && context) {\n      this.$.overlay.setProperties({\n        owner: this,\n        renderer: renderer\n      });\n    }\n  }\n\n  _contextChanged(context, instance) {\n    if (context === undefined || instance === undefined) {\n      return;\n    }\n\n    instance.detail = context.detail;\n    instance.target = context.target;\n  }\n  /**\n   * Closes the overlay.\n   */\n\n\n  close() {\n    this._setOpened(false);\n  }\n\n  _contextTarget(e) {\n    if (this.selector) {\n      const targets = this.listenOn.querySelectorAll(this.selector);\n      return Array.prototype.filter.call(targets, el => {\n        return e.composedPath().indexOf(el) > -1;\n      })[0];\n    } else {\n      return e.target;\n    }\n  }\n  /**\n   * Opens the overlay.\n   * @param {Event} e used as the context for the menu. Overlay coordinates are taken from this event.\n   */\n\n\n  open(e) {\n    if (e && !this.opened) {\n      this._context = {\n        detail: e.detail,\n        target: this._contextTarget(e)\n      };\n\n      if (this._context.target) {\n        this._preventDefault(e);\n\n        e.stopPropagation(); // Used in alignment which is delayed until overlay is rendered\n\n        this.__x = this._getEventCoordinate(e, 'x');\n        this.__pageXOffset = window.pageXOffset;\n        this.__y = this._getEventCoordinate(e, 'y');\n        this.__pageYOffset = window.pageYOffset;\n        this.$.overlay.style.opacity = '0';\n\n        this._setOpened(true);\n      }\n    }\n  }\n\n  __onScroll() {\n    if (!this.opened) {\n      return;\n    }\n\n    const yDiff = window.pageYOffset - this.__pageYOffset;\n    const xDiff = window.pageXOffset - this.__pageXOffset;\n\n    this.__adjustPosition('left', -xDiff);\n\n    this.__adjustPosition('right', xDiff);\n\n    this.__adjustPosition('top', -yDiff);\n\n    this.__adjustPosition('bottom', yDiff);\n\n    this.__pageYOffset += yDiff;\n    this.__pageXOffset += xDiff;\n  }\n\n  __adjustPosition(coord, diff) {\n    const overlay = this.$.overlay;\n    const style = overlay.style;\n    style[coord] = (parseInt(style[coord]) || 0) + diff + 'px';\n  }\n\n  __alignOverlayPosition() {\n    const overlay = this.$.overlay;\n    const style = overlay.style; // Reset all properties before measuring\n\n    ['top', 'right', 'bottom', 'left'].forEach(prop => style.removeProperty(prop));\n    ['right-aligned', 'bottom-aligned'].forEach(attr => overlay.removeAttribute(attr)); // Maximum x and y values are imposed by content size and overlay limits.\n\n    const {\n      xMax,\n      yMax,\n      left,\n      top,\n      width\n    } = overlay.getBoundaries(); // Reuse saved x and y event values, in order to this method be used async\n    // in the `vaadin-overlay-change` which guarantees that overlay is ready\n\n    const x = this.__x || left;\n    const y = this.__y || top; // Select one overlay corner and move to the event x/y position.\n    // Then set styling attrs for flex-aligning the content appropriately.\n\n    const wdthVport = document.documentElement.clientWidth;\n    const hghtVport = document.documentElement.clientHeight; // Align to the parent menu overlay, if any.\n\n    const parent = overlay.parentOverlay;\n    let alignedToParent = false;\n\n    if (parent) {\n      const parentContentRect = parent.$.overlay.getBoundingClientRect();\n\n      if (parent.hasAttribute('right-aligned')) {\n        const parentStyle = getComputedStyle(parent);\n\n        const getPadding = (el, direction) => {\n          return parseFloat(getComputedStyle(el.$.content)['padding' + direction]);\n        };\n\n        const right = parseFloat(parentStyle.right) + parentContentRect.width;\n        const padding = getPadding(parent, 'Left') + getPadding(overlay, 'Right'); // Preserve right-aligned, if possible.\n\n        if (wdthVport - (right - padding) > width) {\n          overlay.setAttribute('right-aligned', '');\n          style.right = right - padding + 'px';\n          alignedToParent = true;\n        }\n      }\n    }\n\n    if (!alignedToParent) {\n      if (x < wdthVport / 2 || x < xMax) {\n        style.left = x + 'px';\n      } else {\n        style.right = Math.max(0, wdthVport - x) + 'px';\n        overlay.setAttribute('right-aligned', '');\n      }\n    }\n\n    if (y < hghtVport / 2 || y < yMax) {\n      style.top = y + 'px';\n    } else {\n      style.bottom = Math.max(0, hghtVport - y) + 'px';\n      overlay.setAttribute('bottom-aligned', '');\n    }\n  }\n\n  _getEventCoordinate(event, coord) {\n    if (event.detail instanceof Object) {\n      if (event.detail[coord]) {\n        // Polymer gesture events, get coordinate from detail\n        return event.detail[coord];\n      } else if (event.detail.sourceEvent) {\n        // Unwrap detailed event\n        return this._getEventCoordinate(event.detail.sourceEvent, coord);\n      }\n    } else {\n      const prop = 'client' + coord.toUpperCase();\n      const position = event.changedTouches ? event.changedTouches[0][prop] : event[prop];\n\n      if (position === 0) {\n        // Native keyboard event\n        const rect = event.target.getBoundingClientRect();\n        return coord === 'x' ? rect.left : rect.top + rect.height;\n      } else {\n        // Native mouse or touch event\n        return position;\n      }\n    }\n  }\n\n  _listen(node, evType, handler) {\n    if (gestures[evType]) {\n      addListener(node, evType, handler);\n    } else {\n      node.addEventListener(evType, handler);\n    }\n  }\n\n  _unlisten(node, evType, handler) {\n    if (gestures[evType]) {\n      removeListener(node, evType, handler);\n    } else {\n      node.removeEventListener(evType, handler);\n    }\n  }\n\n  _onGlobalContextMenu(e) {\n    if (!e.shiftKey) {\n      e.preventDefault();\n      this.close();\n    }\n  }\n  /**\n   * Fired when an item is selected when the context menu is populated using the `items` API.\n   *\n   * @event item-selected\n   * @param {Object} detail\n   * @param {Object} detail.value the selected menu item\n   */\n\n\n}\n\ncustomElements.define(ContextMenuElement.is, ContextMenuElement);\nexport { ContextMenuElement };","import \"../../../vaadin-lumo-styles/sizing.js\";\nimport \"../../../vaadin-lumo-styles/spacing.js\";\nimport \"../../../vaadin-lumo-styles/mixins/menu-overlay.js\";\nimport { html } from \"@polymer/polymer/lib/utils/html-tag.js\";\nconst $_documentContainer = html`<dom-module id=\"lumo-date-picker-overlay\" theme-for=\"vaadin-date-picker-overlay\">\n  <template>\n    <style include=\"lumo-menu-overlay\">\n      [part=\"overlay\"] {\n        /*\n        Width:\n            date cell widths\n          + month calendar side padding\n          + year scroller width\n        */\n        width:\n          calc(\n              var(--lumo-size-m) * 7\n            + var(--lumo-space-xs) * 2\n            + 57px\n          );\n        height: 100%;\n        max-height: calc(var(--lumo-size-m) * 14);\n        overflow: hidden;\n        -webkit-tap-highlight-color: transparent;\n      }\n\n      [part=\"overlay\"] {\n        flex-direction: column;\n      }\n\n      [part=\"content\"] {\n        padding: 0;\n        height: 100%;\n        overflow: hidden;\n        -webkit-mask-image: none;\n        mask-image: none;\n      }\n\n      @media (max-width: 420px), (max-height: 420px) {\n        [part=\"overlay\"] {\n          width: 100vw;\n          height: 70vh;\n          max-height: 70vh;\n        }\n      }\n    </style>\n  </template>\n</dom-module>`;\ndocument.head.appendChild($_documentContainer.content);","import \"../../../vaadin-lumo-styles/color.js\";\nimport \"../../../vaadin-lumo-styles/sizing.js\";\nimport \"../../../vaadin-lumo-styles/spacing.js\";\nimport \"../../../vaadin-lumo-styles/style.js\";\nimport \"../../../vaadin-lumo-styles/typography.js\";\nimport \"../../../vaadin-button/theme/lumo/vaadin-button.js\";\nimport { html } from \"@polymer/polymer/lib/utils/html-tag.js\";\nconst $_documentContainer = html`<dom-module id=\"lumo-date-picker-overlay-content\" theme-for=\"vaadin-date-picker-overlay-content\">\n  <template>\n    <style>\n      :host {\n        position: relative;\n        background-color: transparent;\n        /* Background for the year scroller, placed here as we are using a mask image on the actual years part */\n        background-image: linear-gradient(var(--lumo-shade-5pct), var(--lumo-shade-5pct));\n        background-size: 57px 100%;\n        background-position: top right;\n        background-repeat: no-repeat;\n        cursor: default;\n      }\n\n      /* Month scroller */\n\n      [part=\"months\"] {\n        /* Month calendar height:\n              header height + margin-bottom\n            + weekdays height + margin-bottom\n            + date cell heights\n            + small margin between month calendars\n        */\n        --vaadin-infinite-scroller-item-height:\n          calc(\n              var(--lumo-font-size-l) + var(--lumo-space-m)\n            + var(--lumo-font-size-xs) + var(--lumo-space-s)\n            + var(--lumo-size-m) * 6\n            + var(--lumo-space-s)\n          );\n        --vaadin-infinite-scroller-buffer-offset: 20%;\n        -webkit-mask-image: linear-gradient(transparent, #000 10%, #000 85%, transparent);\n        mask-image: linear-gradient(transparent, #000 10%, #000 85%, transparent);\n        position: relative;\n        margin-right: 57px;\n      }\n\n      /* Year scroller */\n\n      [part=\"years\"] {\n        /* TODO get rid of fixed magic number */\n        --vaadin-infinite-scroller-buffer-width: 97px;\n        width: 57px;\n        height: auto;\n        top: 0;\n        bottom: 0;\n        font-size: var(--lumo-font-size-s);\n        box-shadow: inset 2px 0 4px 0 var(--lumo-shade-5pct);\n        -webkit-mask-image: linear-gradient(transparent, #000 35%, #000 65%, transparent);\n        mask-image: linear-gradient(transparent, #000 35%, #000 65%, transparent);\n      }\n\n      [part=\"year-number\"],\n      [part=\"year-separator\"] {\n        opacity: 0.5;\n        transition: 0.2s opacity;\n      }\n\n      [part=\"years\"]:hover [part=\"year-number\"],\n      [part=\"years\"]:hover [part=\"year-separator\"] {\n        opacity: 1;\n      }\n\n      /* TODO unsupported selector */\n      #scrollers {\n        position: static;\n        display: block;\n      }\n\n      /* TODO unsupported selector, should fix this in vaadin-date-picker that it adapts to the\n       * width of the year scroller */\n      #scrollers[desktop] [part=\"months\"] {\n        right: auto;\n      }\n\n      /* Year scroller position indicator */\n      [part=\"years\"]::before {\n        border: none;\n        width: 1em;\n        height: 1em;\n        background-color: var(--lumo-base-color);\n        background-image: linear-gradient(var(--lumo-tint-5pct), var(--lumo-tint-5pct));\n        transform: translate(-75%, -50%) rotate(45deg);\n        border-top-right-radius: calc(var(--lumo-border-radius) / 2);\n        box-shadow: 2px -2px 6px 0 var(--lumo-shade-5pct);\n        z-index: 1;\n      }\n\n      [part=\"year-number\"],\n      [part=\"year-separator\"] {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        height: 50%;\n        transform: translateY(-50%);\n      }\n\n      [part=\"years\"] [part=\"year-separator\"]::after {\n        color: var(--lumo-disabled-text-color);\n        content: \"•\";\n      }\n\n      /* Current year */\n\n      [part=\"years\"] [part=\"year-number\"][current] {\n        color: var(--lumo-primary-text-color);\n      }\n\n      /* Toolbar (footer) */\n\n      [part=\"toolbar\"] {\n        padding: var(--lumo-space-s);\n        box-shadow: 0 -1px 0 0 var(--lumo-contrast-10pct);\n        border-bottom-left-radius: var(--lumo-border-radius);\n        margin-right: 57px;\n      }\n\n      @supports (mask-image: linear-gradient(#000, #000)) or (-webkit-mask-image: linear-gradient(#000, #000)) {\n        [part=\"toolbar\"] {\n          box-shadow: none;\n        }\n      }\n\n      /* Today and Cancel buttons */\n\n      /* TODO: Would be great if I could apply the \"tertiary\" theme from here instead of copying those styles */\n      [part=\"toolbar\"] [part\\$=\"button\"] {\n        background-color: transparent;\n        margin: 0;\n        min-width: 0;\n        padding: 0 0.75em;\n      }\n\n      /* Narrow viewport mode (fullscreen) */\n\n      :host([fullscreen]) [part=\"toolbar\"] {\n        order: -1;\n        background-color: var(--lumo-base-color);\n      }\n\n      :host([fullscreen]) [part=\"overlay-header\"] {\n        order: -2;\n        height: var(--lumo-size-m);\n        padding: var(--lumo-space-s);\n        position: absolute;\n        left: 0;\n        right: 0;\n        justify-content: center;\n      }\n\n      :host([fullscreen]) [part=\"toggle-button\"],\n      :host([fullscreen]) [part=\"clear-button\"],\n      [part=\"overlay-header\"] [part=\"label\"] {\n        display: none;\n      }\n\n      /* Very narrow screen (year scroller initially hidden) */\n\n      [part=\"years-toggle-button\"] {\n        position: relative;\n        right: auto;\n        display: flex;\n        align-items: center;\n        height: var(--lumo-size-s);\n        padding: 0 0.5em;\n        border-radius: var(--lumo-border-radius);\n        z-index: 3;\n        color: var(--lumo-primary-text-color);\n        font-weight: 500;\n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: grayscale;\n      }\n\n      :host([years-visible]) [part=\"years-toggle-button\"] {\n        background-color: var(--lumo-primary-color);\n        color: var(--lumo-primary-contrast-color);\n      }\n\n      [part=\"years-toggle-button\"]::before {\n        content: none;\n      }\n\n      /* TODO magic number (same as used for iron-media-query in vaadin-date-picker-overlay-content) */\n      @media screen and (max-width: 374px) {\n        :host {\n          background-image: none;\n        }\n\n        [part=\"years\"] {\n          background-color: var(--lumo-shade-5pct);\n        }\n\n        [part=\"toolbar\"],\n        [part=\"months\"] {\n          margin-right: 0;\n        }\n\n        /* TODO make date-picker adapt to the width of the years part */\n        [part=\"years\"] {\n          --vaadin-infinite-scroller-buffer-width: 90px;\n          width: 50px;\n        }\n\n        :host([years-visible]) [part=\"months\"] {\n          padding-left: 50px;\n        }\n      }\n    </style>\n  </template>\n</dom-module>`;\ndocument.head.appendChild($_documentContainer.content);","import \"../../../vaadin-lumo-styles/color.js\";\nimport \"../../../vaadin-lumo-styles/sizing.js\";\nimport \"../../../vaadin-lumo-styles/spacing.js\";\nimport \"../../../vaadin-lumo-styles/style.js\";\nimport \"../../../vaadin-lumo-styles/typography.js\";\nimport { html } from \"@polymer/polymer/lib/utils/html-tag.js\";\nconst $_documentContainer = html`<dom-module id=\"lumo-month-calendar\" theme-for=\"vaadin-month-calendar\">\n  <template>\n    <style>\n      :host {\n        -moz-user-select: none;\n        -ms-user-select: none;\n        -webkit-user-select: none;\n        -webkit-tap-highlight-color: transparent;\n        user-select: none;\n        font-size: var(--lumo-font-size-m);\n        color: var(--lumo-body-text-color);\n        text-align: center;\n        padding: 0 var(--lumo-space-xs);\n      }\n\n      /* Month header */\n\n      [part=\"month-header\"] {\n        color: var(--lumo-header-text-color);\n        font-size: var(--lumo-font-size-l);\n        line-height: 1;\n        font-weight: 500;\n        margin-bottom: var(--lumo-space-m);\n      }\n\n      /* Week days and numbers */\n\n      [part=\"weekdays\"],\n      [part=\"weekday\"],\n      [part=\"week-numbers\"] {\n        font-size: var(--lumo-font-size-xs);\n        line-height: 1;\n        color: var(--lumo-tertiary-text-color);\n      }\n\n      [part=\"weekdays\"] {\n        margin-bottom: var(--lumo-space-s);\n      }\n\n      /* TODO should have part=\"week-number\" for the cell in weekdays-container */\n      [part=\"weekday\"]:empty,\n      [part=\"week-numbers\"] {\n        width: var(--lumo-size-xs);\n      }\n\n      /* Date and week number cells */\n\n      [part=\"date\"],\n      [part=\"week-number\"] {\n        box-sizing: border-box;\n        display: inline-flex;\n        align-items: center;\n        justify-content: center;\n        height: var(--lumo-size-m);\n        position: relative;\n      }\n\n      [part=\"date\"] {\n        transition: color 0.1s;\n      }\n\n      /* Today date */\n\n      [part=\"date\"][today] {\n        color: var(--lumo-primary-text-color);\n      }\n\n      /* Focused date */\n\n      [part=\"date\"]::before {\n        content: \"\";\n        position: absolute;\n        z-index: -1;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n        min-width: 2em;\n        min-height: 2em;\n        width: 80%;\n        height: 80%;\n        max-height: 100%;\n        max-width: 100%;\n        border-radius: var(--lumo-border-radius);\n      }\n\n      [part=\"date\"][focused]::before {\n        box-shadow: 0 0 0 2px var(--lumo-primary-color-50pct);\n      }\n\n      :host(:not([focused])) [part=\"date\"][focused]::before {\n        animation: vaadin-date-picker-month-calendar-focus-date 1.4s infinite;\n      }\n\n      @keyframes vaadin-date-picker-month-calendar-focus-date {\n        50% {\n          box-shadow: 0 0 0 2px transparent;\n        }\n      }\n\n      /* TODO should not rely on the role attribute */\n      [part=\"date\"][role=\"button\"]:not([disabled]):not([selected]):hover::before {\n        background-color: var(--lumo-primary-color-10pct);\n      }\n\n      [part=\"date\"][selected] {\n        color: var(--lumo-primary-contrast-color);\n      }\n\n      [part=\"date\"][selected]::before {\n        background-color: var(--lumo-primary-color);\n      }\n\n      [part=\"date\"][disabled] {\n        color: var(--lumo-disabled-text-color);\n      }\n\n      @media (pointer: coarse) {\n        [part=\"date\"]:hover:not([selected])::before,\n        [part=\"date\"][focused]:not([selected])::before {\n          display: none;\n        }\n\n        [part=\"date\"][role=\"button\"]:not([disabled]):active::before {\n          display: block;\n        }\n\n        [part=\"date\"][selected]::before {\n          box-shadow: none;\n        }\n      }\n\n      /* Disabled */\n\n      :host([disabled]) * {\n        color: var(--lumo-disabled-text-color) !important;\n      }\n    </style>\n  </template>\n</dom-module><custom-style>\n  <style>\n    @keyframes vaadin-date-picker-month-calendar-focus-date {\n      50% {\n        box-shadow: 0 0 0 2px transparent;\n      }\n    }\n  </style>\n</custom-style>`;\ndocument.head.appendChild($_documentContainer.content);","import \"../../../vaadin-lumo-styles/font-icons.js\";\nimport \"../../../vaadin-lumo-styles/mixins/field-button.js\";\nimport \"../../../vaadin-text-field/theme/lumo/vaadin-text-field.js\";\nimport { html } from \"@polymer/polymer/lib/utils/html-tag.js\";\nconst $_documentContainer = html`<dom-module id=\"lumo-date-picker\" theme-for=\"vaadin-date-picker\">\n  <template>\n    <style include=\"lumo-field-button\">\n      :host {\n        outline: none;\n      }\n\n      [part=\"toggle-button\"]::before {\n        content: var(--lumo-icons-calendar);\n      }\n\n      [part=\"clear-button\"]::before {\n        content: var(--lumo-icons-cross);\n      }\n\n      @media (max-width: 420px), (max-height: 420px) {\n        [part=\"overlay-content\"] {\n          height: 70vh;\n        }\n      }\n    </style>\n  </template>\n</dom-module>`;\ndocument.head.appendChild($_documentContainer.content);","/**\n@license\nCopyright (c) 2017 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\nimport { OverlayElement } from \"../../vaadin-overlay/src/vaadin-overlay.js\";\nimport { DisableUpgradeMixin } from \"@polymer/polymer/lib/mixins/disable-upgrade-mixin.js\";\n/**\n * The overlay element.\n *\n * ### Styling\n *\n * See [`<vaadin-overlay>` documentation](https://github.com/vaadin/vaadin-overlay/blob/master/src/vaadin-overlay.html)\n * for `<vaadin-date-picker-overlay>` parts.\n *\n * See [ThemableMixin – how to apply styles for shadow parts](https://github.com/vaadin/vaadin-themable-mixin/wiki)\n *\n * @memberof Vaadin\n * @private\n */\n\nclass DatePickerOverlayElement extends DisableUpgradeMixin(OverlayElement) {\n  static get is() {\n    return 'vaadin-date-picker-overlay';\n  }\n\n}\n\ncustomElements.define(DatePickerOverlayElement.is, DatePickerOverlayElement);","/**\n@license\nCopyright (c) 2017 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\nexport const DatePickerHelper = class VaadinDatePickerHelper {\n  /**\n   * Get ISO 8601 week number for the given date.\n   *\n   * @param {Date} Date object\n   * @return {Number} Week number\n   */\n  static _getISOWeekNumber(date) {\n    // Ported from Vaadin Framework method com.vaadin.client.DateTimeService.getISOWeekNumber(date)\n    var dayOfWeek = date.getDay(); // 0 == sunday\n    // ISO 8601 use weeks that start on monday so we use\n    // mon=1,tue=2,...sun=7;\n\n    if (dayOfWeek === 0) {\n      dayOfWeek = 7;\n    } // Find nearest thursday (defines the week in ISO 8601). The week number\n    // for the nearest thursday is the same as for the target date.\n\n\n    var nearestThursdayDiff = 4 - dayOfWeek; // 4 is thursday\n\n    var nearestThursday = new Date(date.getTime() + nearestThursdayDiff * 24 * 3600 * 1000);\n    var firstOfJanuary = new Date(0, 0);\n    firstOfJanuary.setFullYear(nearestThursday.getFullYear());\n    var timeDiff = nearestThursday.getTime() - firstOfJanuary.getTime(); // Rounding the result, as the division doesn't result in an integer\n    // when the given date is inside daylight saving time period.\n\n    var daysSinceFirstOfJanuary = Math.round(timeDiff / (24 * 3600 * 1000));\n    return Math.floor(daysSinceFirstOfJanuary / 7 + 1);\n  }\n  /**\n   * Check if two dates are equal.\n   *\n   * @param {Date} date1\n   * @param {Date} date2\n   * @return {Boolean} True if the given date objects refer to the same date\n   */\n\n\n  static _dateEquals(date1, date2) {\n    return date1 instanceof Date && date2 instanceof Date && date1.getFullYear() === date2.getFullYear() && date1.getMonth() === date2.getMonth() && date1.getDate() === date2.getDate();\n  }\n  /**\n   * Check if the given date is in the range of allowed dates.\n   *\n   * @param {Date} date The date to check\n   * @param {Date} min Range start\n   * @param {Date} max Range end\n   * @return {Boolean} True if the date is in the range\n   */\n\n\n  static _dateAllowed(date, min, max) {\n    return (!min || date >= min) && (!max || date <= max);\n  }\n  /**\n   * Get closest date from array of dates.\n   *\n   * @param {Date} date The date to compare dates with\n   * @param {Array} dates Array of date objects\n   * @return {Date} Closest date\n   */\n\n\n  static _getClosestDate(date, dates) {\n    return dates.filter(date => date !== undefined).reduce((closestDate, candidate) => {\n      if (!candidate) {\n        return closestDate;\n      }\n\n      if (!closestDate) {\n        return candidate;\n      }\n\n      var candidateDiff = Math.abs(date.getTime() - candidate.getTime());\n      var closestDateDiff = Math.abs(closestDate.getTime() - date.getTime());\n      return candidateDiff < closestDateDiff ? candidate : closestDate;\n    });\n  }\n  /**\n   * Extracts the basic component parts of a date (day, month and year)\n   * to the expected format.\n   */\n\n\n  static _extractDateParts(date) {\n    return {\n      day: date.getDate(),\n      month: date.getMonth(),\n      year: date.getFullYear()\n    };\n  }\n\n};","/**\n@license\nCopyright (c) 2017 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\nimport { PolymerElement } from \"@polymer/polymer/polymer-element.js\";\nimport \"@polymer/polymer/lib/elements/dom-repeat.js\";\nimport { GestureEventListeners } from \"@polymer/polymer/lib/mixins/gesture-event-listeners.js\";\nimport { DatePickerHelper } from './vaadin-date-picker-helper.js';\nimport { ThemableMixin } from \"../../vaadin-themable-mixin/vaadin-themable-mixin.js\";\nimport { html } from \"@polymer/polymer/lib/utils/html-tag.js\";\n/**\n * @memberof Vaadin\n * @private\n */\n\nclass MonthCalendarElement extends ThemableMixin(GestureEventListeners(PolymerElement)) {\n  static get template() {\n    return html`\n    <style>\n      :host {\n        display: block;\n      }\n\n      [part=\"weekdays\"],\n      #days {\n        display: flex;\n        flex-wrap: wrap;\n        flex-grow: 1;\n      }\n\n      #days-container,\n      #weekdays-container {\n        display: flex;\n      }\n\n      [part=\"week-numbers\"] {\n        display: flex;\n        flex-direction: column;\n        justify-content: space-between;\n        flex-shrink: 0;\n      }\n\n      [part=\"week-numbers\"][hidden],\n      [part=\"weekday\"][hidden] {\n        display: none;\n      }\n\n      [part=\"weekday\"],\n      [part=\"date\"] {\n        /* Would use calc(100% / 7) but it doesn't work nice on IE */\n        width: 14.285714286%;\n      }\n\n      [part=\"weekday\"]:empty,\n      [part=\"week-numbers\"] {\n        width: 12.5%;\n        flex-shrink: 0;\n      }\n    </style>\n\n    <div part=\"month-header\" role=\"heading\">[[_getTitle(month, i18n.monthNames)]]</div>\n    <div id=\"monthGrid\" on-tap=\"_handleTap\" on-touchend=\"_preventDefault\" on-touchstart=\"_onMonthGridTouchStart\">\n      <div id=\"weekdays-container\">\n        <div hidden=\"[[!_showWeekSeparator(showWeekNumbers, i18n.firstDayOfWeek)]]\" part=\"weekday\"></div>\n        <div part=\"weekdays\">\n          <template is=\"dom-repeat\" items=\"[[_getWeekDayNames(i18n.weekdays, i18n.weekdaysShort, showWeekNumbers, i18n.firstDayOfWeek)]]\">\n            <div part=\"weekday\" role=\"heading\" aria-label\\$=\"[[item.weekDay]]\">[[item.weekDayShort]]</div>\n          </template>\n        </div>\n      </div>\n      <div id=\"days-container\">\n        <div part=\"week-numbers\" hidden=\"[[!_showWeekSeparator(showWeekNumbers, i18n.firstDayOfWeek)]]\">\n          <template is=\"dom-repeat\" items=\"[[_getWeekNumbers(_days)]]\">\n            <div part=\"week-number\" role=\"heading\" aria-label\\$=\"[[i18n.week]] [[item]]\">[[item]]</div>\n          </template>\n        </div>\n        <div id=\"days\">\n          <template is=\"dom-repeat\" items=\"[[_days]]\">\n            <div part=\"date\" today\\$=\"[[_isToday(item)]]\" selected\\$=\"[[_dateEquals(item, selectedDate)]]\" focused\\$=\"[[_dateEquals(item, focusedDate)]]\" date=\"[[item]]\" disabled\\$=\"[[!_dateAllowed(item, minDate, maxDate)]]\" role\\$=\"[[_getRole(item)]]\" aria-label\\$=\"[[_getAriaLabel(item)]]\" aria-disabled\\$=\"[[_getAriaDisabled(item, minDate, maxDate)]]\">[[_getDate(item)]]</div>\n          </template>\n        </div>\n      </div>\n    </div>\n`;\n  }\n\n  static get is() {\n    return 'vaadin-month-calendar';\n  }\n\n  static get properties() {\n    return {\n      /**\n       * A `Date` object defining the month to be displayed. Only year and\n       * month properties are actually used.\n       */\n      month: {\n        type: Date,\n        value: new Date()\n      },\n\n      /**\n       * A `Date` object for the currently selected date.\n       */\n      selectedDate: {\n        type: Date,\n        notify: true\n      },\n\n      /**\n       * A `Date` object for the currently focused date.\n       */\n      focusedDate: Date,\n      showWeekNumbers: {\n        type: Boolean,\n        value: false\n      },\n      i18n: {\n        type: Object\n      },\n\n      /**\n       * Flag stating whether taps on the component should be ignored.\n       */\n      ignoreTaps: Boolean,\n      _notTapping: Boolean,\n\n      /**\n       * The earliest date that can be selected. All earlier dates will be disabled.\n       */\n      minDate: {\n        type: Date,\n        value: null\n      },\n\n      /**\n       * The latest date that can be selected. All later dates will be disabled.\n       */\n      maxDate: {\n        type: Date,\n        value: null\n      },\n      _days: {\n        type: Array,\n        computed: '_getDays(month, i18n.firstDayOfWeek, minDate, maxDate)'\n      },\n      disabled: {\n        type: Boolean,\n        reflectToAttribute: true,\n        computed: '_isDisabled(month, minDate, maxDate)'\n      }\n    };\n  }\n\n  static get observers() {\n    return ['_showWeekNumbersChanged(showWeekNumbers, i18n.firstDayOfWeek)'];\n  }\n\n  _dateEquals(date1, date2) {\n    return DatePickerHelper._dateEquals(date1, date2);\n  }\n\n  _dateAllowed(date, min, max) {\n    return DatePickerHelper._dateAllowed(date, min, max);\n  }\n  /* Returns true if all the dates in the month are out of the allowed range */\n\n\n  _isDisabled(month, minDate, maxDate) {\n    // First day of the month\n    var firstDate = new Date(0, 0);\n    firstDate.setFullYear(month.getFullYear());\n    firstDate.setMonth(month.getMonth());\n    firstDate.setDate(1); // Last day of the month\n\n    var lastDate = new Date(0, 0);\n    lastDate.setFullYear(month.getFullYear());\n    lastDate.setMonth(month.getMonth() + 1);\n    lastDate.setDate(0);\n\n    if (minDate && maxDate && minDate.getMonth() === maxDate.getMonth() && minDate.getMonth() === month.getMonth() && maxDate.getDate() - minDate.getDate() >= 0) {\n      return false;\n    }\n\n    return !this._dateAllowed(firstDate, minDate, maxDate) && !this._dateAllowed(lastDate, minDate, maxDate);\n  }\n\n  _getTitle(month, monthNames) {\n    if (month === undefined || monthNames === undefined) {\n      return;\n    }\n\n    return this.i18n.formatTitle(monthNames[month.getMonth()], month.getFullYear());\n  }\n\n  _onMonthGridTouchStart() {\n    this._notTapping = false;\n    setTimeout(() => this._notTapping = true, 300);\n  }\n\n  _dateAdd(date, delta) {\n    date.setDate(date.getDate() + delta);\n  }\n\n  _applyFirstDayOfWeek(weekDayNames, firstDayOfWeek) {\n    if (weekDayNames === undefined || firstDayOfWeek === undefined) {\n      return;\n    }\n\n    return weekDayNames.slice(firstDayOfWeek).concat(weekDayNames.slice(0, firstDayOfWeek));\n  }\n\n  _getWeekDayNames(weekDayNames, weekDayNamesShort, showWeekNumbers, firstDayOfWeek) {\n    if (weekDayNames === undefined || weekDayNamesShort === undefined || showWeekNumbers === undefined || firstDayOfWeek === undefined) {\n      return;\n    }\n\n    weekDayNames = this._applyFirstDayOfWeek(weekDayNames, firstDayOfWeek);\n    weekDayNamesShort = this._applyFirstDayOfWeek(weekDayNamesShort, firstDayOfWeek);\n    weekDayNames = weekDayNames.map((day, index) => {\n      return {\n        weekDay: day,\n        weekDayShort: weekDayNamesShort[index]\n      };\n    });\n    return weekDayNames;\n  }\n\n  _getDate(date) {\n    return date ? date.getDate() : '';\n  }\n\n  _showWeekNumbersChanged(showWeekNumbers, firstDayOfWeek) {\n    if (showWeekNumbers && firstDayOfWeek === 1) {\n      this.setAttribute('week-numbers', '');\n    } else {\n      this.removeAttribute('week-numbers');\n    }\n  }\n\n  _showWeekSeparator(showWeekNumbers, firstDayOfWeek) {\n    // Currently only supported for locales that start the week on Monday.\n    return showWeekNumbers && firstDayOfWeek === 1;\n  }\n\n  _isToday(date) {\n    return this._dateEquals(new Date(), date);\n  }\n\n  _getDays(month, firstDayOfWeek) {\n    if (month === undefined || firstDayOfWeek === undefined) {\n      return;\n    } // First day of the month (at midnight).\n\n\n    var date = new Date(0, 0);\n    date.setFullYear(month.getFullYear());\n    date.setMonth(month.getMonth());\n    date.setDate(1); // Rewind to first day of the week.\n\n    while (date.getDay() !== firstDayOfWeek) {\n      this._dateAdd(date, -1);\n    }\n\n    var days = [];\n    var startMonth = date.getMonth();\n    var targetMonth = month.getMonth();\n\n    while (date.getMonth() === targetMonth || date.getMonth() === startMonth) {\n      days.push(date.getMonth() === targetMonth ? new Date(date.getTime()) : null); // Advance to next day.\n\n      this._dateAdd(date, 1);\n    }\n\n    return days;\n  }\n\n  _getWeekNumber(date, days) {\n    if (date === undefined || days === undefined) {\n      return;\n    }\n\n    if (!date) {\n      // Get the first non-null date from the days array.\n      date = days.reduce((acc, d) => {\n        return !acc && d ? d : acc;\n      });\n    }\n\n    return DatePickerHelper._getISOWeekNumber(date);\n  }\n\n  _getWeekNumbers(dates) {\n    return dates.map(date => this._getWeekNumber(date, dates)).filter((week, index, arr) => arr.indexOf(week) === index);\n  }\n\n  _handleTap(e) {\n    if (!this.ignoreTaps && !this._notTapping && e.target.date && !e.target.hasAttribute('disabled')) {\n      this.selectedDate = e.target.date;\n      this.dispatchEvent(new CustomEvent('date-tap', {\n        bubbles: true,\n        composed: true\n      }));\n    }\n  }\n\n  _preventDefault(e) {\n    e.preventDefault();\n  }\n\n  _getRole(date) {\n    return date ? 'button' : 'presentation';\n  }\n\n  _getAriaLabel(date) {\n    if (!date) {\n      return '';\n    }\n\n    var ariaLabel = this._getDate(date) + ' ' + this.i18n.monthNames[date.getMonth()] + ' ' + date.getFullYear() + ', ' + this.i18n.weekdays[date.getDay()];\n\n    if (this._isToday(date)) {\n      ariaLabel += ', ' + this.i18n.today;\n    }\n\n    return ariaLabel;\n  }\n\n  _getAriaDisabled(date, min, max) {\n    if (date === undefined || min === undefined || max === undefined) {\n      return;\n    }\n\n    return this._dateAllowed(date, min, max) ? 'false' : 'true';\n  }\n\n}\n\ncustomElements.define(MonthCalendarElement.is, MonthCalendarElement);","/**\n@license\nCopyright (c) 2017 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\nimport { PolymerElement } from \"@polymer/polymer/polymer-element.js\";\nimport { timeOut } from \"@polymer/polymer/lib/utils/async.js\";\nimport { Debouncer } from \"@polymer/polymer/lib/utils/debounce.js\";\nimport { flush } from \"@polymer/polymer/lib/utils/flush.js\";\nimport { templatize } from \"@polymer/polymer/lib/utils/templatize.js\";\nimport { html } from \"@polymer/polymer/lib/utils/html-tag.js\";\nimport { afterNextRender } from \"@polymer/polymer/lib/utils/render-status.js\";\n/**\n * @memberof Vaadin\n * @private\n */\n\nclass InfiniteScrollerElement extends PolymerElement {\n  static get template() {\n    return html`\n    <style>\n      :host {\n        display: block;\n        overflow: hidden;\n        height: 500px;\n      }\n\n      #scroller {\n        position: relative;\n        height: 100%;\n        overflow: auto;\n        outline: none;\n        margin-right: -40px;\n        -webkit-overflow-scrolling: touch;\n        -ms-overflow-style: none;\n        overflow-x: hidden;\n      }\n\n      #scroller.notouchscroll {\n        -webkit-overflow-scrolling: auto;\n      }\n\n      #scroller::-webkit-scrollbar {\n        display: none;\n      }\n\n      .buffer {\n        position: absolute;\n        width: var(--vaadin-infinite-scroller-buffer-width, 100%);\n        box-sizing: border-box;\n        padding-right: 40px;\n        top: var(--vaadin-infinite-scroller-buffer-offset, 0);\n        animation: fadein 0.2s;\n      }\n\n      @keyframes fadein {\n        from { opacity: 0; }\n        to { opacity: 1; }\n      }\n    </style>\n\n    <div id=\"scroller\" on-scroll=\"_scroll\">\n      <div class=\"buffer\"></div>\n      <div class=\"buffer\"></div>\n      <div id=\"fullHeight\"></div>\n    </div>\n`;\n  }\n\n  static get is() {\n    return 'vaadin-infinite-scroller';\n  }\n\n  static get properties() {\n    return {\n      /**\n       * Count of individual items in each buffer.\n       * The scroller has 2 buffers altogether so bufferSize of 20\n       * will result in 40 buffered DOM items in total.\n       * Changing after initialization not supported.\n       */\n      bufferSize: {\n        type: Number,\n        value: 20\n      },\n\n      /**\n       * The amount of initial scroll top. Needed in order for the\n       * user to be able to scroll backwards.\n       */\n      _initialScroll: {\n        value: 500000\n      },\n\n      /**\n       * The index/position mapped at _initialScroll point.\n       */\n      _initialIndex: {\n        value: 0\n      },\n      _buffers: Array,\n      _preventScrollEvent: Boolean,\n      _mayHaveMomentum: Boolean,\n      _initialized: Boolean,\n      active: {\n        type: Boolean,\n        observer: '_activated'\n      }\n    };\n  }\n\n  ready() {\n    super.ready();\n    this._buffers = Array.prototype.slice.call(this.root.querySelectorAll('.buffer'));\n    this.$.fullHeight.style.height = this._initialScroll * 2 + 'px';\n    var tpl = this.querySelector('template');\n    this._TemplateClass = templatize(tpl, this, {\n      forwardHostProp: function (prop, value) {\n        if (prop !== 'index') {\n          this._buffers.forEach(buffer => {\n            [].forEach.call(buffer.children, insertionPoint => {\n              insertionPoint._itemWrapper.instance[prop] = value;\n            });\n          });\n        }\n      }\n    }); // Firefox interprets elements with overflow:auto as focusable\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=1069739\n\n    var isFirefox = navigator.userAgent.toLowerCase().indexOf('firefox') > -1;\n\n    if (isFirefox) {\n      this.$.scroller.tabIndex = -1;\n    }\n  }\n\n  _activated(active) {\n    if (active && !this._initialized) {\n      this._createPool();\n\n      this._initialized = true;\n    }\n  }\n\n  _finishInit() {\n    if (!this._initDone) {\n      // Once the first set of items start fading in, stamp the rest\n      this._buffers.forEach(buffer => {\n        [].forEach.call(buffer.children, insertionPoint => this._ensureStampedInstance(insertionPoint._itemWrapper));\n      }, this);\n\n      if (!this._buffers[0].translateY) {\n        this._reset();\n      }\n\n      this._initDone = true;\n    }\n  }\n\n  _translateBuffer(up) {\n    var index = up ? 1 : 0;\n    this._buffers[index].translateY = this._buffers[index ? 0 : 1].translateY + this._bufferHeight * (index ? -1 : 1);\n    this._buffers[index].style.transform = 'translate3d(0, ' + this._buffers[index].translateY + 'px, 0)';\n    this._buffers[index].updated = false;\n\n    this._buffers.reverse();\n  }\n\n  _scroll() {\n    if (this._scrollDisabled) {\n      return;\n    }\n\n    var scrollTop = this.$.scroller.scrollTop;\n\n    if (scrollTop < this._bufferHeight || scrollTop > this._initialScroll * 2 - this._bufferHeight) {\n      // Scrolled near the end/beginning of the scrollable area -> reset.\n      this._initialIndex = ~~this.position;\n\n      this._reset();\n    } // Check if we scrolled enough to translate the buffer positions.\n\n\n    var bufferOffset = this.root.querySelector('.buffer').offsetTop;\n    var upperThresholdReached = scrollTop > this._buffers[1].translateY + this.itemHeight + bufferOffset;\n    var lowerThresholdReached = scrollTop < this._buffers[0].translateY + this.itemHeight + bufferOffset;\n\n    if (upperThresholdReached || lowerThresholdReached) {\n      this._translateBuffer(lowerThresholdReached);\n\n      this._updateClones();\n    }\n\n    if (!this._preventScrollEvent) {\n      this.dispatchEvent(new CustomEvent('custom-scroll', {\n        bubbles: false,\n        composed: true\n      }));\n      this._mayHaveMomentum = true;\n    }\n\n    this._preventScrollEvent = false;\n    this._debouncerScrollFinish = Debouncer.debounce(this._debouncerScrollFinish, timeOut.after(200), () => {\n      var scrollerRect = this.$.scroller.getBoundingClientRect();\n\n      if (!this._isVisible(this._buffers[0], scrollerRect) && !this._isVisible(this._buffers[1], scrollerRect)) {\n        this.position = this.position;\n      }\n    });\n  }\n  /**\n   * Current scroller position as index. Can be a fractional number.\n   *\n   * @type {Number}\n   */\n\n\n  set position(index) {\n    this._preventScrollEvent = true;\n\n    if (index > this._firstIndex && index < this._firstIndex + this.bufferSize * 2) {\n      this.$.scroller.scrollTop = this.itemHeight * (index - this._firstIndex) + this._buffers[0].translateY;\n    } else {\n      this._initialIndex = ~~index;\n\n      this._reset();\n\n      this._scrollDisabled = true;\n      this.$.scroller.scrollTop += index % 1 * this.itemHeight;\n      this._scrollDisabled = false;\n    }\n\n    if (this._mayHaveMomentum) {\n      // Stop the possible iOS Safari momentum with -webkit-overflow-scrolling: auto;\n      this.$.scroller.classList.add('notouchscroll');\n      this._mayHaveMomentum = false;\n      setTimeout(() => {\n        // Restore -webkit-overflow-scrolling: touch; after a small delay.\n        this.$.scroller.classList.remove('notouchscroll');\n      }, 10);\n    }\n  }\n  /**\n   * @private\n   */\n\n\n  get position() {\n    return (this.$.scroller.scrollTop - this._buffers[0].translateY) / this.itemHeight + this._firstIndex;\n  }\n\n  get itemHeight() {\n    if (!this._itemHeightVal) {\n      if (!(window.ShadyCSS && window.ShadyCSS.nativeCss)) {\n        this.updateStyles();\n      }\n\n      const itemHeight = window.ShadyCSS ? window.ShadyCSS.getComputedStyleValue(this, '--vaadin-infinite-scroller-item-height') : getComputedStyle(this).getPropertyValue('--vaadin-infinite-scroller-item-height'); // Use background-position temp inline style for unit conversion\n\n      const tmpStyleProp = 'background-position';\n      this.$.fullHeight.style.setProperty(tmpStyleProp, itemHeight);\n      const itemHeightPx = getComputedStyle(this.$.fullHeight).getPropertyValue(tmpStyleProp);\n      this.$.fullHeight.style.removeProperty(tmpStyleProp);\n      this._itemHeightVal = parseFloat(itemHeightPx);\n    }\n\n    return this._itemHeightVal;\n  }\n\n  get _bufferHeight() {\n    return this.itemHeight * this.bufferSize;\n  }\n\n  _reset() {\n    this._scrollDisabled = true;\n    this.$.scroller.scrollTop = this._initialScroll;\n    this._buffers[0].translateY = this._initialScroll - this._bufferHeight;\n    this._buffers[1].translateY = this._initialScroll;\n\n    this._buffers.forEach(buffer => {\n      buffer.style.transform = 'translate3d(0, ' + buffer.translateY + 'px, 0)';\n    });\n\n    this._buffers[0].updated = this._buffers[1].updated = false;\n\n    this._updateClones(true);\n\n    this._debouncerUpdateClones = Debouncer.debounce(this._debouncerUpdateClones, timeOut.after(200), () => {\n      this._buffers[0].updated = this._buffers[1].updated = false;\n\n      this._updateClones();\n    });\n    this._scrollDisabled = false;\n  }\n\n  _createPool() {\n    var container = this.getBoundingClientRect();\n\n    this._buffers.forEach(buffer => {\n      for (var i = 0; i < this.bufferSize; i++) {\n        const itemWrapper = document.createElement('div');\n        itemWrapper.style.height = this.itemHeight + 'px';\n        itemWrapper.instance = {};\n        const contentId = InfiniteScrollerElement._contentIndex = InfiniteScrollerElement._contentIndex + 1 || 0;\n        const slotName = 'vaadin-infinite-scroller-item-content-' + contentId;\n        const insertionPoint = document.createElement('slot');\n        insertionPoint.setAttribute('name', slotName);\n        insertionPoint._itemWrapper = itemWrapper;\n        buffer.appendChild(insertionPoint);\n        itemWrapper.setAttribute('slot', slotName);\n        this.appendChild(itemWrapper); // This is needed by IE\n\n        flush();\n        setTimeout(() => {\n          // Only stamp the visible instances first\n          if (this._isVisible(itemWrapper, container)) {\n            this._ensureStampedInstance(itemWrapper);\n          }\n        }, 1); // Wait for first reset\n      }\n    }, this);\n\n    setTimeout(() => {\n      afterNextRender(this, this._finishInit.bind(this));\n    }, 1);\n  }\n\n  _ensureStampedInstance(itemWrapper) {\n    if (itemWrapper.firstElementChild) {\n      return;\n    }\n\n    var tmpInstance = itemWrapper.instance;\n    itemWrapper.instance = new this._TemplateClass({});\n    itemWrapper.appendChild(itemWrapper.instance.root);\n    Object.keys(tmpInstance).forEach(prop => {\n      itemWrapper.instance.set(prop, tmpInstance[prop]);\n    });\n  }\n\n  _updateClones(viewPortOnly) {\n    this._firstIndex = ~~((this._buffers[0].translateY - this._initialScroll) / this.itemHeight) + this._initialIndex;\n    var scrollerRect = viewPortOnly ? this.$.scroller.getBoundingClientRect() : undefined;\n\n    this._buffers.forEach((buffer, bufferIndex) => {\n      if (!buffer.updated) {\n        var firstIndex = this._firstIndex + this.bufferSize * bufferIndex;\n        [].forEach.call(buffer.children, (insertionPoint, index) => {\n          const itemWrapper = insertionPoint._itemWrapper;\n\n          if (!viewPortOnly || this._isVisible(itemWrapper, scrollerRect)) {\n            itemWrapper.instance.index = firstIndex + index;\n          }\n        });\n        buffer.updated = true;\n      }\n    }, this);\n  }\n\n  _isVisible(element, container) {\n    var rect = element.getBoundingClientRect();\n    return rect.bottom > container.top && rect.top < container.bottom;\n  }\n\n}\n\ncustomElements.define(InfiniteScrollerElement.is, InfiniteScrollerElement);","import \"@polymer/polymer/lib/elements/custom-style.js\";\nconst $_documentContainer = document.createElement('template');\n$_documentContainer.innerHTML = `<dom-module id=\"vaadin-date-picker-overlay-styles\" theme-for=\"vaadin-date-picker-overlay\">\n  <template>\n    <style>\n      :host {\n        align-items: flex-start;\n        justify-content: flex-start;\n      }\n\n      :host([bottom-aligned]) {\n        justify-content: flex-end;\n      }\n\n      :host([right-aligned]) {\n        align-items: flex-end;\n      }\n\n      :host([right-aligned][dir=\"rtl\"]) {\n        align-items: flex-start;\n      }\n\n      [part=\"overlay\"] {\n        display: flex;\n        flex: auto;\n      }\n\n      [part~=\"content\"] {\n        flex: auto;\n      }\n    </style>\n  </template>\n</dom-module>`;\ndocument.head.appendChild($_documentContainer.content);","/**\n@license\nCopyright (c) 2017 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\nimport { PolymerElement } from \"@polymer/polymer/polymer-element.js\";\nimport { GestureEventListeners } from \"@polymer/polymer/lib/mixins/gesture-event-listeners.js\";\nimport \"@polymer/iron-media-query/iron-media-query.js\";\nimport { IronA11yKeysBehavior } from \"@polymer/iron-a11y-keys-behavior/iron-a11y-keys-behavior.js\";\nimport { IronA11yAnnouncer } from \"@polymer/iron-a11y-announcer/iron-a11y-announcer.js\";\nimport \"../../vaadin-button/src/vaadin-button.js\";\nimport { ThemableMixin } from \"../../vaadin-themable-mixin/vaadin-themable-mixin.js\";\nimport { ThemePropertyMixin } from \"../../vaadin-themable-mixin/vaadin-theme-property-mixin.js\";\nimport './vaadin-month-calendar.js';\nimport './vaadin-infinite-scroller.js';\nimport { DatePickerHelper } from './vaadin-date-picker-helper.js';\nimport './vaadin-date-picker-styles.js';\nimport { html } from \"@polymer/polymer/lib/utils/html-tag.js\";\nimport { addListener, setTouchAction } from \"@polymer/polymer/lib/utils/gestures.js\";\nimport { Debouncer } from \"@polymer/polymer/lib/utils/debounce.js\";\nimport { timeOut } from \"@polymer/polymer/lib/utils/async.js\";\n/**\n * @memberof Vaadin\n * @private\n */\n\nclass DatePickerOverlayContentElement extends ThemableMixin(ThemePropertyMixin(GestureEventListeners(PolymerElement))) {\n  static get template() {\n    return html`\n    <style>\n      :host {\n        display: flex;\n        flex-direction: column;\n        height: 100%;\n        width: 100%;\n        outline: none;\n        background: #fff;\n      }\n\n      [part=\"overlay-header\"] {\n        display: flex;\n        flex-shrink: 0;\n        flex-wrap: nowrap;\n        align-items: center;\n      }\n\n      :host(:not([fullscreen])) [part=\"overlay-header\"] {\n        display: none;\n      }\n\n      [part=\"label\"] {\n        flex-grow: 1;\n      }\n\n      [part=\"clear-button\"]:not([showclear]) {\n        display: none;\n      }\n\n      [part=\"years-toggle-button\"] {\n        display: flex;\n      }\n\n      [part=\"years-toggle-button\"][desktop] {\n        display: none;\n      }\n\n      :host(:not([years-visible])) [part=\"years-toggle-button\"]::before {\n        transform: rotate(180deg);\n      }\n\n      #scrollers {\n        display: flex;\n        height: 100%;\n        width: 100%;\n        position: relative;\n        overflow: hidden;\n      }\n\n      [part=\"months\"],\n      [part=\"years\"] {\n        height: 100%;\n      }\n\n      [part=\"months\"] {\n        --vaadin-infinite-scroller-item-height: 270px;\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n      }\n\n      #scrollers[desktop] [part=\"months\"] {\n        right: 50px;\n        transform: none !important;\n      }\n\n      [part=\"years\"] {\n        --vaadin-infinite-scroller-item-height: 80px;\n        width: 50px;\n        position: absolute;\n        right: 0;\n        transform: translateX(100%);\n        -webkit-tap-highlight-color: transparent;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        user-select: none;\n        /* Center the year scroller position. */\n        --vaadin-infinite-scroller-buffer-offset: 50%;\n      }\n\n      #scrollers[desktop] [part=\"years\"] {\n        position: absolute;\n        transform: none !important;\n      }\n\n      [part=\"years\"]::before {\n        content: '';\n        display: block;\n        background: transparent;\n        width: 0;\n        height: 0;\n        position: absolute;\n        left: 0;\n        top: 50%;\n        transform: translateY(-50%);\n        border-width: 6px;\n        border-style: solid;\n        border-color: transparent;\n        border-left-color: #000;\n      }\n\n      :host(.animate) [part=\"months\"],\n      :host(.animate) [part=\"years\"] {\n        transition: all 200ms;\n      }\n\n      [part=\"toolbar\"] {\n        display: flex;\n        justify-content: space-between;\n        z-index: 2;\n        flex-shrink: 0;\n      }\n\n      [part~=\"overlay-header\"]:not([desktop]) {\n        padding-bottom: 40px;\n      }\n\n      [part~=\"years-toggle-button\"] {\n        position: absolute;\n        top: auto;\n        right: 8px;\n        bottom: 0;\n        z-index: 1;\n        padding: 8px;\n      }\n\n      #announcer {\n        display: inline-block;\n        position: fixed;\n        clip: rect(0, 0, 0, 0);\n        clip-path: inset(100%);\n      }\n    </style>\n\n    <div id=\"announcer\" role=\"alert\" aria-live=\"polite\">\n      [[i18n.calendar]]\n    </div>\n\n    <div part=\"overlay-header\" on-touchend=\"_preventDefault\" desktop\\$=\"[[_desktopMode]]\" aria-hidden=\"true\">\n      <div part=\"label\">[[_formatDisplayed(selectedDate, i18n.formatDate, label)]]</div>\n      <div part=\"clear-button\" on-tap=\"_clear\" showclear\\$=\"[[_showClear(selectedDate)]]\"></div>\n      <div part=\"toggle-button\" on-tap=\"_cancel\"></div>\n\n      <div part=\"years-toggle-button\" desktop\\$=\"[[_desktopMode]]\" on-tap=\"_toggleYearScroller\" aria-hidden=\"true\">\n        [[_yearAfterXMonths(_visibleMonthIndex)]]\n      </div>\n    </div>\n\n    <div id=\"scrollers\" desktop\\$=\"[[_desktopMode]]\" on-track=\"_track\">\n      <vaadin-infinite-scroller id=\"monthScroller\" on-custom-scroll=\"_onMonthScroll\" on-touchstart=\"_onMonthScrollTouchStart\" buffer-size=\"3\" active=\"[[initialPosition]]\" part=\"months\">\n        <template>\n          <vaadin-month-calendar i18n=\"[[i18n]]\" month=\"[[_dateAfterXMonths(index)]]\" selected-date=\"{{selectedDate}}\" focused-date=\"[[focusedDate]]\" ignore-taps=\"[[_ignoreTaps]]\" show-week-numbers=\"[[showWeekNumbers]]\" min-date=\"[[minDate]]\" max-date=\"[[maxDate]]\" focused\\$=\"[[_focused]]\" part=\"month\" theme\\$=\"[[theme]]\">\n          </vaadin-month-calendar>\n        </template>\n      </vaadin-infinite-scroller>\n      <vaadin-infinite-scroller id=\"yearScroller\" on-tap=\"_onYearTap\" on-custom-scroll=\"_onYearScroll\" on-touchstart=\"_onYearScrollTouchStart\" buffer-size=\"12\" active=\"[[initialPosition]]\" part=\"years\">\n        <template>\n          <div part=\"year-number\" role=\"button\" current\\$=\"[[_isCurrentYear(index)]]\" selected\\$=\"[[_isSelectedYear(index, selectedDate)]]\">\n            [[_yearAfterXYears(index)]]\n          </div>\n          <div part=\"year-separator\" aria-hidden=\"true\"></div>\n        </template>\n      </vaadin-infinite-scroller>\n    </div>\n\n    <div on-touchend=\"_preventDefault\" role=\"toolbar\" part=\"toolbar\">\n      <vaadin-button id=\"todayButton\" part=\"today-button\" disabled=\"[[!_isTodayAllowed(minDate, maxDate)]]\" on-tap=\"_onTodayTap\">\n        [[i18n.today]]\n      </vaadin-button>\n      <vaadin-button id=\"cancelButton\" part=\"cancel-button\" on-tap=\"_cancel\">\n        [[i18n.cancel]]\n      </vaadin-button>\n    </div>\n\n    <iron-media-query query=\"(min-width: 375px)\" query-matches=\"{{_desktopMode}}\"></iron-media-query>\n`;\n  }\n\n  static get is() {\n    return 'vaadin-date-picker-overlay-content';\n  }\n\n  static get properties() {\n    return {\n      /**\n       * The value for this element.\n       */\n      selectedDate: {\n        type: Date,\n        notify: true\n      },\n\n      /**\n       * Date value which is focused using keyboard.\n       */\n      focusedDate: {\n        type: Date,\n        notify: true,\n        observer: '_focusedDateChanged'\n      },\n      _focusedMonthDate: Number,\n\n      /**\n       * Date which should be visible when there is no value selected.\n       */\n      initialPosition: {\n        type: Date,\n        observer: '_initialPositionChanged'\n      },\n      _originDate: {\n        value: new Date()\n      },\n      _visibleMonthIndex: Number,\n      _desktopMode: Boolean,\n      _translateX: {\n        observer: '_translateXChanged'\n      },\n      _yearScrollerWidth: {\n        value: 50\n      },\n      i18n: {\n        type: Object\n      },\n      showWeekNumbers: {\n        type: Boolean\n      },\n      _ignoreTaps: Boolean,\n      _notTapping: Boolean,\n\n      /**\n       * The earliest date that can be selected. All earlier dates will be disabled.\n       */\n      minDate: Date,\n\n      /**\n       * The latest date that can be selected. All later dates will be disabled.\n       */\n      maxDate: Date,\n      _focused: Boolean,\n\n      /**\n       * Input label\n       */\n      label: String\n    };\n  }\n\n  ready() {\n    super.ready();\n    this.setAttribute('tabindex', 0);\n    this.addEventListener('keydown', this._onKeydown.bind(this));\n    addListener(this, 'tap', this._stopPropagation);\n    this.addEventListener('focus', this._onOverlayFocus.bind(this));\n    this.addEventListener('blur', this._onOverlayBlur.bind(this));\n  }\n  /**\n   * Fired when the scroller reaches the target scrolling position.\n   * @event scroll-animation-finished\n   * @param {Number} detail.position new position\n   * @param {Number} detail.oldPosition old position\n   */\n\n\n  connectedCallback() {\n    super.connectedCallback();\n\n    this._closeYearScroller();\n\n    this._toggleAnimateClass(true);\n\n    setTouchAction(this.$.scrollers, 'pan-y');\n    IronA11yAnnouncer.requestAvailability();\n  }\n\n  announceFocusedDate() {\n    var focusedDate = this._currentlyFocusedDate();\n\n    var announce = [];\n\n    if (DatePickerHelper._dateEquals(focusedDate, new Date())) {\n      announce.push(this.i18n.today);\n    }\n\n    announce = announce.concat([this.i18n.weekdays[focusedDate.getDay()], focusedDate.getDate(), this.i18n.monthNames[focusedDate.getMonth()], focusedDate.getFullYear()]);\n\n    if (this.showWeekNumbers && this.i18n.firstDayOfWeek === 1) {\n      announce.push(this.i18n.week);\n      announce.push(DatePickerHelper._getISOWeekNumber(focusedDate));\n    }\n\n    this.dispatchEvent(new CustomEvent('iron-announce', {\n      bubbles: true,\n      composed: true,\n      detail: {\n        text: announce.join(' ')\n      }\n    }));\n    return;\n  }\n  /**\n   * Focuses the cancel button\n   */\n\n\n  focusCancel() {\n    this.$.cancelButton.focus();\n  }\n  /**\n   * Scrolls the list to the given Date.\n   */\n\n\n  scrollToDate(date, animate) {\n    this._scrollToPosition(this._differenceInMonths(date, this._originDate), animate);\n  }\n\n  _focusedDateChanged(focusedDate) {\n    this.revealDate(focusedDate);\n  }\n\n  _isCurrentYear(yearsFromNow) {\n    return yearsFromNow === 0;\n  }\n\n  _isSelectedYear(yearsFromNow, selectedDate) {\n    if (selectedDate) {\n      return selectedDate.getFullYear() === this._originDate.getFullYear() + yearsFromNow;\n    }\n  }\n  /**\n   * Scrolls the month and year scrollers enough to reveal the given date.\n   */\n\n\n  revealDate(date) {\n    if (date) {\n      var diff = this._differenceInMonths(date, this._originDate);\n\n      var scrolledAboveViewport = this.$.monthScroller.position > diff;\n      var visibleItems = this.$.monthScroller.clientHeight / this.$.monthScroller.itemHeight;\n      var scrolledBelowViewport = this.$.monthScroller.position + visibleItems - 1 < diff;\n\n      if (scrolledAboveViewport) {\n        this._scrollToPosition(diff, true);\n      } else if (scrolledBelowViewport) {\n        this._scrollToPosition(diff - visibleItems + 1, true);\n      }\n    }\n  }\n\n  _onOverlayFocus() {\n    this._focused = true;\n  }\n\n  _onOverlayBlur() {\n    this._focused = false;\n  }\n\n  _initialPositionChanged(initialPosition) {\n    this.scrollToDate(initialPosition);\n  }\n\n  _repositionYearScroller() {\n    this._visibleMonthIndex = Math.floor(this.$.monthScroller.position);\n    this.$.yearScroller.position = (this.$.monthScroller.position + this._originDate.getMonth()) / 12;\n  }\n\n  _repositionMonthScroller() {\n    this.$.monthScroller.position = this.$.yearScroller.position * 12 - this._originDate.getMonth();\n    this._visibleMonthIndex = Math.floor(this.$.monthScroller.position);\n  }\n\n  _onMonthScroll() {\n    this._repositionYearScroller();\n\n    this._doIgnoreTaps();\n  }\n\n  _onYearScroll() {\n    this._repositionMonthScroller();\n\n    this._doIgnoreTaps();\n  }\n\n  _onYearScrollTouchStart() {\n    this._notTapping = false;\n    setTimeout(() => this._notTapping = true, 300);\n\n    this._repositionMonthScroller();\n  }\n\n  _onMonthScrollTouchStart() {\n    this._repositionYearScroller();\n  }\n\n  _doIgnoreTaps() {\n    this._ignoreTaps = true;\n    this._debouncer = Debouncer.debounce(this._debouncer, timeOut.after(300), () => this._ignoreTaps = false);\n  }\n\n  _formatDisplayed(date, formatDate, label) {\n    if (date) {\n      return formatDate(DatePickerHelper._extractDateParts(date));\n    } else {\n      return label;\n    }\n  }\n\n  _onTodayTap() {\n    var today = new Date();\n\n    if (Math.abs(this.$.monthScroller.position - this._differenceInMonths(today, this._originDate)) < 0.001) {\n      // Select today only if the month scroller is positioned approximately\n      // at the beginning of the current month\n      this.selectedDate = today;\n\n      this._close();\n    } else {\n      this._scrollToCurrentMonth();\n    }\n  }\n\n  _scrollToCurrentMonth() {\n    if (this.focusedDate) {\n      this.focusedDate = new Date();\n    }\n\n    this.scrollToDate(new Date(), true);\n  }\n\n  _showClear(selectedDate) {\n    return !!selectedDate;\n  }\n\n  _onYearTap(e) {\n    if (!this._ignoreTaps && !this._notTapping) {\n      var scrollDelta = e.detail.y - (this.$.yearScroller.getBoundingClientRect().top + this.$.yearScroller.clientHeight / 2);\n      var yearDelta = scrollDelta / this.$.yearScroller.itemHeight;\n\n      this._scrollToPosition(this.$.monthScroller.position + yearDelta * 12, true);\n    }\n  }\n\n  _scrollToPosition(targetPosition, animate) {\n    if (this._targetPosition !== undefined) {\n      this._targetPosition = targetPosition;\n      return;\n    }\n\n    if (!animate) {\n      this.$.monthScroller.position = targetPosition;\n      this._targetPosition = undefined;\n\n      this._repositionYearScroller();\n\n      return;\n    }\n\n    this._targetPosition = targetPosition; // http://gizma.com/easing/\n\n    var easingFunction = (t, b, c, d) => {\n      t /= d / 2;\n\n      if (t < 1) {\n        return c / 2 * t * t + b;\n      }\n\n      t--;\n      return -c / 2 * (t * (t - 2) - 1) + b;\n    };\n\n    var duration = animate ? 300 : 0;\n    var start = 0;\n    var initialPosition = this.$.monthScroller.position;\n\n    var smoothScroll = timestamp => {\n      start = start || timestamp;\n      var currentTime = timestamp - start;\n\n      if (currentTime < duration) {\n        var currentPos = easingFunction(currentTime, initialPosition, this._targetPosition - initialPosition, duration);\n        this.$.monthScroller.position = currentPos;\n        window.requestAnimationFrame(smoothScroll);\n      } else {\n        this.dispatchEvent(new CustomEvent('scroll-animation-finished', {\n          bubbles: true,\n          composed: true,\n          detail: {\n            position: this._targetPosition,\n            oldPosition: initialPosition\n          }\n        }));\n        this.$.monthScroller.position = this._targetPosition;\n        this._targetPosition = undefined;\n      }\n\n      setTimeout(this._repositionYearScroller.bind(this), 1);\n    }; // Start the animation.\n\n\n    window.requestAnimationFrame(smoothScroll);\n  }\n\n  _limit(value, range) {\n    return Math.min(range.max, Math.max(range.min, value));\n  }\n\n  _handleTrack(e) {\n    // Check if horizontal movement threshold (dx) not exceeded or\n    // scrolling fast vertically (ddy).\n    if (Math.abs(e.detail.dx) < 10 || Math.abs(e.detail.ddy) > 10) {\n      return;\n    } // If we're flinging quickly -> start animating already.\n\n\n    if (Math.abs(e.detail.ddx) > this._yearScrollerWidth / 3) {\n      this._toggleAnimateClass(true);\n    }\n\n    var newTranslateX = this._translateX + e.detail.ddx;\n    this._translateX = this._limit(newTranslateX, {\n      min: 0,\n      max: this._yearScrollerWidth\n    });\n  }\n\n  _track(e) {\n    if (this._desktopMode) {\n      // No need to track for swipe gestures on desktop.\n      return;\n    }\n\n    switch (e.detail.state) {\n      case 'start':\n        this._toggleAnimateClass(false);\n\n        break;\n\n      case 'track':\n        this._handleTrack(e);\n\n        break;\n\n      case 'end':\n        this._toggleAnimateClass(true);\n\n        if (this._translateX >= this._yearScrollerWidth / 2) {\n          this._closeYearScroller();\n        } else {\n          this._openYearScroller();\n        }\n\n        break;\n    }\n  }\n\n  _toggleAnimateClass(enable) {\n    if (enable) {\n      this.classList.add('animate');\n    } else {\n      this.classList.remove('animate');\n    }\n  }\n\n  _toggleYearScroller() {\n    this._isYearScrollerVisible() ? this._closeYearScroller() : this._openYearScroller();\n  }\n\n  _openYearScroller() {\n    this._translateX = 0;\n    this.setAttribute('years-visible', '');\n  }\n\n  _closeYearScroller() {\n    this.removeAttribute('years-visible');\n    this._translateX = this._yearScrollerWidth;\n  }\n\n  _isYearScrollerVisible() {\n    return this._translateX < this._yearScrollerWidth / 2;\n  }\n\n  _translateXChanged(x) {\n    if (!this._desktopMode) {\n      this.$.monthScroller.style.transform = 'translateX(' + (x - this._yearScrollerWidth) + 'px)';\n      this.$.yearScroller.style.transform = 'translateX(' + x + 'px)';\n    }\n  }\n\n  _yearAfterXYears(index) {\n    var result = new Date(this._originDate);\n    result.setFullYear(parseInt(index) + this._originDate.getFullYear());\n    return result.getFullYear();\n  }\n\n  _yearAfterXMonths(months) {\n    return this._dateAfterXMonths(months).getFullYear();\n  }\n\n  _dateAfterXMonths(months) {\n    var result = new Date(this._originDate);\n    result.setDate(1);\n    result.setMonth(parseInt(months) + this._originDate.getMonth());\n    return result;\n  }\n\n  _differenceInMonths(date1, date2) {\n    var months = (date1.getFullYear() - date2.getFullYear()) * 12;\n    return months - date2.getMonth() + date1.getMonth();\n  }\n\n  _differenceInYears(date1, date2) {\n    return this._differenceInMonths(date1, date2) / 12;\n  }\n\n  _clear() {\n    this.selectedDate = '';\n  }\n\n  _close() {\n    const overlayContent = this.getRootNode().host;\n    const overlay = overlayContent ? overlayContent.getRootNode().host : null;\n\n    if (overlay) {\n      overlay.opened = false;\n    }\n\n    this.dispatchEvent(new CustomEvent('close', {\n      bubbles: true,\n      composed: true\n    }));\n  }\n\n  _cancel() {\n    this.focusedDate = this.selectedDate;\n\n    this._close();\n  }\n\n  _preventDefault(e) {\n    e.preventDefault();\n  }\n  /**\n   * Keyboard Navigation\n   */\n\n\n  _eventKey(e) {\n    var keys = ['down', 'up', 'right', 'left', 'enter', 'space', 'home', 'end', 'pageup', 'pagedown', 'tab', 'esc'];\n\n    for (var i = 0; i < keys.length; i++) {\n      var k = keys[i];\n\n      if (IronA11yKeysBehavior.keyboardEventMatchesKeys(e, k)) {\n        return k;\n      }\n    }\n  }\n\n  _onKeydown(e) {\n    var focus = this._currentlyFocusedDate(); // Cannot use (today/cancel).focused flag because vaadin-text-field removes it\n    // previously in the keydown event.\n\n\n    const isToday = e.composedPath().indexOf(this.$.todayButton) >= 0;\n    const isCancel = e.composedPath().indexOf(this.$.cancelButton) >= 0;\n    const isScroller = !isToday && !isCancel;\n\n    var eventKey = this._eventKey(e);\n\n    if (eventKey === 'tab') {\n      // We handle tabs here and don't want to bubble up.\n      e.stopPropagation();\n      const isFullscreen = this.hasAttribute('fullscreen');\n      const isShift = e.shiftKey;\n\n      if (isFullscreen) {\n        e.preventDefault();\n      } else if (isShift && isScroller || !isShift && isCancel) {\n        // Return focus back to the input field\n        e.preventDefault();\n        this.dispatchEvent(new CustomEvent('focus-input', {\n          bubbles: true,\n          composed: true\n        }));\n      } else if (isShift && isToday) {\n        // Browser returns focus back to the scrollable area. We need to set\n        // the focused flag, and move the scroll to focused date.\n        this._focused = true;\n        setTimeout(() => this.revealDate(this.focusedDate), 1);\n      } else {\n        // Browser moves the focus out of the scroller, hence focused flag must\n        // set to false.\n        this._focused = false;\n      }\n    } else if (eventKey) {\n      e.preventDefault();\n      e.stopPropagation();\n\n      switch (eventKey) {\n        case 'down':\n          this._moveFocusByDays(7);\n\n          this.focus();\n          break;\n\n        case 'up':\n          this._moveFocusByDays(-7);\n\n          this.focus();\n          break;\n\n        case 'right':\n          if (isScroller) {\n            this._moveFocusByDays(1);\n          }\n\n          break;\n\n        case 'left':\n          if (isScroller) {\n            this._moveFocusByDays(-1);\n          }\n\n          break;\n\n        case 'enter':\n          if (isScroller || isCancel) {\n            this._close();\n          } else if (isToday) {\n            this._onTodayTap();\n          }\n\n          break;\n\n        case 'space':\n          if (isCancel) {\n            this._close();\n          } else if (isToday) {\n            this._onTodayTap();\n          } else {\n            var focusedDate = this.focusedDate;\n\n            if (DatePickerHelper._dateEquals(focusedDate, this.selectedDate)) {\n              this.selectedDate = '';\n              this.focusedDate = focusedDate;\n            } else {\n              this.selectedDate = focusedDate;\n            }\n          }\n\n          break;\n\n        case 'home':\n          this._moveFocusInsideMonth(focus, 'minDate');\n\n          break;\n\n        case 'end':\n          this._moveFocusInsideMonth(focus, 'maxDate');\n\n          break;\n\n        case 'pagedown':\n          this._moveFocusByMonths(e.shiftKey ? 12 : 1);\n\n          break;\n\n        case 'pageup':\n          this._moveFocusByMonths(e.shiftKey ? -12 : -1);\n\n          break;\n\n        case 'esc':\n          this._cancel();\n\n          break;\n      }\n    }\n  }\n\n  _currentlyFocusedDate() {\n    return this.focusedDate || this.selectedDate || this.initialPosition || new Date();\n  }\n\n  _focusDate(dateToFocus) {\n    this.focusedDate = dateToFocus;\n    this._focusedMonthDate = dateToFocus.getDate();\n  }\n\n  _focusClosestDate(focus) {\n    this._focusDate(DatePickerHelper._getClosestDate(focus, [this.minDate, this.maxDate]));\n  }\n\n  _moveFocusByDays(days) {\n    var focus = this._currentlyFocusedDate();\n\n    var dateToFocus = new Date(0, 0);\n    dateToFocus.setFullYear(focus.getFullYear());\n    dateToFocus.setMonth(focus.getMonth());\n    dateToFocus.setDate(focus.getDate() + days);\n\n    if (this._dateAllowed(dateToFocus, this.minDate, this.maxDate)) {\n      this._focusDate(dateToFocus);\n    } else {\n      if (this._dateAllowed(focus, this.minDate, this.maxDate)) {\n        // Move to min or max date\n        if (days > 0) {\n          // down or right\n          this._focusDate(this.maxDate);\n        } else {\n          // up or left\n          this._focusDate(this.minDate);\n        }\n      } else {\n        // Move to closest allowed date\n        this._focusClosestDate(focus);\n      }\n    }\n  }\n\n  _moveFocusByMonths(months) {\n    var focus = this._currentlyFocusedDate();\n\n    var dateToFocus = new Date(0, 0);\n    dateToFocus.setFullYear(focus.getFullYear());\n    dateToFocus.setMonth(focus.getMonth() + months);\n    var targetMonth = dateToFocus.getMonth();\n    dateToFocus.setDate(this._focusedMonthDate || (this._focusedMonthDate = focus.getDate()));\n\n    if (dateToFocus.getMonth() !== targetMonth) {\n      dateToFocus.setDate(0);\n    }\n\n    if (this._dateAllowed(dateToFocus, this.minDate, this.maxDate)) {\n      this.focusedDate = dateToFocus;\n    } else {\n      if (this._dateAllowed(focus, this.minDate, this.maxDate)) {\n        // Move to min or max date\n        if (months > 0) {\n          // pagedown\n          this._focusDate(this.maxDate);\n        } else {\n          // pageup\n          this._focusDate(this.minDate);\n        }\n      } else {\n        // Move to closest allowed date\n        this._focusClosestDate(focus);\n      }\n    }\n  }\n\n  _moveFocusInsideMonth(focusedDate, property) {\n    var dateToFocus = new Date(0, 0);\n    dateToFocus.setFullYear(focusedDate.getFullYear());\n\n    if (property === 'minDate') {\n      dateToFocus.setMonth(focusedDate.getMonth());\n      dateToFocus.setDate(1);\n    } else {\n      dateToFocus.setMonth(focusedDate.getMonth() + 1);\n      dateToFocus.setDate(0);\n    }\n\n    if (this._dateAllowed(dateToFocus, this.minDate, this.maxDate)) {\n      this._focusDate(dateToFocus);\n    } else {\n      if (this._dateAllowed(focusedDate, this.minDate, this.maxDate)) {\n        // Move to minDate or maxDate\n        this._focusDate(this[property]);\n      } else {\n        // Move to closest allowed date\n        this._focusClosestDate(focusedDate);\n      }\n    }\n  }\n\n  _dateAllowed(date, min, max) {\n    return (!min || date >= min) && (!max || date <= max);\n  }\n\n  _isTodayAllowed(min, max) {\n    var today = new Date();\n    var todayMidnight = new Date(0, 0);\n    todayMidnight.setFullYear(today.getFullYear());\n    todayMidnight.setMonth(today.getMonth());\n    todayMidnight.setDate(today.getDate());\n    return this._dateAllowed(todayMidnight, min, max);\n  }\n\n  _stopPropagation(e) {\n    e.stopPropagation();\n  }\n\n}\n\ncustomElements.define(DatePickerOverlayContentElement.is, DatePickerOverlayContentElement);","/**\n@license\nCopyright (c) 2017 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\nimport { IronA11yKeysBehavior } from \"@polymer/iron-a11y-keys-behavior/iron-a11y-keys-behavior.js\";\nimport { IronResizableBehavior } from \"@polymer/iron-resizable-behavior/iron-resizable-behavior.js\";\nimport { DatePickerHelper } from './vaadin-date-picker-helper.js';\nimport { addListener } from \"@polymer/polymer/lib/utils/gestures.js\";\nimport { mixinBehaviors } from \"@polymer/polymer/lib/legacy/class.js\";\n/**\n * @polymerMixin\n */\n\nexport const DatePickerMixin = subclass => class VaadinDatePickerMixin extends mixinBehaviors([IronResizableBehavior], subclass) {\n  static get properties() {\n    return {\n      /**\n       * The current selected date.\n       */\n      _selectedDate: {\n        type: Date\n      },\n      _focusedDate: Date,\n\n      /**\n       * The value for this element.\n       *\n       * Supported date formats:\n       * - ISO 8601 `\"YYYY-MM-DD\"` (default)\n       * - 6-digit extended ISO 8601 `\"+YYYYYY-MM-DD\"`, `\"-YYYYYY-MM-DD\"`\n       *\n       * @type {String}\n       */\n      value: {\n        type: String,\n        observer: '_valueChanged',\n        notify: true,\n        value: ''\n      },\n\n      /**\n       * Set to true to mark the input as required.\n       */\n      required: {\n        type: Boolean,\n        value: false\n      },\n\n      /**\n       * The name of this element.\n       */\n      name: {\n        type: String\n      },\n\n      /**\n       * Date which should be visible when there is no value selected.\n       *\n       * The same date formats as for the `value` property are supported.\n       */\n      initialPosition: String,\n\n      /**\n       * The label for this element.\n       */\n      label: String,\n\n      /**\n       * Set true to open the date selector overlay.\n       */\n      opened: {\n        type: Boolean,\n        reflectToAttribute: true,\n        notify: true,\n        observer: '_openedChanged'\n      },\n\n      /**\n       * Set true to display ISO-8601 week numbers in the calendar. Notice that\n       * displaying week numbers is only supported when `i18n.firstDayOfWeek`\n       * is 1 (Monday).\n       */\n      showWeekNumbers: {\n        type: Boolean\n      },\n      _fullscreen: {\n        value: false,\n        observer: '_fullscreenChanged'\n      },\n      _fullscreenMediaQuery: {\n        value: '(max-width: 420px), (max-height: 420px)'\n      },\n      // An array of ancestor elements whose -webkit-overflow-scrolling is forced from value\n      // 'touch' to value 'auto' in order to prevent them from clipping the dropdown. iOS only.\n      _touchPrevented: Array,\n\n      /**\n       * The object used to localize this component.\n       * To change the default localization, replace the entire\n       * _i18n_ object or just the property you want to modify.\n       *\n       * The object has the following JSON structure and default values:\n           {\n            // An array with the full names of months starting\n            // with January.\n            monthNames: [\n              'January', 'February', 'March', 'April', 'May',\n              'June', 'July', 'August', 'September',\n              'October', 'November', 'December'\n            ],\n             // An array of weekday names starting with Sunday. Used\n            // in screen reader announcements.\n            weekdays: [\n              'Sunday', 'Monday', 'Tuesday', 'Wednesday',\n              'Thursday', 'Friday', 'Saturday'\n            ],\n             // An array of short weekday names starting with Sunday.\n            // Displayed in the calendar.\n            weekdaysShort: [\n              'Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'\n            ],\n             // An integer indicating the first day of the week\n            // (0 = Sunday, 1 = Monday, etc.).\n            firstDayOfWeek: 0,\n             // Used in screen reader announcements along with week\n            // numbers, if they are displayed.\n            week: 'Week',\n             // Translation of the Calendar icon button title.\n            calendar: 'Calendar',\n             // Translation of the Clear icon button title.\n            clear: 'Clear',\n             // Translation of the Today shortcut button text.\n            today: 'Today',\n             // Translation of the Cancel button text.\n            cancel: 'Cancel',\n             // A function to format given `Object` as\n            // date string. Object is in the format `{ day: ..., month: ..., year: ... }`\n            // Note: The argument month is 0-based. This means that January = 0 and December = 11.\n            formatDate: d => {\n              // returns a string representation of the given\n              // object in 'MM/DD/YYYY' -format\n            },\n             // A function to parse the given text to an `Object` in the format `{ day: ..., month: ..., year: ... }`.\n            // Must properly parse (at least) text formatted by `formatDate`.\n            // Setting the property to null will disable keyboard input feature.\n            // Note: The argument month is 0-based. This means that January = 0 and December = 11.\n            parseDate: text => {\n              // Parses a string in 'MM/DD/YY', 'MM/DD' or 'DD' -format to\n              // an `Object` in the format `{ day: ..., month: ..., year: ... }`.\n            }\n             // A function to format given `monthName` and\n            // `fullYear` integer as calendar title string.\n            formatTitle: (monthName, fullYear) => {\n              return monthName + ' ' + fullYear;\n            }\n          }\n        *\n       * @default {English/US}\n       */\n      i18n: {\n        type: Object,\n        value: () => {\n          return {\n            monthNames: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],\n            weekdays: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],\n            weekdaysShort: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],\n            firstDayOfWeek: 0,\n            week: 'Week',\n            calendar: 'Calendar',\n            clear: 'Clear',\n            today: 'Today',\n            cancel: 'Cancel',\n            formatDate: d => {\n              const yearStr = String(d.year).replace(/\\d+/, y => '0000'.substr(y.length) + y);\n              return [d.month + 1, d.day, yearStr].join('/');\n            },\n            parseDate: text => {\n              const parts = text.split('/');\n              const today = new Date();\n              let date,\n                  month = today.getMonth(),\n                  year = today.getFullYear();\n\n              if (parts.length === 3) {\n                year = parseInt(parts[2]);\n\n                if (parts[2].length < 3 && year >= 0) {\n                  year += year < 50 ? 2000 : 1900;\n                }\n\n                month = parseInt(parts[0]) - 1;\n                date = parseInt(parts[1]);\n              } else if (parts.length === 2) {\n                month = parseInt(parts[0]) - 1;\n                date = parseInt(parts[1]);\n              } else if (parts.length === 1) {\n                date = parseInt(parts[0]);\n              }\n\n              if (date !== undefined) {\n                return {\n                  day: date,\n                  month,\n                  year\n                };\n              }\n            },\n            formatTitle: (monthName, fullYear) => {\n              return monthName + ' ' + fullYear;\n            }\n          };\n        }\n      },\n\n      /**\n       * The earliest date that can be selected. All earlier dates will be disabled.\n       *\n       * Supported date formats:\n       * - ISO 8601 `\"YYYY-MM-DD\"` (default)\n       * - 6-digit extended ISO 8601 `\"+YYYYYY-MM-DD\"`, `\"-YYYYYY-MM-DD\"`\n       *\n       * @type {String}\n       */\n      min: {\n        type: String,\n        observer: '_minChanged'\n      },\n\n      /**\n       * The latest date that can be selected. All later dates will be disabled.\n       *\n       * Supported date formats:\n       * - ISO 8601 `\"YYYY-MM-DD\"` (default)\n       * - 6-digit extended ISO 8601 `\"+YYYYYY-MM-DD\"`, `\"-YYYYYY-MM-DD\"`\n       *\n       * @type {String}\n       */\n      max: {\n        type: String,\n        observer: '_maxChanged'\n      },\n\n      /**\n       * The earliest date that can be selected. All earlier dates will be disabled.\n       */\n      _minDate: {\n        type: Date,\n        // null does not work here because minimizer passes undefined to overlay (#351)\n        value: ''\n      },\n\n      /**\n       * The latest date that can be selected. All later dates will be disabled.\n       */\n      _maxDate: {\n        type: Date,\n        value: ''\n      },\n      _noInput: {\n        type: Boolean,\n        computed: '_isNoInput(_fullscreen, _ios, i18n, i18n.*)'\n      },\n      _ios: {\n        type: Boolean,\n        value: navigator.userAgent.match(/iP(?:hone|ad;(?: U;)? CPU) OS (\\d+)/)\n      },\n      _webkitOverflowScroll: {\n        type: Boolean,\n        value: document.createElement('div').style.webkitOverflowScrolling === ''\n      },\n      _ignoreAnnounce: {\n        value: true\n      },\n      _focusOverlayOnOpen: Boolean,\n      _overlayInitialized: Boolean\n    };\n  }\n\n  static get observers() {\n    return ['_updateHasValue(value)', '_validateInput(_selectedDate, _minDate, _maxDate)', '_selectedDateChanged(_selectedDate, i18n.formatDate)', '_focusedDateChanged(_focusedDate, i18n.formatDate)', '_announceFocusedDate(_focusedDate, opened, _ignoreAnnounce)'];\n  }\n\n  ready() {\n    super.ready();\n    this._boundOnScroll = this._onScroll.bind(this);\n    this._boundFocus = this._focus.bind(this);\n    this._boundUpdateAlignmentAndPosition = this._updateAlignmentAndPosition.bind(this);\n\n    const isClearButton = e => {\n      const path = e.composedPath();\n      const inputIndex = path.indexOf(this._inputElement);\n      return path.slice(0, inputIndex).filter(el => el.getAttribute && el.getAttribute('part') === 'clear-button').length === 1;\n    };\n\n    addListener(this, 'tap', e => {\n      // FIXME(platosha): use preventDefault in the text field clear button,\n      // then the following composedPath check could be simplified down\n      // to `if (!e.defaultPrevented)`.\n      // https://github.com/vaadin/vaadin-text-field/issues/352\n      if (!isClearButton(e)) {\n        this.open();\n      }\n    });\n    this.addEventListener('touchend', e => {\n      if (!isClearButton(e)) {\n        e.preventDefault();\n      }\n    });\n    this.addEventListener('keydown', this._onKeydown.bind(this));\n    this.addEventListener('input', this._onUserInput.bind(this));\n    this.addEventListener('focus', e => this._noInput && e.target.blur());\n    this.addEventListener('blur', e => !this.opened && this.validate());\n  }\n\n  _initOverlay() {\n    this.$.overlay.removeAttribute('disable-upgrade');\n    this._overlayInitialized = true;\n    this.$.overlay.addEventListener('opened-changed', e => this.opened = e.detail.value);\n\n    this._overlayContent.addEventListener('close', this._close.bind(this));\n\n    this._overlayContent.addEventListener('focus-input', this._focusAndSelect.bind(this));\n\n    this.$.overlay.addEventListener('vaadin-overlay-escape-press', this._boundFocus); // Keep focus attribute in focusElement for styling\n\n    this._overlayContent.addEventListener('focus', () => this.focusElement._setFocused(true));\n\n    this.$.overlay.addEventListener('vaadin-overlay-close', this._onVaadinOverlayClose.bind(this));\n  }\n  /**\n   * @protected\n   */\n\n\n  disconnectedCallback() {\n    super.disconnectedCallback();\n\n    if (this._overlayInitialized) {\n      this.$.overlay.removeEventListener('vaadin-overlay-escape-press', this._boundFocus);\n    }\n\n    this.opened = false;\n  }\n  /**\n   * Opens the dropdown.\n   */\n\n\n  open() {\n    if (!this.disabled && !this.readonly) {\n      this.opened = true;\n    }\n  }\n\n  _close(e) {\n    if (e) {\n      e.stopPropagation();\n    }\n\n    this._focus();\n\n    this.close();\n  }\n  /**\n   * Closes the dropdown.\n   */\n\n\n  close() {\n    if (this._overlayInitialized) {\n      this.$.overlay.close();\n    }\n  }\n\n  get _inputElement() {\n    return this._input();\n  }\n\n  get _nativeInput() {\n    if (this._inputElement) {\n      // vaadin-text-field's input is focusElement\n      // iron-input's input is inputElement\n      return this._inputElement.focusElement ? this._inputElement.focusElement : this._inputElement.inputElement ? this._inputElement.inputElement : window.unwrap ? window.unwrap(this._inputElement) : this._inputElement;\n    }\n  }\n\n  _parseDate(str) {\n    // Parsing with RegExp to ensure correct format\n    var parts = /^([-+]\\d{1}|\\d{2,4}|[-+]\\d{6})-(\\d{1,2})-(\\d{1,2})$/.exec(str);\n\n    if (!parts) {\n      return;\n    }\n\n    var date = new Date(0, 0); // Wrong date (1900-01-01), but with midnight in local time\n\n    date.setFullYear(parseInt(parts[1], 10));\n    date.setMonth(parseInt(parts[2], 10) - 1);\n    date.setDate(parseInt(parts[3], 10));\n    return date;\n  }\n\n  _isNoInput(fullscreen, ios, i18n) {\n    return !this._inputElement || fullscreen || ios || !i18n.parseDate;\n  }\n\n  _formatISO(date) {\n    if (!(date instanceof Date)) {\n      return '';\n    }\n\n    const pad = (num, fmt = '00') => (fmt + num).substr((fmt + num).length - fmt.length);\n\n    let yearSign = '';\n    let yearFmt = '0000';\n    let yearAbs = date.getFullYear();\n\n    if (yearAbs < 0) {\n      yearAbs = -yearAbs;\n      yearSign = '-';\n      yearFmt = '000000';\n    } else if (date.getFullYear() >= 10000) {\n      yearSign = '+';\n      yearFmt = '000000';\n    }\n\n    const year = yearSign + pad(yearAbs, yearFmt);\n    const month = pad(date.getMonth() + 1);\n    const day = pad(date.getDate());\n    return [year, month, day].join('-');\n  }\n\n  _openedChanged(opened) {\n    if (opened && !this._overlayInitialized) {\n      this._initOverlay();\n    }\n\n    if (this._overlayInitialized) {\n      this.$.overlay.opened = opened;\n    }\n\n    if (opened) {\n      this._updateAlignmentAndPosition();\n    }\n  }\n\n  _selectedDateChanged(selectedDate, formatDate) {\n    if (selectedDate === undefined || formatDate === undefined) {\n      return;\n    }\n\n    if (this.__userInputOccurred) {\n      this.__dispatchChange = true;\n    }\n\n    const inputValue = selectedDate && formatDate(DatePickerHelper._extractDateParts(selectedDate));\n\n    const value = this._formatISO(selectedDate);\n\n    if (value !== this.value) {\n      this.validate(inputValue);\n      this.value = value;\n    }\n\n    this.__userInputOccurred = false;\n    this.__dispatchChange = false;\n    this._ignoreFocusedDateChange = true;\n    this._focusedDate = selectedDate;\n    this._ignoreFocusedDateChange = false;\n    this._inputValue = selectedDate ? inputValue : '';\n  }\n\n  _focusedDateChanged(focusedDate, formatDate) {\n    if (focusedDate === undefined || formatDate === undefined) {\n      return;\n    }\n\n    this.__userInputOccurred = true;\n\n    if (!this._ignoreFocusedDateChange && !this._noInput) {\n      this._inputValue = focusedDate ? formatDate(DatePickerHelper._extractDateParts(focusedDate)) : '';\n    }\n  }\n\n  _updateHasValue(value) {\n    if (value) {\n      this.setAttribute('has-value', '');\n    } else {\n      this.removeAttribute('has-value');\n    }\n  }\n\n  __getOverlayTheme(theme, overlayInitialized) {\n    if (overlayInitialized) {\n      return theme;\n    }\n  }\n\n  _handleDateChange(property, value, oldValue) {\n    if (!value) {\n      this[property] = '';\n      return;\n    }\n\n    var date = this._parseDate(value);\n\n    if (!date) {\n      this.value = oldValue;\n      return;\n    }\n\n    if (!DatePickerHelper._dateEquals(this[property], date)) {\n      this[property] = date;\n    }\n  }\n\n  _valueChanged(value, oldValue) {\n    if (this.__dispatchChange) {\n      this.dispatchEvent(new CustomEvent('change', {\n        bubbles: true\n      }));\n    }\n\n    this._handleDateChange('_selectedDate', value, oldValue);\n  }\n\n  _minChanged(value, oldValue) {\n    this._handleDateChange('_minDate', value, oldValue);\n  }\n\n  _maxChanged(value, oldValue) {\n    this._handleDateChange('_maxDate', value, oldValue);\n  }\n\n  _updateAlignmentAndPosition() {\n    if (!this._overlayInitialized) {\n      return;\n    }\n\n    if (!this._fullscreen) {\n      const inputRect = this._inputElement.getBoundingClientRect();\n\n      const bottomAlign = inputRect.top > window.innerHeight / 2;\n      const rightAlign = inputRect.left + this.clientWidth / 2 > window.innerWidth / 2;\n\n      if (rightAlign) {\n        const viewportWidth = Math.min(window.innerWidth, document.documentElement.clientWidth);\n        this.$.overlay.setAttribute('right-aligned', '');\n        this.$.overlay.style.removeProperty('left');\n        this.$.overlay.style.right = viewportWidth - inputRect.right + 'px';\n      } else {\n        this.$.overlay.removeAttribute('right-aligned');\n        this.$.overlay.style.removeProperty('right');\n        this.$.overlay.style.left = inputRect.left + 'px';\n      }\n\n      if (bottomAlign) {\n        const viewportHeight = Math.min(window.innerHeight, document.documentElement.clientHeight);\n        this.$.overlay.setAttribute('bottom-aligned', '');\n        this.$.overlay.style.removeProperty('top');\n        this.$.overlay.style.bottom = viewportHeight - inputRect.top + 'px';\n      } else {\n        this.$.overlay.removeAttribute('bottom-aligned');\n        this.$.overlay.style.removeProperty('bottom');\n        this.$.overlay.style.top = inputRect.bottom + 'px';\n      }\n    }\n\n    this.$.overlay.setAttribute('dir', getComputedStyle(this._inputElement).getPropertyValue('direction'));\n\n    this._overlayContent._repositionYearScroller();\n  }\n\n  _fullscreenChanged() {\n    if (this._overlayInitialized && this.$.overlay.opened) {\n      this._updateAlignmentAndPosition();\n    }\n  }\n\n  _onOverlayOpened() {\n    this._openedWithFocusRing = this.hasAttribute('focus-ring') || this.focusElement && this.focusElement.hasAttribute('focus-ring');\n\n    var parsedInitialPosition = this._parseDate(this.initialPosition);\n\n    var initialPosition = this._selectedDate || this._overlayContent.initialPosition || parsedInitialPosition || new Date();\n\n    if (parsedInitialPosition || DatePickerHelper._dateAllowed(initialPosition, this._minDate, this._maxDate)) {\n      this._overlayContent.initialPosition = initialPosition;\n    } else {\n      this._overlayContent.initialPosition = DatePickerHelper._getClosestDate(initialPosition, [this._minDate, this._maxDate]);\n    }\n\n    this._overlayContent.scrollToDate(this._overlayContent.focusedDate || this._overlayContent.initialPosition); // Have a default focused date\n\n\n    this._ignoreFocusedDateChange = true;\n    this._overlayContent.focusedDate = this._overlayContent.focusedDate || this._overlayContent.initialPosition;\n    this._ignoreFocusedDateChange = false;\n    window.addEventListener('scroll', this._boundOnScroll, true);\n    this.addEventListener('iron-resize', this._boundUpdateAlignmentAndPosition);\n\n    if (this._webkitOverflowScroll) {\n      this._touchPrevented = this._preventWebkitOverflowScrollingTouch(this.parentElement);\n    }\n\n    if (this._focusOverlayOnOpen) {\n      this._overlayContent.focus();\n\n      this._focusOverlayOnOpen = false;\n    } else {\n      this._focus();\n    }\n\n    if (this._noInput && this.focusElement) {\n      this.focusElement.blur();\n    }\n\n    this.updateStyles();\n    this._ignoreAnnounce = false;\n  } // A hack needed for iOS to prevent dropdown from being clipped in an\n  // ancestor container with -webkit-overflow-scrolling: touch;\n\n\n  _preventWebkitOverflowScrollingTouch(element) {\n    var result = [];\n\n    while (element) {\n      if (window.getComputedStyle(element).webkitOverflowScrolling === 'touch') {\n        var oldInlineValue = element.style.webkitOverflowScrolling;\n        element.style.webkitOverflowScrolling = 'auto';\n        result.push({\n          element: element,\n          oldInlineValue: oldInlineValue\n        });\n      }\n\n      element = element.parentElement;\n    }\n\n    return result;\n  }\n\n  _onOverlayClosed() {\n    this._ignoreAnnounce = true;\n    window.removeEventListener('scroll', this._boundOnScroll, true);\n    this.removeEventListener('iron-resize', this._boundUpdateAlignmentAndPosition);\n\n    if (this._touchPrevented) {\n      this._touchPrevented.forEach(prevented => prevented.element.style.webkitOverflowScrolling = prevented.oldInlineValue);\n\n      this._touchPrevented = [];\n    }\n\n    this.updateStyles(); // Select the parsed input or focused date\n\n    this._ignoreFocusedDateChange = true;\n\n    if (this.i18n.parseDate) {\n      var inputValue = this._inputValue || '';\n      const dateObject = this.i18n.parseDate(inputValue);\n\n      const parsedDate = dateObject && this._parseDate(`${dateObject.year}-${dateObject.month + 1}-${dateObject.day}`);\n\n      if (this._isValidDate(parsedDate)) {\n        this._selectedDate = parsedDate;\n      } else {\n        this._selectedDate = null;\n        this._inputValue = inputValue;\n      }\n    } else if (this._focusedDate) {\n      this._selectedDate = this._focusedDate;\n    }\n\n    this._ignoreFocusedDateChange = false;\n\n    if (this._nativeInput && this._nativeInput.selectionStart) {\n      this._nativeInput.selectionStart = this._nativeInput.selectionEnd;\n    }\n\n    this.validate();\n  }\n  /**\n   * Returns true if `value` is valid, and sets the `invalid` flag appropriately.\n   *\n   * @param {string} value Value to validate. Optional, defaults to user's input value.\n   * @return {boolean} True if the value is valid and sets the `invalid` flag appropriately\n   */\n\n\n  validate(value) {\n    // reset invalid state on the underlying text field\n    this.invalid = false;\n    value = value !== undefined ? value : this._inputValue;\n    return !(this.invalid = !this.checkValidity(value));\n  }\n  /**\n   * Returns true if the current input value satisfies all constraints (if any)\n   *\n   * Override the `checkValidity` method for custom validations.\n   *\n   * @param {string} value Value to validate. Optional, defaults to the selected date.\n   * @return {boolean} True if the value is valid\n   */\n\n\n  checkValidity(value) {\n    var inputValid = !value || this._selectedDate && value === this.i18n.formatDate(DatePickerHelper._extractDateParts(this._selectedDate));\n\n    var minMaxValid = !this._selectedDate || DatePickerHelper._dateAllowed(this._selectedDate, this._minDate, this._maxDate);\n\n    var inputValidity = true;\n\n    if (this._inputElement) {\n      if (this._inputElement.checkValidity) {\n        // vaadin native input elements have the checkValidity method\n        inputValidity = this._inputElement.checkValidity(value);\n      } else if (this._inputElement.validate) {\n        // iron-form-elements have the validate API\n        inputValidity = this._inputElement.validate(value);\n      }\n    }\n\n    return inputValid && minMaxValid && inputValidity;\n  }\n\n  _onScroll(e) {\n    if (e.target === window || !this._overlayContent.contains(e.target)) {\n      this._updateAlignmentAndPosition();\n    }\n  }\n\n  _focus() {\n    if (this._noInput) {\n      this._overlayInitialized && this._overlayContent.focus();\n    } else {\n      this._inputElement.focus();\n    }\n  }\n\n  _focusAndSelect() {\n    this._focus();\n\n    this._setSelectionRange(0, this._inputValue.length);\n  }\n\n  _setSelectionRange(a, b) {\n    if (this._nativeInput && this._nativeInput.setSelectionRange) {\n      this._nativeInput.setSelectionRange(a, b);\n    }\n  }\n  /**\n   * Keyboard Navigation\n   */\n\n\n  _eventKey(e) {\n    var keys = ['down', 'up', 'enter', 'esc', 'tab'];\n\n    for (var i = 0; i < keys.length; i++) {\n      var k = keys[i];\n\n      if (IronA11yKeysBehavior.keyboardEventMatchesKeys(e, k)) {\n        return k;\n      }\n    }\n  }\n\n  _isValidDate(d) {\n    return d && !isNaN(d.getTime());\n  }\n\n  _onKeydown(e) {\n    if (this._noInput) {\n      // The input element cannot be readonly as it would conflict with\n      // the required attribute. Both are not allowed on an input element.\n      // Therefore we prevent default on most keydown events.\n      var allowedKeys = [9 // tab\n      ];\n\n      if (allowedKeys.indexOf(e.keyCode) === -1) {\n        e.preventDefault();\n      }\n    }\n\n    switch (this._eventKey(e)) {\n      case 'down':\n      case 'up':\n        // prevent scrolling the page with arrows\n        e.preventDefault();\n\n        if (this.opened) {\n          this._overlayContent.focus();\n\n          this._overlayContent._onKeydown(e);\n        } else {\n          this._focusOverlayOnOpen = true;\n          this.open();\n        }\n\n        break;\n\n      case 'enter':\n        {\n          const dateObject = this.i18n.parseDate(this._inputValue);\n\n          const parsedDate = dateObject && this._parseDate(dateObject.year + '-' + (dateObject.month + 1) + '-' + dateObject.day);\n\n          if (this._overlayInitialized && this._overlayContent.focusedDate && this._isValidDate(parsedDate)) {\n            this._selectedDate = this._overlayContent.focusedDate;\n          }\n\n          this.close();\n          break;\n        }\n\n      case 'esc':\n        this._focusedDate = this._selectedDate;\n\n        this._close();\n\n        break;\n\n      case 'tab':\n        if (this.opened) {\n          e.preventDefault(); // Clear the selection range (remains visible on IE)\n\n          this._setSelectionRange(0, 0);\n\n          if (e.shiftKey) {\n            this._overlayContent.focusCancel();\n          } else {\n            this._overlayContent.focus();\n\n            this._overlayContent.revealDate(this._focusedDate);\n          }\n        }\n\n        break;\n    }\n  }\n\n  _validateInput(date, min, max) {\n    if (date && (min || max)) {\n      this.invalid = !DatePickerHelper._dateAllowed(date, min, max);\n    }\n  }\n\n  _onUserInput(e) {\n    if (!this.opened && this._inputElement.value) {\n      this.open();\n    }\n\n    this._userInputValueChanged();\n  }\n\n  _userInputValueChanged(value) {\n    if (this.opened && this._inputValue) {\n      const dateObject = this.i18n.parseDate && this.i18n.parseDate(this._inputValue);\n\n      const parsedDate = dateObject && this._parseDate(`${dateObject.year}-${dateObject.month + 1}-${dateObject.day}`);\n\n      if (this._isValidDate(parsedDate)) {\n        this._ignoreFocusedDateChange = true;\n\n        if (!DatePickerHelper._dateEquals(parsedDate, this._focusedDate)) {\n          this._focusedDate = parsedDate;\n        }\n\n        this._ignoreFocusedDateChange = false;\n      }\n    }\n  }\n\n  _announceFocusedDate(_focusedDate, opened, _ignoreAnnounce) {\n    if (opened && !_ignoreAnnounce) {\n      this._overlayContent.announceFocusedDate();\n    }\n  }\n\n  get _overlayContent() {\n    return this.$.overlay.content.querySelector('#overlay-content');\n  }\n  /**\n   * Fired when the user commits a value change.\n   *\n   * @event change\n   */\n\n\n};","/**\n@license\nCopyright (c) 2017 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\nimport { PolymerElement } from \"@polymer/polymer/polymer-element.js\";\nimport { GestureEventListeners } from \"@polymer/polymer/lib/mixins/gesture-event-listeners.js\";\nimport \"@polymer/iron-media-query/iron-media-query.js\";\nimport { ThemableMixin } from \"../../vaadin-themable-mixin/vaadin-themable-mixin.js\";\nimport { ThemePropertyMixin } from \"../../vaadin-themable-mixin/vaadin-theme-property-mixin.js\";\nimport { ControlStateMixin } from \"../../vaadin-control-state-mixin/vaadin-control-state-mixin.js\";\nimport './vaadin-date-picker-overlay.js';\nimport './vaadin-date-picker-overlay-content.js';\nimport { DatePickerMixin } from './vaadin-date-picker-mixin.js';\nimport \"../../vaadin-text-field/src/vaadin-text-field.js\";\nimport { ElementMixin } from \"../../vaadin-element-mixin/vaadin-element-mixin.js\";\nimport { html } from \"@polymer/polymer/lib/utils/html-tag.js\";\nimport { afterNextRender } from \"@polymer/polymer/lib/utils/render-status.js\";\n/**\n *\n * `<vaadin-date-picker>` is a date selection field which includes a scrollable\n * month calendar view.\n * ```html\n * <vaadin-date-picker label=\"Birthday\"></vaadin-date-picker>\n * ```\n * ```js\n * datePicker.value = '2016-03-02';\n * ```\n * When the selected `value` is changed, a `value-changed` event is triggered.\n *\n *\n * ### Styling\n *\n * The following shadow DOM parts are available for styling:\n *\n * Part name | Description | Theme for Element\n * ----------------|----------------|----------------\n * `text-field` | Input element | vaadin-date-picker\n * `clear-button` | Clear button | vaadin-date-picker\n * `toggle-button` | Toggle button | vaadin-date-picker\n * `overlay-content` | The overlay element | vaadin-date-picker\n * `overlay-header` | Fullscreen mode header | vaadin-date-picker-overlay-content\n * `label` | Fullscreen mode value/label | vaadin-date-picker-overlay-content\n * `clear-button` | Fullscreen mode clear button | vaadin-date-picker-overlay-content\n * `toggle-button` | Fullscreen mode toggle button | vaadin-date-picker-overlay-content\n * `years-toggle-button` | Fullscreen mode years scroller toggle | vaadin-date-picker-overlay-content\n * `months` | Months scroller | vaadin-date-picker-overlay-content\n * `years` | Years scroller | vaadin-date-picker-overlay-content\n * `toolbar` | Footer bar with buttons | vaadin-date-picker-overlay-content\n * `today-button` | Today button | vaadin-date-picker-overlay-content\n * `cancel-button` | Cancel button | vaadin-date-picker-overlay-content\n * `month` | Month calendar | vaadin-date-picker-overlay-content\n * `year-number` | Year number | vaadin-date-picker-overlay-content\n * `year-separator` | Year separator | vaadin-date-picker-overlay-content\n * `month-header` | Month title | vaadin-month-calendar\n * `weekdays` | Weekday container | vaadin-month-calendar\n * `weekday` | Weekday element | vaadin-month-calendar\n * `week-numbers` | Week numbers container | vaadin-month-calendar\n * `week-number` | Week number element | vaadin-month-calendar\n * `date` | Date element | vaadin-month-calendar\n *\n * See [ThemableMixin – how to apply styles for shadow parts](https://github.com/vaadin/vaadin-themable-mixin/wiki)\n *\n * The following state attributes are available for styling:\n *\n * Attribute    | Description | Part name\n * -------------|-------------|------------\n * `invalid` | Set when the element is invalid | :host\n * `opened` | Set when the date selector overlay is opened | :host\n * `readonly` | Set when the element is readonly | :host\n * `disabled` | Set when the element is disabled | :host\n * `today` | Set on the date corresponding to the current day | date\n * `focused` | Set on the focused date | date\n * `disabled` | Set on the date out of the allowed range | date\n * `selected` | Set on the selected date | date\n *\n * If you want to replace the default input field with a custom implementation, you should use the\n * [`<vaadin-date-picker-light>`](#vaadin-date-picker-light) element.\n *\n * In addition to `<vaadin-date-picker>` itself, the following internal\n * components are themable:\n *\n * - `<vaadin-text-field>`\n * - `<vaadin-date-picker-overlay>`\n * - `<vaadin-date-picker-overlay-content>`\n * - `<vaadin-month-calendar>`\n *\n * Note: the `theme` attribute value set on `<vaadin-date-picker>` is\n * propagated to the internal themable components listed above.\n *\n * @memberof Vaadin\n * @mixes Vaadin.ElementMixin\n * @mixes Vaadin.ControlStateMixin\n * @mixes Vaadin.ThemableMixin\n * @mixes Vaadin.ThemePropertyMixin\n * @mixes Vaadin.DatePickerMixin\n * @mixes Polymer.GestureEventListeners\n * @demo demo/index.html\n */\n\nclass DatePickerElement extends ElementMixin(ControlStateMixin(ThemableMixin(ThemePropertyMixin(DatePickerMixin(GestureEventListeners(PolymerElement)))))) {\n  static get template() {\n    return html`\n    <style>\n      :host {\n        display: inline-block;\n      }\n\n      :host([hidden]) {\n        display: none !important;\n      }\n\n      :host([opened]) {\n        pointer-events: auto;\n      }\n\n      [part=\"text-field\"] {\n        width: 100%;\n        min-width: 0;\n      }\n    </style>\n\n\n    <vaadin-text-field id=\"input\" role=\"application\" autocomplete=\"off\" on-focus=\"_focus\" value=\"{{_userInputValue}}\" invalid=\"[[invalid]]\" label=\"[[label]]\" name=\"[[name]]\" placeholder=\"[[placeholder]]\" required=\"[[required]]\" disabled=\"[[disabled]]\" readonly=\"[[readonly]]\" error-message=\"[[errorMessage]]\" clear-button-visible=\"[[clearButtonVisible]]\" aria-label\\$=\"[[label]]\" part=\"text-field\" theme\\$=\"[[theme]]\">\n      <slot name=\"prefix\" slot=\"prefix\"></slot>\n      <div part=\"toggle-button\" slot=\"suffix\" on-tap=\"_toggle\" role=\"button\" aria-label\\$=\"[[i18n.calendar]]\" aria-expanded\\$=\"[[_getAriaExpanded(opened)]]\"></div>\n    </vaadin-text-field>\n\n    <vaadin-date-picker-overlay id=\"overlay\" fullscreen\\$=\"[[_fullscreen]]\" theme\\$=\"[[__getOverlayTheme(theme, _overlayInitialized)]]\" on-vaadin-overlay-open=\"_onOverlayOpened\" on-vaadin-overlay-close=\"_onOverlayClosed\" disable-upgrade=\"\">\n      <template>\n        <vaadin-date-picker-overlay-content id=\"overlay-content\" i18n=\"[[i18n]]\" fullscreen\\$=\"[[_fullscreen]]\" label=\"[[label]]\" selected-date=\"{{_selectedDate}}\" slot=\"dropdown-content\" focused-date=\"{{_focusedDate}}\" show-week-numbers=\"[[showWeekNumbers]]\" min-date=\"[[_minDate]]\" max-date=\"[[_maxDate]]\" role=\"dialog\" on-date-tap=\"_close\" part=\"overlay-content\" theme\\$=\"[[__getOverlayTheme(theme, _overlayInitialized)]]\">\n        </vaadin-date-picker-overlay-content>\n      </template>\n    </vaadin-date-picker-overlay>\n\n    <iron-media-query query=\"[[_fullscreenMediaQuery]]\" query-matches=\"{{_fullscreen}}\">\n    </iron-media-query>\n`;\n  }\n\n  static get is() {\n    return 'vaadin-date-picker';\n  }\n\n  static get version() {\n    return '4.0.5';\n  }\n\n  static get properties() {\n    return {\n      /**\n       * Set to true to display the clear icon which clears the input.\n       */\n      clearButtonVisible: {\n        type: Boolean,\n        value: false\n      },\n\n      /**\n       * Set to true to disable this element.\n       */\n      disabled: {\n        type: Boolean,\n        value: false,\n        reflectToAttribute: true\n      },\n\n      /**\n       * The error message to display when the input is invalid.\n       */\n      errorMessage: String,\n\n      /**\n       * A placeholder string in addition to the label. If this is set, the label will always float.\n       */\n      placeholder: String,\n\n      /**\n       * Set to true to make this element read-only.\n       */\n      readonly: {\n        type: Boolean,\n        value: false,\n        reflectToAttribute: true\n      },\n\n      /**\n       * This property is set to true when the control value invalid.\n       */\n      invalid: {\n        type: Boolean,\n        reflectToAttribute: true,\n        notify: true,\n        value: false\n      },\n      _userInputValue: String\n    };\n  }\n\n  static get observers() {\n    return ['_userInputValueChanged(_userInputValue)', '_setClearButtonLabel(i18n.clear)'];\n  }\n\n  ready() {\n    super.ready(); // In order to have synchronized invalid property, we need to use the same validate logic.\n\n    afterNextRender(this, () => this._inputElement.validate = () => {}); // FIXME(platosha): dispatch `input` event on\n    // <vaadin-text-field> clear button\n    // https://github.com/vaadin/vaadin-text-field/issues/347\n\n    this._inputElement.addEventListener('change', () => {\n      if (this._inputElement.value === '') {\n        this.__dispatchChange = true;\n        this.value = '';\n        this.validate();\n        this.__dispatchChange = false;\n      }\n    });\n  }\n\n  _onVaadinOverlayClose(e) {\n    if (this._openedWithFocusRing && this.hasAttribute('focused')) {\n      this.focusElement.setAttribute('focus-ring', '');\n    } else if (!this.hasAttribute('focused')) {\n      this.focusElement.blur();\n    }\n\n    if (e.detail.sourceEvent && e.detail.sourceEvent.composedPath().indexOf(this) !== -1) {\n      e.preventDefault();\n    }\n  }\n\n  _toggle(e) {\n    e.stopPropagation();\n    this[this._overlayInitialized && this.$.overlay.opened ? 'close' : 'open']();\n  }\n\n  _input() {\n    return this.$.input;\n  }\n\n  set _inputValue(value) {\n    this._inputElement.value = value;\n  }\n\n  get _inputValue() {\n    return this._inputElement.value;\n  }\n\n  _getAriaExpanded(opened) {\n    return Boolean(opened).toString();\n  }\n  /**\n   * Focussable element used by vaadin-control-state-mixin\n   */\n\n\n  get focusElement() {\n    return this._input() || this;\n  }\n\n  _setClearButtonLabel(i18nClear) {\n    // FIXME(platosha): expose i18n API in <vaadin-text-field>\n    // https://github.com/vaadin/vaadin-text-field/issues/348\n    this._inputElement.shadowRoot.querySelector('[part=\"clear-button\"]').setAttribute('aria-label', i18nClear);\n  }\n\n}\n\ncustomElements.define(DatePickerElement.is, DatePickerElement);\nexport { DatePickerElement };","import \"../../../vaadin-lumo-styles/spacing.js\";\nimport \"../../../vaadin-lumo-styles/mixins/overlay.js\";\nimport { html } from \"@polymer/polymer/lib/utils/html-tag.js\";\nconst $_documentContainer = html`<dom-module id=\"lumo-dialog\" theme-for=\"vaadin-dialog-overlay\">\n  <template>\n    <style include=\"lumo-overlay\">\n      /* Optical centering */\n      :host::before,\n      :host::after {\n        content: \"\";\n        flex-basis: 0;\n        flex-grow: 1;\n      }\n\n      :host::after {\n        flex-grow: 1.1;\n      }\n\n      [part=\"overlay\"] {\n        box-shadow: 0 0 0 1px var(--lumo-shade-5pct), var(--lumo-box-shadow-xl);\n        background-image: none;\n        outline: none;\n        -webkit-tap-highlight-color: transparent;\n      }\n\n      [part=\"content\"] {\n        padding: var(--lumo-space-l);\n      }\n\n      /* Animations */\n\n      :host([opening]),\n      :host([closing]) {\n        animation: 0.25s lumo-overlay-dummy-animation;\n      }\n\n      :host([opening]) [part=\"overlay\"] {\n        animation: 0.12s 0.05s vaadin-dialog-enter cubic-bezier(.215, .61, .355, 1) both;\n      }\n\n      @keyframes vaadin-dialog-enter {\n        0% {\n          opacity: 0;\n          transform: scale(0.95);\n        }\n      }\n\n      :host([closing]) [part=\"overlay\"] {\n        animation: 0.1s 0.03s vaadin-dialog-exit cubic-bezier(.55, .055, .675, .19) both;\n      }\n\n      :host([closing]) [part=\"backdrop\"] {\n        animation-delay: 0.05s;\n      }\n\n      @keyframes vaadin-dialog-exit {\n        100% {\n          opacity: 0;\n          transform: scale(1.02);\n        }\n      }\n    </style>\n  </template>\n</dom-module>`;\ndocument.head.appendChild($_documentContainer.content);","/**\n@license\nCopyright (c) 2017 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\nimport { PolymerElement } from \"@polymer/polymer/polymer-element.js\";\nimport \"@polymer/polymer/lib/utils/templatize.js\";\nimport { OverlayElement } from \"../../vaadin-overlay/src/vaadin-overlay.js\";\nimport { ElementMixin } from \"../../vaadin-element-mixin/vaadin-element-mixin.js\";\nimport { FlattenedNodesObserver } from \"@polymer/polymer/lib/utils/flattened-nodes-observer.js\";\nimport { ThemePropertyMixin } from \"../../vaadin-themable-mixin/vaadin-theme-property-mixin.js\";\nimport { html } from \"@polymer/polymer/lib/utils/html-tag.js\";\nconst $_documentContainer = document.createElement('template');\n$_documentContainer.innerHTML = `<dom-module id=\"vaadin-dialog-overlay-styles\" theme-for=\"vaadin-dialog-overlay\">\n  <template>\n    <style>\n      /*\n        NOTE(platosha): Make some min-width to prevent collapsing of the content\n        taking the parent width, e. g., <vaadin-grid> and such.\n      */\n      [part=\"content\"] {\n        min-width: 12em; /* matches the default <vaadin-text-field> width */\n      }\n    </style>\n  </template>\n</dom-module>`;\ndocument.head.appendChild($_documentContainer.content);\n/**\n * The overlay element.\n *\n * ### Styling\n *\n * See [`<vaadin-overlay>` documentation](https://github.com/vaadin/vaadin-overlay/blob/master/src/vaadin-overlay.html)\n * for `<vaadin-dialog-overlay>` parts.\n *\n * @memberof Vaadin\n * @private\n */\n\nclass DialogOverlayElement extends OverlayElement {\n  static get is() {\n    return 'vaadin-dialog-overlay';\n  }\n\n}\n\ncustomElements.define(DialogOverlayElement.is, DialogOverlayElement);\n/**\n *\n * `<vaadin-dialog>` is a Web Component for creating customized modal dialogs. The content of the\n * dialog can be populated in two ways: imperatively by using renderer callback function and\n * declaratively by using Polymer's Templates.\n *\n * ### Rendering\n *\n * By default, the dialog uses the content provided by using the renderer callback function.\n *\n * The renderer function provides `root`, `dialog` arguments.\n * Generate DOM content, append it to the `root` element and control the state\n * of the host element by accessing `dialog`. Before generating new content,\n * users are able to check if there is already content in `root` for reusing it.\n *\n * ```html\n * <vaadin-dialog id=\"dialog\"></vaadin-dialog>\n * ```\n * ```js\n * const dialog = document.querySelector('#dialog');\n * dialog.renderer = function(root, dialog) {\n *   root.textContent = \"Sample dialog\";\n * };\n * ```\n *\n * Renderer is called on the opening of the dialog.\n * DOM generated during the renderer call can be reused\n * in the next renderer call and will be provided with the `root` argument.\n * On first call it will be empty.\n *\n * ### Polymer Templates\n *\n * Alternatively, the content can be provided with Polymer's Template.\n * Dialog finds the first child template and uses that in case renderer callback function\n * is not provided. You can also set a custom template using the `template` property.\n *\n * ```html\n * <vaadin-dialog opened>\n *   <template>\n *     Sample dialog\n *   </template>\n * </vaadin-dialog>\n * ```\n *\n * ### Styling\n *\n * See [`<vaadin-overlay>` documentation](https://github.com/vaadin/vaadin-overlay/blob/master/src/vaadin-overlay.html)\n * for `<vaadin-dialog-overlay>` parts.\n *\n * Note: the `theme` attribute value set on `<vaadin-dialog>` is\n * propagated to the internal `<vaadin-dialog-overlay>` component.\n *\n * See [ThemableMixin – how to apply styles for shadow parts](https://github.com/vaadin/vaadin-themable-mixin/wiki)\n *\n * @memberof Vaadin\n * @mixes Vaadin.ElementMixin\n * @mixes Vaadin.ThemePropertyMixin\n * @demo demo/index.html\n */\n\nclass DialogElement extends ThemePropertyMixin(ElementMixin(PolymerElement)) {\n  static get template() {\n    return html`\n    <style>\n      :host {\n        display: none;\n      }\n    </style>\n\n    <vaadin-dialog-overlay id=\"overlay\" on-opened-changed=\"_onOverlayOpened\" with-backdrop=\"\" theme\\$=\"[[theme]]\" focus-trap=\"\">\n    </vaadin-dialog-overlay>\n`;\n  }\n\n  static get is() {\n    return 'vaadin-dialog';\n  }\n\n  static get version() {\n    return '2.2.1';\n  }\n\n  static get properties() {\n    return {\n      /**\n       * True if the overlay is currently displayed.\n       */\n      opened: {\n        type: Boolean,\n        value: false,\n        notify: true\n      },\n\n      /**\n       * Set to true to disable closing dialog on outside click\n       */\n      noCloseOnOutsideClick: {\n        type: Boolean,\n        value: false\n      },\n\n      /**\n       * Set to true to disable closing dialog on Escape press\n       */\n      noCloseOnEsc: {\n        type: Boolean,\n        value: false\n      },\n\n      /**\n       * Set the `aria-label` attribute for assistive technologies like\n       * screen readers. An `undefined` value for this property (the\n       * default) means that the `aria-label` attribute is not present at\n       * all.\n       */\n      ariaLabel: {\n        type: String\n      },\n\n      /**\n       * Theme to apply to the overlay element\n       */\n      theme: String,\n      _contentTemplate: Object,\n\n      /**\n       * Custom function for rendering the content of the dialog.\n       * Receives two arguments:\n       *\n       * - `root` The root container DOM element. Append your content to it.\n       * - `dialog` The reference to the `<vaadin-dialog>` element.\n       */\n      renderer: Function,\n      _oldTemplate: Object,\n      _oldRenderer: Object\n    };\n  }\n\n  static get observers() {\n    return ['_openedChanged(opened)', '_ariaLabelChanged(ariaLabel)', '_templateOrRendererChanged(_contentTemplate, renderer)'];\n  }\n\n  ready() {\n    super.ready();\n    this.$.overlay.setAttribute('role', 'dialog');\n    this.$.overlay.addEventListener('vaadin-overlay-outside-click', this._handleOutsideClick.bind(this));\n    this.$.overlay.addEventListener('vaadin-overlay-escape-press', this._handleEscPress.bind(this));\n    this._observer = new FlattenedNodesObserver(this, info => {\n      this._setTemplateFromNodes(info.addedNodes);\n    });\n  }\n\n  _setTemplateFromNodes(nodes) {\n    this._contentTemplate = nodes.filter(node => node.localName && node.localName === 'template')[0] || this._contentTemplate;\n  }\n\n  _removeNewRendererOrTemplate(template, oldTemplate, renderer, oldRenderer) {\n    if (template !== oldTemplate) {\n      this._contentTemplate = undefined;\n    } else if (renderer !== oldRenderer) {\n      this.renderer = undefined;\n    }\n  }\n  /**\n   * Manually invoke existing renderer.\n   */\n\n\n  render() {\n    this.$.overlay.render();\n  }\n\n  _templateOrRendererChanged(template, renderer) {\n    if (template && renderer) {\n      this._removeNewRendererOrTemplate(template, this._oldTemplate, renderer, this._oldRenderer);\n\n      throw new Error('You should only use either a renderer or a template for dialog content');\n    }\n\n    this._oldTemplate = template;\n    this._oldRenderer = renderer;\n\n    if (renderer) {\n      this.$.overlay.setProperties({\n        owner: this,\n        renderer: renderer\n      });\n    }\n  }\n\n  disconnectedCallback() {\n    super.disconnectedCallback();\n    this.opened = false;\n  }\n\n  _openedChanged(opened) {\n    if (opened) {\n      this.$.overlay.template = this.querySelector('template');\n    }\n\n    this.$.overlay.opened = opened;\n  }\n\n  _ariaLabelChanged(ariaLabel) {\n    if (ariaLabel !== undefined && ariaLabel !== null) {\n      this.$.overlay.setAttribute('aria-label', ariaLabel);\n    } else {\n      this.$.overlay.removeAttribute('aria-label');\n    }\n  }\n\n  _onOverlayOpened(e) {\n    if (e.detail.value === false) {\n      this.opened = false;\n    }\n  }\n  /**\n   * Close the dialog if `noCloseOnOutsideClick` isn't set to true\n   */\n\n\n  _handleOutsideClick(e) {\n    if (this.noCloseOnOutsideClick) {\n      e.preventDefault();\n    }\n  }\n  /**\n   * Close the dialog if `noCloseOnEsc` isn't set to true\n   */\n\n\n  _handleEscPress(e) {\n    if (this.noCloseOnEsc) {\n      e.preventDefault();\n    }\n  }\n\n}\n\ncustomElements.define(DialogElement.is, DialogElement);\nexport { DialogElement };","import \"../../../vaadin-lumo-styles/color.js\";\nimport \"../../../vaadin-lumo-styles/font-icons.js\";\nimport \"../../../vaadin-lumo-styles/sizing.js\";\nimport \"../../../vaadin-lumo-styles/spacing.js\";\nimport \"../../../vaadin-lumo-styles/style.js\";\nimport \"../../../vaadin-lumo-styles/typography.js\";\nimport \"../../../vaadin-checkbox/theme/lumo/vaadin-checkbox.js\";\nimport { html } from \"@polymer/polymer/lib/utils/html-tag.js\";\nconst $_documentContainer = html`<dom-module id=\"lumo-grid\" theme-for=\"vaadin-grid\">\n  <template>\n    <style>\n      :host {\n        font-family: var(--lumo-font-family);\n        font-size: var(--lumo-font-size-m);\n        line-height: var(--lumo-line-height-s);\n        color: var(--lumo-body-text-color);\n        background-color: var(--lumo-base-color);\n        box-sizing: border-box;\n        -webkit-text-size-adjust: 100%;\n        -webkit-tap-highlight-color: transparent;\n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: grayscale;\n\n        /* For internal use only */\n        --_lumo-grid-border-color: var(--lumo-contrast-20pct);\n        --_lumo-grid-secondary-border-color: var(--lumo-contrast-10pct);\n        --_lumo-grid-border-width: 1px;\n        --_lumo-grid-selected-row-color: var(--lumo-primary-color-10pct);\n      }\n\n      /* No (outer) border */\n\n      :host(:not([theme~=\"no-border\"])) {\n        border: var(--_lumo-grid-border-width) solid var(--_lumo-grid-border-color);\n      }\n\n      /* Cell styles */\n\n      [part~=\"cell\"] {\n        min-height: var(--lumo-size-m);\n        background-color: var(--lumo-base-color);\n      }\n\n      [part~=\"cell\"] ::slotted(vaadin-grid-cell-content) {\n        cursor: default;\n        padding: var(--lumo-space-xs) var(--lumo-space-m);\n      }\n\n      /* Apply row borders by default and introduce the \"no-row-borders\" variant */\n      :host(:not([theme~=\"no-row-borders\"])) [part~=\"cell\"]:not([part~=\"details-cell\"]) {\n        border-top: var(--_lumo-grid-border-width) solid var(--_lumo-grid-secondary-border-color);\n      }\n\n      /* Hide first body row top border */\n      :host(:not([theme~=\"no-row-borders\"])) [part=\"row\"][first] [part~=\"cell\"]:not([part~=\"details-cell\"]) {\n        border-top: 0;\n        min-height: calc(var(--lumo-size-m) - var(--_lumo-grid-border-width));\n      }\n\n      /* Focus-ring */\n\n      [part~=\"cell\"]:focus {\n        outline: none;\n      }\n\n      :host([navigating]) [part~=\"cell\"]:focus::before {\n        content: \"\";\n        position: absolute;\n        top: 0;\n        right: 0;\n        bottom: 0;\n        left: 0;\n        pointer-events: none;\n        box-shadow: inset 0 0 0 2px var(--lumo-primary-color-50pct);\n      }\n\n      /* Drag and Drop styles */\n      :host([dragover])::after {\n        content: \"\";\n        position: absolute;\n        z-index: 100;\n        top: 0;\n        right: 0;\n        bottom: 0;\n        left: 0;\n        pointer-events: none;\n        box-shadow: inset 0 0 0 2px var(--lumo-primary-color-50pct);\n      }\n\n      [part~=\"row\"][dragover] {\n        z-index: 100 !important;\n      }\n\n      [part~=\"row\"][dragover] [part~=\"cell\"] {\n        overflow: visible;\n      }\n\n      [part~=\"row\"][dragover] [part~=\"cell\"]::after {\n        content: \"\";\n        position: absolute;\n        top: 0;\n        right: 0;\n        bottom: 0;\n        left: 0;\n        height: calc(var(--_lumo-grid-border-width) + 2px);\n        pointer-events: none;\n        background: var(--lumo-primary-color-50pct);\n      }\n\n      :host([theme~=\"no-row-borders\"]) [dragover] [part~=\"cell\"]::after {\n        height: 2px;\n      }\n\n      [part~=\"row\"][dragover=\"below\"] [part~=\"cell\"]::after {\n        top: 100%;\n        bottom: auto;\n        margin-top: -1px;\n      }\n\n      [part~=\"row\"][dragover=\"above\"] [part~=\"cell\"]::after {\n        top: auto;\n        bottom: 100%;\n        margin-bottom: -1px;\n      }\n\n      [part~=\"row\"][details-opened][dragover=\"below\"] [part~=\"cell\"]:not([part~=\"details-cell\"])::after,\n      [part~=\"row\"][details-opened][dragover=\"above\"] [part~=\"details-cell\"]::after {\n        display: none;\n      }\n\n      [part~=\"row\"][dragover][dragover=\"on-top\"] [part~=\"cell\"]::after {\n        height: 100%;\n      }\n\n      [part~=\"row\"][dragstart] {\n        /* Add bottom-space to the row so the drag number doesn't get clipped. Needed for IE/Edge */\n        border-bottom: 100px solid transparent;\n        z-index: 100 !important;\n        opacity: 0.9;\n      }\n\n      [part~=\"row\"][dragstart] [part~=\"cell\"] {\n        border: none !important;\n        box-shadow: none !important;\n      }\n\n      [part~=\"row\"][dragstart] [part~=\"cell\"][last-column] {\n        border-radius: 0 var(--lumo-border-radius-s) var(--lumo-border-radius-s) 0;\n      }\n\n      [part~=\"row\"][dragstart] [part~=\"cell\"][first-column] {\n        border-radius: var(--lumo-border-radius-s) 0 0 var(--lumo-border-radius-s);\n      }\n\n      [ios] [part~=\"row\"][dragstart] [part~=\"cell\"] {\n        background: var(--lumo-primary-color-50pct);\n      }\n\n      #scroller:not([ios]) [part~=\"row\"][dragstart]:not([dragstart=\"\"])::after {\n        display: block;\n        position: absolute;\n        left: var(--_grid-drag-start-x);\n        top: var(--_grid-drag-start-y);\n        z-index: 100;\n        content: attr(dragstart);\n        align-items: center;\n        justify-content: center;\n        box-sizing: border-box;\n        padding: calc(var(--lumo-space-xs) * 0.8);\n        color: var(--lumo-error-contrast-color);\n        background-color: var(--lumo-error-color);\n        border-radius: var(--lumo-border-radius-m);\n        font-family: var(--lumo-font-family);\n        font-size: var(--lumo-font-size-xxs);\n        line-height: 1;\n        font-weight: 500;\n        text-transform: initial;\n        letter-spacing: initial;\n        min-width: calc(var(--lumo-size-s) * 0.7);\n        text-align: center;\n      }\n\n      /* Headers and footers */\n\n      [part~=\"header-cell\"] ::slotted(vaadin-grid-cell-content),\n      [part~=\"footer-cell\"] ::slotted(vaadin-grid-cell-content),\n      [part~=\"reorder-ghost\"] {\n        font-size: var(--lumo-font-size-s);\n        font-weight: 500;\n      }\n\n      [part~=\"footer-cell\"] ::slotted(vaadin-grid-cell-content) {\n        font-weight: 400;\n      }\n\n      [part=\"row\"]:only-child [part~=\"header-cell\"] {\n        min-height: var(--lumo-size-xl);\n      }\n\n      /* Header borders */\n\n      /* Hide first header row top border */\n      :host(:not([theme~=\"no-row-borders\"])) [part=\"row\"]:first-child [part~=\"header-cell\"] {\n        border-top: 0;\n      }\n\n      [part=\"row\"]:last-child [part~=\"header-cell\"] {\n        border-bottom: var(--_lumo-grid-border-width) solid transparent;\n      }\n\n      :host(:not([theme~=\"no-row-borders\"])) [part=\"row\"]:last-child [part~=\"header-cell\"] {\n        border-bottom-color: var(--_lumo-grid-secondary-border-color);\n      }\n\n      /* Overflow uses a stronger border color */\n      :host([overflow~=\"top\"]) [part=\"row\"]:last-child [part~=\"header-cell\"] {\n        border-bottom-color: var(--_lumo-grid-border-color);\n      }\n\n      /* Footer borders */\n\n      [part=\"row\"]:first-child [part~=\"footer-cell\"] {\n        border-top: var(--_lumo-grid-border-width) solid transparent;\n      }\n\n      :host(:not([theme~=\"no-row-borders\"])) [part=\"row\"]:first-child [part~=\"footer-cell\"] {\n        border-top-color: var(--_lumo-grid-secondary-border-color);\n      }\n\n      /* Overflow uses a stronger border color */\n      :host([overflow~=\"bottom\"]) [part=\"row\"]:first-child [part~=\"footer-cell\"] {\n        border-top-color: var(--_lumo-grid-border-color);\n      }\n\n      /* Column reordering */\n\n      :host([reordering]) [part~=\"cell\"] {\n        background: linear-gradient(var(--lumo-shade-20pct), var(--lumo-shade-20pct)) var(--lumo-base-color);\n      }\n\n      :host([reordering]) [part~=\"cell\"][reorder-status=\"allowed\"] {\n        background: var(--lumo-base-color);\n      }\n\n      :host([reordering]) [part~=\"cell\"][reorder-status=\"dragging\"] {\n        background: linear-gradient(var(--lumo-contrast-5pct), var(--lumo-contrast-5pct)) var(--lumo-base-color);\n      }\n\n      [part~=\"reorder-ghost\"] {\n        opacity: 0.85;\n        box-shadow: var(--lumo-box-shadow-s);\n        /* TODO Use the same styles as for the cell element (reorder-ghost copies styles from the cell element) */\n        padding: var(--lumo-space-s) var(--lumo-space-m) !important;\n      }\n\n      /* Column resizing */\n\n      [part=\"resize-handle\"] {\n        width: 3px;\n        background-color: var(--lumo-primary-color-50pct);\n        opacity: 0;\n        transition: opacity 0.2s;\n      }\n\n      :host(:not([reordering])) *:not([column-resizing]) [part~=\"cell\"]:hover [part=\"resize-handle\"],\n      [part=\"resize-handle\"]:active {\n        opacity: 1;\n        transition-delay: 0.15s;\n      }\n\n      /* Column borders */\n\n      :host([theme~=\"column-borders\"]) [part~=\"cell\"]:not([last-column]):not([part~=\"details-cell\"]) {\n        border-right: var(--_lumo-grid-border-width) solid var(--_lumo-grid-secondary-border-color);\n      }\n\n      /* Frozen columns */\n\n      [last-frozen] {\n        border-right: var(--_lumo-grid-border-width) solid transparent;\n        overflow: hidden;\n      }\n\n      :host([overflow~=\"left\"]) [part~=\"cell\"][last-frozen]:not([part~=\"details-cell\"]) {\n        border-right-color: var(--_lumo-grid-border-color);\n      }\n\n      /* Row stripes */\n\n      :host([theme~=\"row-stripes\"]) [part~=\"row\"]:not([odd]) [part~=\"body-cell\"],\n      :host([theme~=\"row-stripes\"]) [part~=\"row\"]:not([odd]) [part~=\"details-cell\"] {\n        background-image: linear-gradient(var(--lumo-contrast-5pct), var(--lumo-contrast-5pct));\n        background-repeat: repeat-x;\n      }\n\n      /* Selected row */\n\n      /* Raise the selected rows above unselected rows (so that box-shadow can cover unselected rows) */\n      :host(:not([reordering])) [part~=\"row\"][selected] {\n        z-index: 1;\n      }\n\n      :host(:not([reordering])) [part~=\"row\"][selected] [part~=\"body-cell\"]:not([part~=\"details-cell\"]) {\n        background-image: linear-gradient(var(--_lumo-grid-selected-row-color), var(--_lumo-grid-selected-row-color));\n        background-repeat: repeat;\n      }\n\n      /* Cover the border of an unselected row */\n      :host(:not([theme~=\"no-row-borders\"])) [part~=\"row\"][selected] [part~=\"cell\"]:not([part~=\"details-cell\"]) {\n        box-shadow: 0 var(--_lumo-grid-border-width) 0 0 var(--_lumo-grid-selected-row-color);\n      }\n\n      /* Compact */\n\n      :host([theme~=\"compact\"]) [part=\"row\"]:only-child [part~=\"header-cell\"] {\n        min-height: var(--lumo-size-m);\n      }\n\n      :host([theme~=\"compact\"]) [part~=\"cell\"] {\n        min-height: var(--lumo-size-s);\n      }\n\n      :host([theme~=\"compact\"]) [part=\"row\"][first] [part~=\"cell\"]:not([part~=\"details-cell\"]) {\n        min-height: calc(var(--lumo-size-s) - var(--_lumo-grid-border-width));\n      }\n\n      :host([theme~=\"compact\"]) [part~=\"cell\"] ::slotted(vaadin-grid-cell-content) {\n        padding: var(--lumo-space-xs) var(--lumo-space-s);\n      }\n\n      /* Wrap cell contents */\n\n      :host([theme~=\"wrap-cell-content\"]) [part~=\"cell\"] ::slotted(vaadin-grid-cell-content) {\n        white-space: normal;\n      }\n    </style>\n  </template>\n</dom-module><dom-module theme-for=\"vaadin-checkbox\" id=\"vaadin-grid-select-all-checkbox-lumo\">\n  <template>\n    <style>\n      :host(.vaadin-grid-select-all-checkbox) {\n        font-size: var(--lumo-font-size-m);\n      }\n   </style>\n  </template>\n</dom-module>`;\ndocument.head.appendChild($_documentContainer.content);","/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\n/**\n\nThis is a fork of <iron-list> for <vaadin-grid>'s internal purposes only!\nTo update:\n1. Get the most recent code from https://github.com/PolymerElements/iron-list/\n2. Remove the  <dom-module id=\"iron-list\"> to avoid collisions with actual <iron-list>\n3. Change \"Polymer({\" to \"window.PolymerIronList = Polymer.Class({\" to expose the class\n3.1. Add @namespace\n4. Optional: Remove all properties and functions not needed by <vaadin-grid>\n5. Profit!\n\n*/\n\n/*\n  FIXME(polymer-modulizer): the above comments were extracted\n  from HTML and may be out of place here. Review them and\n  then delete this comment!\n*/\nimport \"@polymer/polymer/polymer-legacy.js\";\nimport { IronResizableBehavior } from \"@polymer/iron-resizable-behavior/iron-resizable-behavior.js\";\nimport { IronScrollTargetBehavior } from \"@polymer/iron-scroll-target-behavior/iron-scroll-target-behavior.js\";\nimport { animationFrame, idlePeriod, microTask } from \"@polymer/polymer/lib/utils/async.js\";\nimport { Class } from \"@polymer/polymer/lib/legacy/class.js\";\nimport { flush, enqueueDebouncer } from \"@polymer/polymer/lib/utils/flush.js\";\nimport { flush as flush$0 } from \"@polymer/polymer/lib/legacy/polymer.dom.js\";\nimport { Debouncer } from \"@polymer/polymer/lib/utils/debounce.js\";\nvar IOS = navigator.userAgent.match(/iP(?:hone|ad;(?: U;)? CPU) OS (\\d+)/);\nvar IOS_TOUCH_SCROLLING = IOS && IOS[1] >= 8;\nvar DEFAULT_PHYSICAL_COUNT = 3;\nvar ANIMATION_FRAME = animationFrame;\nvar IDLE_TIME = idlePeriod;\nvar MICRO_TASK = microTask;\nexport const PolymerIronList = Class({\n  behaviors: [IronResizableBehavior, IronScrollTargetBehavior],\n\n  /**\n   * The ratio of hidden tiles that should remain in the scroll direction.\n   * Recommended value ~0.5, so it will distribute tiles evenly in both directions.\n   */\n  _ratio: 0.5,\n\n  /**\n   * The padding-top value for the list.\n   */\n  _scrollerPaddingTop: 0,\n\n  /**\n   * This value is the same as `scrollTop`.\n   */\n  _scrollPosition: 0,\n\n  /**\n   * The sum of the heights of all the tiles in the DOM.\n   */\n  _physicalSize: 0,\n\n  /**\n   * The average `offsetHeight` of the tiles observed till now.\n   */\n  _physicalAverage: 0,\n\n  /**\n   * The number of tiles which `offsetHeight` > 0 observed until now.\n   */\n  _physicalAverageCount: 0,\n\n  /**\n   * The Y position of the item rendered in the `_physicalStart`\n   * tile relative to the scrolling list.\n   */\n  _physicalTop: 0,\n\n  /**\n   * The number of items in the list.\n   */\n  _virtualCount: 0,\n\n  /**\n   * The estimated scroll height based on `_physicalAverage`\n   */\n  _estScrollHeight: 0,\n\n  /**\n   * The scroll height of the dom node\n   */\n  _scrollHeight: 0,\n\n  /**\n   * The height of the list. This is referred as the viewport in the context of list.\n   */\n  _viewportHeight: 0,\n\n  /**\n   * The width of the list. This is referred as the viewport in the context of list.\n   */\n  _viewportWidth: 0,\n\n  /**\n   * An array of DOM nodes that are currently in the tree\n   * @type {?Array<!TemplatizerNode>}\n   */\n  _physicalItems: null,\n\n  /**\n   * An array of heights for each item in `_physicalItems`\n   * @type {?Array<number>}\n   */\n  _physicalSizes: null,\n\n  /**\n   * A cached value for the first visible index.\n   * See `firstVisibleIndex`\n   * @type {?number}\n   */\n  _firstVisibleIndexVal: null,\n\n  /**\n   * A Polymer collection for the items.\n   * @type {?Polymer.Collection}\n   */\n  _collection: null,\n\n  /**\n   * A cached value for the last visible index.\n   * See `lastVisibleIndex`\n   * @type {?number}\n   */\n  _lastVisibleIndexVal: null,\n\n  /**\n   * The max number of pages to render. One page is equivalent to the height of the list.\n   */\n  _maxPages: 2,\n\n  /**\n   * The virtual index of the focused item.\n   */\n  _focusedVirtualIndex: -1,\n\n  /**\n   * The maximum items per row\n   */\n  _itemsPerRow: 1,\n\n  /**\n   * The height of the row in grid layout.\n   */\n  _rowHeight: 0,\n\n  /**\n   * The cost of stamping a template in ms.\n   */\n  _templateCost: 0,\n\n  /**\n   * The bottom of the physical content.\n   */\n  get _physicalBottom() {\n    return this._physicalTop + this._physicalSize;\n  },\n\n  /**\n   * The bottom of the scroll.\n   */\n  get _scrollBottom() {\n    return this._scrollPosition + this._viewportHeight;\n  },\n\n  /**\n   * The n-th item rendered in the last physical item.\n   */\n  get _virtualEnd() {\n    return this._virtualStart + this._physicalCount - 1;\n  },\n\n  /**\n   * The height of the physical content that isn't on the screen.\n   */\n  get _hiddenContentSize() {\n    var size = this.grid ? this._physicalRows * this._rowHeight : this._physicalSize;\n    return size - this._viewportHeight;\n  },\n\n  /**\n   * The maximum scroll top value.\n   */\n  get _maxScrollTop() {\n    return this._estScrollHeight - this._viewportHeight + this._scrollOffset;\n  },\n\n  /**\n   * The largest n-th value for an item such that it can be rendered in `_physicalStart`.\n   */\n  get _maxVirtualStart() {\n    var virtualCount = this._convertIndexToCompleteRow(this._virtualCount);\n\n    return Math.max(0, virtualCount - this._physicalCount);\n  },\n\n  set _virtualStart(val) {\n    val = this._clamp(val, 0, this._maxVirtualStart);\n\n    if (this.grid) {\n      val = val - val % this._itemsPerRow;\n    }\n\n    this._virtualStartVal = val;\n  },\n\n  get _virtualStart() {\n    return this._virtualStartVal || 0;\n  },\n\n  /**\n   * The k-th tile that is at the top of the scrolling list.\n   */\n  set _physicalStart(val) {\n    val = val % this._physicalCount;\n\n    if (val < 0) {\n      val = this._physicalCount + val;\n    }\n\n    if (this.grid) {\n      val = val - val % this._itemsPerRow;\n    }\n\n    this._physicalStartVal = val;\n  },\n\n  get _physicalStart() {\n    return this._physicalStartVal || 0;\n  },\n\n  /**\n   * The k-th tile that is at the bottom of the scrolling list.\n   */\n  get _physicalEnd() {\n    return (this._physicalStart + this._physicalCount - 1) % this._physicalCount;\n  },\n\n  set _physicalCount(val) {\n    this._physicalCountVal = val;\n  },\n\n  get _physicalCount() {\n    return this._physicalCountVal || 0;\n  },\n\n  /**\n   * An optimal physical size such that we will have enough physical items\n   * to fill up the viewport and recycle when the user scrolls.\n   *\n   * This default value assumes that we will at least have the equivalent\n   * to a viewport of physical items above and below the user's viewport.\n   */\n  get _optPhysicalSize() {\n    return this._viewportHeight === 0 ? Infinity : this._viewportHeight * this._maxPages;\n  },\n\n  /**\n   * True if the current list is visible.\n   */\n  get _isVisible() {\n    return Boolean(this.offsetWidth || this.offsetHeight);\n  },\n\n  /**\n   * Gets the index of the first visible item in the viewport.\n   *\n   * @type {number}\n   */\n  get firstVisibleIndex() {\n    var idx = this._firstVisibleIndexVal;\n\n    if (idx == null) {\n      var physicalOffset = this._physicalTop + this._scrollOffset;\n      idx = this._iterateItems(function (pidx, vidx) {\n        physicalOffset += this._getPhysicalSizeIncrement(pidx);\n\n        if (physicalOffset > this._scrollPosition) {\n          return this.grid ? vidx - vidx % this._itemsPerRow : vidx;\n        } // Handle a partially rendered final row in grid mode\n\n\n        if (this.grid && this._virtualCount - 1 === vidx) {\n          return vidx - vidx % this._itemsPerRow;\n        }\n      }) || 0;\n      this._firstVisibleIndexVal = idx;\n    }\n\n    return idx;\n  },\n\n  /**\n   * Gets the index of the last visible item in the viewport.\n   *\n   * @type {number}\n   */\n  get lastVisibleIndex() {\n    var idx = this._lastVisibleIndexVal;\n\n    if (idx == null) {\n      if (this.grid) {\n        idx = Math.min(this._virtualCount, this.firstVisibleIndex + this._estRowsInView * this._itemsPerRow - 1);\n      } else {\n        var physicalOffset = this._physicalTop + this._scrollOffset;\n\n        this._iterateItems(function (pidx, vidx) {\n          if (physicalOffset < this._scrollBottom) {\n            idx = vidx;\n          }\n\n          physicalOffset += this._getPhysicalSizeIncrement(pidx);\n        });\n      }\n\n      this._lastVisibleIndexVal = idx;\n    }\n\n    return idx;\n  },\n\n  get _scrollOffset() {\n    return this._scrollerPaddingTop;\n  },\n\n  attached: function () {\n    this._debounce('_render', this._render, ANIMATION_FRAME); // `iron-resize` is fired when the list is attached if the event is added\n    // before attached causing unnecessary work.\n\n\n    this.listen(this, 'iron-resize', '_resizeHandler');\n  },\n  detached: function () {\n    this.unlisten(this, 'iron-resize', '_resizeHandler');\n  },\n\n  /**\n   * Invoke this method if you dynamically update the viewport's\n   * size or CSS padding.\n   *\n   * @method updateViewportBoundaries\n   */\n  updateViewportBoundaries: function () {\n    var styles = window.getComputedStyle(this);\n    this._scrollerPaddingTop = this.scrollTarget === this ? 0 : parseInt(styles['padding-top'], 10);\n    this._isRTL = Boolean(styles.direction === 'rtl');\n    this._viewportWidth = this.$.items.offsetWidth;\n    this._viewportHeight = this._scrollTargetHeight;\n    this.grid && this._updateGridMetrics();\n  },\n\n  /**\n   * Recycles the physical items when needed.\n   */\n  _scrollHandler: function () {\n    var scrollTop = Math.max(0, Math.min(this._maxScrollTop, this._scrollTop));\n    var delta = scrollTop - this._scrollPosition;\n    var isScrollingDown = delta >= 0; // Track the current scroll position.\n\n    this._scrollPosition = scrollTop; // Clear indexes for first and last visible indexes.\n\n    this._firstVisibleIndexVal = null;\n    this._lastVisibleIndexVal = null; // Random access.\n\n    if (Math.abs(delta) > this._physicalSize && this._physicalSize > 0) {\n      delta = delta - this._scrollOffset;\n\n      var idxAdjustment = Math.round(delta / this._physicalAverage) * this._itemsPerRow;\n\n      this._virtualStart = this._virtualStart + idxAdjustment;\n      this._physicalStart = this._physicalStart + idxAdjustment; // Estimate new physical offset.\n\n      this._physicalTop = Math.floor(this._virtualStart / this._itemsPerRow) * this._physicalAverage;\n\n      this._update();\n    } else if (this._physicalCount > 0) {\n      var reusables = this._getReusables(isScrollingDown);\n\n      if (isScrollingDown) {\n        this._physicalTop = reusables.physicalTop;\n        this._virtualStart = this._virtualStart + reusables.indexes.length;\n        this._physicalStart = this._physicalStart + reusables.indexes.length;\n      } else {\n        this._virtualStart = this._virtualStart - reusables.indexes.length;\n        this._physicalStart = this._physicalStart - reusables.indexes.length;\n      }\n\n      this._update(reusables.indexes, isScrollingDown ? null : reusables.indexes);\n\n      this._debounce('_increasePoolIfNeeded', this._increasePoolIfNeeded.bind(this, 0), MICRO_TASK);\n    }\n  },\n\n  /**\n   * Returns an object that contains the indexes of the physical items\n   * that might be reused and the physicalTop.\n   *\n   * @param {boolean} fromTop If the potential reusable items are above the scrolling region.\n   */\n  _getReusables: function (fromTop) {\n    var ith, offsetContent, physicalItemHeight;\n    var idxs = [];\n    var protectedOffsetContent = this._hiddenContentSize * this._ratio;\n    var virtualStart = this._virtualStart;\n    var virtualEnd = this._virtualEnd;\n    var physicalCount = this._physicalCount;\n    var top = this._physicalTop + this._scrollOffset;\n    var bottom = this._physicalBottom + this._scrollOffset;\n    var scrollTop = this._scrollTop;\n    var scrollBottom = this._scrollBottom;\n\n    if (fromTop) {\n      ith = this._physicalStart;\n      offsetContent = scrollTop - top;\n    } else {\n      ith = this._physicalEnd;\n      offsetContent = bottom - scrollBottom;\n    } // eslint-disable-next-line no-constant-condition\n\n\n    while (true) {\n      physicalItemHeight = this._getPhysicalSizeIncrement(ith);\n      offsetContent = offsetContent - physicalItemHeight;\n\n      if (idxs.length >= physicalCount || offsetContent <= protectedOffsetContent) {\n        break;\n      }\n\n      if (fromTop) {\n        // Check that index is within the valid range.\n        if (virtualEnd + idxs.length + 1 >= this._virtualCount) {\n          break;\n        } // Check that the index is not visible.\n\n\n        if (top + physicalItemHeight >= scrollTop - this._scrollOffset) {\n          break;\n        }\n\n        idxs.push(ith);\n        top = top + physicalItemHeight;\n        ith = (ith + 1) % physicalCount;\n      } else {\n        // Check that index is within the valid range.\n        if (virtualStart - idxs.length <= 0) {\n          break;\n        } // Check that the index is not visible.\n\n\n        if (top + this._physicalSize - physicalItemHeight <= scrollBottom) {\n          break;\n        }\n\n        idxs.push(ith);\n        top = top - physicalItemHeight;\n        ith = ith === 0 ? physicalCount - 1 : ith - 1;\n      }\n    }\n\n    return {\n      indexes: idxs,\n      physicalTop: top - this._scrollOffset\n    };\n  },\n\n  /**\n   * Update the list of items, starting from the `_virtualStart` item.\n   * @param {!Array<number>=} itemSet\n   * @param {!Array<number>=} movingUp\n   */\n  _update: function (itemSet, movingUp) {\n    if (itemSet && itemSet.length === 0 || this._physicalCount === 0) {\n      return;\n    }\n\n    this._manageFocus();\n\n    this._assignModels(itemSet);\n\n    this._updateMetrics(itemSet); // Adjust offset after measuring.\n\n\n    if (movingUp) {\n      while (movingUp.length) {\n        var idx = movingUp.pop();\n        this._physicalTop -= this._getPhysicalSizeIncrement(idx);\n      }\n    }\n\n    this._positionItems();\n\n    this._updateScrollerSize();\n  },\n  _isClientFull: function () {\n    return this._scrollBottom != 0 && this._physicalBottom - 1 >= this._scrollBottom && this._physicalTop <= this._scrollPosition;\n  },\n\n  /**\n   * Increases the pool size.\n   */\n  _increasePoolIfNeeded: function (count) {\n    var nextPhysicalCount = this._clamp(this._physicalCount + count, DEFAULT_PHYSICAL_COUNT, this._virtualCount - this._virtualStart);\n\n    nextPhysicalCount = this._convertIndexToCompleteRow(nextPhysicalCount);\n    var delta = nextPhysicalCount - this._physicalCount;\n    var nextIncrease = Math.round(this._physicalCount * 0.5);\n\n    if (delta < 0) {\n      return;\n    }\n\n    if (delta > 0) {\n      var ts = window.performance.now(); // Concat arrays in place.\n\n      [].push.apply(this._physicalItems, this._createPool(delta)); // Push 0s into physicalSizes. Can't use Array.fill because IE11 doesn't support it.\n\n      for (var i = 0; i < delta; i++) {\n        this._physicalSizes.push(0);\n      }\n\n      this._physicalCount = this._physicalCount + delta; // Update the physical start if it needs to preserve the model of the focused item.\n      // In this situation, the focused item is currently rendered and its model would\n      // have changed after increasing the pool if the physical start remained unchanged.\n\n      if (this._physicalStart > this._physicalEnd && this._isIndexRendered(this._focusedVirtualIndex) && this._getPhysicalIndex(this._focusedVirtualIndex) < this._physicalEnd) {\n        this._physicalStart = this._physicalStart + delta;\n      }\n\n      this._update();\n\n      this._templateCost = (window.performance.now() - ts) / delta;\n      nextIncrease = Math.round(this._physicalCount * 0.5);\n    } // The upper bounds is not fixed when dealing with a grid that doesn't\n    // fill it's last row with the exact number of items per row.\n\n\n    if (this._virtualEnd >= this._virtualCount - 1 || nextIncrease === 0) {// Do nothing.\n    } else if (!this._isClientFull()) {\n      this._debounce('_increasePoolIfNeeded', this._increasePoolIfNeeded.bind(this, nextIncrease), MICRO_TASK);\n    } else if (this._physicalSize < this._optPhysicalSize) {\n      // Yield and increase the pool during idle time until the physical size is optimal.\n      this._debounce('_increasePoolIfNeeded', this._increasePoolIfNeeded.bind(this, this._clamp(Math.round(50 / this._templateCost), 1, nextIncrease)), IDLE_TIME);\n    }\n  },\n\n  /**\n   * Renders the a new list.\n   */\n  _render: function () {\n    if (!this.isAttached || !this._isVisible) {\n      return;\n    }\n\n    if (this._physicalCount !== 0) {\n      var reusables = this._getReusables(true);\n\n      this._physicalTop = reusables.physicalTop;\n      this._virtualStart = this._virtualStart + reusables.indexes.length;\n      this._physicalStart = this._physicalStart + reusables.indexes.length;\n\n      this._update(reusables.indexes);\n\n      this._update();\n\n      this._increasePoolIfNeeded(0);\n    } else if (this._virtualCount > 0) {\n      // Initial render\n      this.updateViewportBoundaries();\n\n      this._increasePoolIfNeeded(DEFAULT_PHYSICAL_COUNT);\n    }\n  },\n\n  /**\n   * Called when the items have changed. That is, reassignments\n   * to `items`, splices or updates to a single item.\n   */\n  _itemsChanged: function (change) {\n    if (change.path === 'items') {\n      this._virtualStart = 0;\n      this._physicalTop = 0;\n      this._virtualCount = this.items ? this.items.length : 0;\n      this._collection = this.items && undefined ? undefined.get(this.items) : null;\n      this._physicalIndexForKey = {};\n      this._firstVisibleIndexVal = null;\n      this._lastVisibleIndexVal = null;\n      this._physicalCount = this._physicalCount || 0;\n      this._physicalItems = this._physicalItems || [];\n      this._physicalSizes = this._physicalSizes || [];\n      this._physicalStart = 0;\n\n      if (this._scrollTop > this._scrollOffset) {\n        this._resetScrollPosition(0);\n      }\n\n      this._removeFocusedItem();\n\n      this._debounce('_render', this._render, ANIMATION_FRAME);\n    }\n  },\n\n  /**\n   * Executes a provided function per every physical index in `itemSet`\n   * `itemSet` default value is equivalent to the entire set of physical indexes.\n   *\n   * @param {!function(number, number)} fn\n   * @param {!Array<number>=} itemSet\n   */\n  _iterateItems: function (fn, itemSet) {\n    var pidx, vidx, rtn, i;\n\n    if (arguments.length === 2 && itemSet) {\n      for (i = 0; i < itemSet.length; i++) {\n        pidx = itemSet[i];\n        vidx = this._computeVidx(pidx);\n\n        if ((rtn = fn.call(this, pidx, vidx)) != null) {\n          return rtn;\n        }\n      }\n    } else {\n      pidx = this._physicalStart;\n      vidx = this._virtualStart;\n\n      for (; pidx < this._physicalCount; pidx++, vidx++) {\n        if ((rtn = fn.call(this, pidx, vidx)) != null) {\n          return rtn;\n        }\n      }\n\n      for (pidx = 0; pidx < this._physicalStart; pidx++, vidx++) {\n        if ((rtn = fn.call(this, pidx, vidx)) != null) {\n          return rtn;\n        }\n      }\n    }\n  },\n\n  /**\n   * Returns the virtual index for a given physical index\n   *\n   * @param {number} pidx Physical index\n   * @return {number}\n   */\n  _computeVidx: function (pidx) {\n    if (pidx >= this._physicalStart) {\n      return this._virtualStart + (pidx - this._physicalStart);\n    }\n\n    return this._virtualStart + (this._physicalCount - this._physicalStart) + pidx;\n  },\n\n  /**\n   * Updates the height for a given set of items.\n   *\n   * @param {!Array<number>=} itemSet\n   */\n  _updateMetrics: function (itemSet) {\n    // Make sure we distributed all the physical items\n    // so we can measure them.\n    flush ? flush() : flush$0();\n    var newPhysicalSize = 0;\n    var oldPhysicalSize = 0;\n    var prevAvgCount = this._physicalAverageCount;\n    var prevPhysicalAvg = this._physicalAverage;\n\n    this._iterateItems(function (pidx, vidx) {\n      oldPhysicalSize += this._physicalSizes[pidx];\n      this._physicalSizes[pidx] = this._physicalItems[pidx].offsetHeight;\n      newPhysicalSize += this._physicalSizes[pidx];\n      this._physicalAverageCount += this._physicalSizes[pidx] ? 1 : 0;\n    }, itemSet);\n\n    if (this.grid) {\n      this._updateGridMetrics();\n\n      this._physicalSize = Math.ceil(this._physicalCount / this._itemsPerRow) * this._rowHeight;\n    } else {\n      oldPhysicalSize = this._itemsPerRow === 1 ? oldPhysicalSize : Math.ceil(this._physicalCount / this._itemsPerRow) * this._rowHeight;\n      this._physicalSize = this._physicalSize + newPhysicalSize - oldPhysicalSize;\n      this._itemsPerRow = 1;\n    } // Update the average if it measured something.\n\n\n    if (this._physicalAverageCount !== prevAvgCount) {\n      this._physicalAverage = Math.round((prevPhysicalAvg * prevAvgCount + newPhysicalSize) / this._physicalAverageCount);\n    }\n  },\n\n  /**\n   * Updates the position of the physical items.\n   */\n  _positionItems: function () {\n    this._adjustScrollPosition();\n\n    var y = this._physicalTop;\n\n    this._iterateItems(function (pidx, vidx) {\n      this.translate3d(0, y + 'px', 0, this._physicalItems[pidx]);\n      y += this._physicalSizes[pidx];\n    });\n  },\n  _getPhysicalSizeIncrement: function (pidx) {\n    if (!this.grid) {\n      return this._physicalSizes[pidx];\n    }\n\n    if (this._computeVidx(pidx) % this._itemsPerRow !== this._itemsPerRow - 1) {\n      return 0;\n    }\n\n    return this._rowHeight;\n  },\n\n  /**\n   * Adjusts the scroll position when it was overestimated.\n   */\n  _adjustScrollPosition: function () {\n    var deltaHeight = this._virtualStart === 0 ? this._physicalTop : Math.min(this._scrollPosition + this._physicalTop, 0); // Note: the delta can be positive or negative.\n\n    if (deltaHeight !== 0) {\n      this._physicalTop = this._physicalTop - deltaHeight;\n      var scrollTop = this._scrollTop; // juking scroll position during interial scrolling on iOS is no bueno\n\n      if (!IOS_TOUCH_SCROLLING && scrollTop > 0) {\n        this._resetScrollPosition(scrollTop - deltaHeight);\n      }\n    }\n  },\n\n  /**\n   * Sets the position of the scroll.\n   */\n  _resetScrollPosition: function (pos) {\n    if (this.scrollTarget && pos >= 0) {\n      this._scrollTop = pos;\n      this._scrollPosition = this._scrollTop;\n    }\n  },\n\n  /**\n   * Sets the scroll height, that's the height of the content,\n   *\n   * @param {boolean=} forceUpdate If true, updates the height no matter what.\n   */\n  _updateScrollerSize: function (forceUpdate) {\n    if (this.grid) {\n      this._estScrollHeight = this._virtualRowCount * this._rowHeight;\n    } else {\n      this._estScrollHeight = this._physicalBottom + Math.max(this._virtualCount - this._physicalCount - this._virtualStart, 0) * this._physicalAverage;\n    }\n\n    forceUpdate = forceUpdate || this._scrollHeight === 0;\n    forceUpdate = forceUpdate || this._scrollPosition >= this._estScrollHeight - this._physicalSize;\n    forceUpdate = forceUpdate || this.grid && this.$.items.style.height < this._estScrollHeight; // Amortize height adjustment, so it won't trigger large repaints too often.\n\n    if (forceUpdate || Math.abs(this._estScrollHeight - this._scrollHeight) >= this._viewportHeight) {\n      this.$.items.style.height = this._estScrollHeight + 'px';\n      this._scrollHeight = this._estScrollHeight;\n    }\n  },\n\n  /**\n   * Scroll to a specific index in the virtual list regardless\n   * of the physical items in the DOM tree.\n   *\n   * @method scrollToIndex\n   * @param {number} idx The index of the item\n   */\n  scrollToIndex: function (idx) {\n    if (typeof idx !== 'number' || idx < 0 || idx > this.items.length - 1) {\n      return;\n    }\n\n    flush ? flush() : flush$0(); // Items should have been rendered prior scrolling to an index.\n\n    if (this._physicalCount === 0) {\n      return;\n    }\n\n    idx = this._clamp(idx, 0, this._virtualCount - 1); // Update the virtual start only when needed.\n\n    if (!this._isIndexRendered(idx) || idx >= this._maxVirtualStart) {\n      this._virtualStart = this.grid ? idx - this._itemsPerRow * 2 : idx - 1;\n    }\n\n    this._manageFocus();\n\n    this._assignModels();\n\n    this._updateMetrics(); // Estimate new physical offset.\n\n\n    this._physicalTop = Math.floor(this._virtualStart / this._itemsPerRow) * this._physicalAverage;\n    var currentTopItem = this._physicalStart;\n    var currentVirtualItem = this._virtualStart;\n    var targetOffsetTop = 0;\n    var hiddenContentSize = this._hiddenContentSize; // scroll to the item as much as we can.\n\n    while (currentVirtualItem < idx && targetOffsetTop <= hiddenContentSize) {\n      targetOffsetTop = targetOffsetTop + this._getPhysicalSizeIncrement(currentTopItem);\n      currentTopItem = (currentTopItem + 1) % this._physicalCount;\n      currentVirtualItem++;\n    }\n\n    this._updateScrollerSize(true);\n\n    this._positionItems();\n\n    this._resetScrollPosition(this._physicalTop + this._scrollOffset + targetOffsetTop);\n\n    this._increasePoolIfNeeded(0); // clear cached visible index.\n\n\n    this._firstVisibleIndexVal = null;\n    this._lastVisibleIndexVal = null;\n  },\n\n  /**\n   * Reset the physical average and the average count.\n   */\n  _resetAverage: function () {\n    this._physicalAverage = 0;\n    this._physicalAverageCount = 0;\n  },\n\n  /**\n   * A handler for the `iron-resize` event triggered by `IronResizableBehavior`\n   * when the element is resized.\n   */\n  _resizeHandler: function () {\n    this._debounce('_render', function () {\n      // clear cached visible index.\n      this._firstVisibleIndexVal = null;\n      this._lastVisibleIndexVal = null; // Skip the resize event on touch devices when the address bar slides up.\n\n      this.updateViewportBoundaries();\n\n      if (this._isVisible) {\n        // Reinstall the scroll event listener.\n        this.toggleScrollListener(true);\n\n        this._resetAverage();\n\n        this._render();\n      } else {\n        // Uninstall the scroll event listener.\n        this.toggleScrollListener(false);\n      }\n    }, ANIMATION_FRAME);\n  },\n\n  /**\n   * Converts a random index to the index of the item that completes it's row.\n   * Allows for better order and fill computation when grid == true.\n   */\n  _convertIndexToCompleteRow: function (idx) {\n    // when grid == false _itemPerRow can be unset.\n    this._itemsPerRow = this._itemsPerRow || 1;\n    return this.grid ? Math.ceil(idx / this._itemsPerRow) * this._itemsPerRow : idx;\n  },\n  _isIndexRendered: function (idx) {\n    return idx >= this._virtualStart && idx <= this._virtualEnd;\n  },\n  _getPhysicalIndex: function (vidx) {\n    return (this._physicalStart + (vidx - this._virtualStart)) % this._physicalCount;\n  },\n  _clamp: function (v, min, max) {\n    return Math.min(max, Math.max(min, v));\n  },\n  _debounce: function (name, cb, asyncModule) {\n    this._debouncers = this._debouncers || {};\n    this._debouncers[name] = Debouncer.debounce(this._debouncers[name], asyncModule, cb.bind(this));\n    enqueueDebouncer(this._debouncers[name]);\n  }\n});","/**\n@license\nCopyright (c) 2017 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\nimport { afterNextRender } from \"@polymer/polymer/lib/utils/render-status.js\";\nimport { animationFrame } from \"@polymer/polymer/lib/utils/async.js\";\nimport { flush } from \"@polymer/polymer/lib/utils/flush.js\";\nimport { PolymerIronList } from './iron-list.js';\nimport { Debouncer } from \"@polymer/polymer/lib/utils/debounce.js\";\n/**\n * This Element is used internally by vaadin-grid.\n *\n * @private\n */\n\nclass GridScrollerElement extends PolymerIronList {\n  static get is() {\n    return 'vaadin-grid-scroller';\n  }\n\n  static get properties() {\n    return {\n      size: {\n        type: Number,\n        notify: true\n      },\n      _vidxOffset: {\n        value: 0\n      }\n    };\n  }\n\n  static get observers() {\n    return ['_effectiveSizeChanged(_effectiveSize)'];\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n\n    this._scrollHandler();\n  }\n  /**\n  * @protected\n  */\n\n\n  _updateScrollerItem(item, index) {}\n  /**\n  * @protected\n  */\n\n\n  _afterScroll() {}\n  /**\n  * @protected\n  */\n\n\n  _getRowTarget() {}\n  /**\n  * @protected\n  */\n\n\n  _createScrollerRows() {}\n  /**\n  * @protected\n  */\n\n\n  _canPopulate() {}\n  /**\n  * @private\n  */\n\n\n  scrollToIndex(index) {\n    this._warnPrivateAPIAccess('scrollToIndex');\n\n    if (index > 0) {\n      this._pendingScrollToIndex = null;\n    }\n\n    if (!parseInt(this.$.items.style.borderTopWidth) && index > 0) {\n      // Schedule another scroll to be invoked once init is complete\n      this._pendingScrollToIndex = index;\n    }\n\n    this._scrollingToIndex = true;\n    index = Math.min(Math.max(index, 0), this._effectiveSize - 1);\n    this.$.table.scrollTop = index / this._effectiveSize * (this.$.table.scrollHeight - this.$.table.offsetHeight);\n\n    this._scrollHandler();\n\n    if (this._accessIronListAPI(() => this._maxScrollTop) && this._virtualCount < this._effectiveSize) {\n      this._adjustVirtualIndexOffset(1000000);\n    }\n\n    this._accessIronListAPI(() => super.scrollToIndex(index - this._vidxOffset));\n\n    this._scrollHandler(); // Ensure scroll position\n\n\n    const row = Array.from(this.$.items.children).filter(child => child.index === index)[0];\n\n    if (row) {\n      const headerOffset = row.getBoundingClientRect().top - this.$.header.getBoundingClientRect().bottom;\n\n      if (Math.abs(headerOffset) > 1) {\n        this.$.table.scrollTop += headerOffset;\n\n        this._scrollHandler();\n      }\n    }\n\n    this._scrollingToIndex = false;\n  }\n\n  _effectiveSizeChanged(size) {\n    let fvi; // first visible (adjusted) index\n\n    let fviOffset = 0;\n\n    this._iterateItems((pidx, vidx) => {\n      if (vidx === this._firstVisibleIndex) {\n        const row = this._physicalItems[pidx];\n        fvi = row.index;\n        fviOffset = row.getBoundingClientRect().top;\n      }\n    });\n\n    if (this.items && size < this.items.length) {\n      // Size was reduced, scroll to 0 first\n      this._scrollTop = 0;\n    }\n\n    if (!Array.isArray(this.items)) {\n      // Edge/IE seems to have the lowest maximum\n      const maxVirtualItems = this._edge || this._ie ? 30000 : 100000;\n      this.items = {\n        length: Math.min(size, maxVirtualItems)\n      };\n    }\n\n    this._accessIronListAPI(() => super._itemsChanged({\n      path: 'items'\n    }));\n\n    this._virtualCount = Math.min(this.items.length, size) || 0;\n\n    if (this._scrollTop === 0) {\n      this._accessIronListAPI(() => this._scrollToIndex(Math.min(size - 1, fvi)));\n\n      this._iterateItems((pidx, vidx) => {\n        const row = this._physicalItems[pidx];\n\n        if (row.index === fvi) {\n          this.$.table.scrollTop += Math.round(row.getBoundingClientRect().top - fviOffset);\n        } // Restore keyboard focus to the right cell\n\n\n        if (row.index === this._focusedItemIndex && this._itemsFocusable && this.$.items.contains(this.shadowRoot.activeElement)) {\n          const cellIndex = Array.from(this._itemsFocusable.parentElement.children).indexOf(this._itemsFocusable);\n          row.children[cellIndex].focus();\n        }\n      });\n    }\n\n    this._assignModels();\n\n    requestAnimationFrame(() => this._update());\n  }\n\n  _positionItems() {\n    this._adjustScrollPosition();\n\n    let rePosition;\n\n    if (isNaN(this._physicalTop)) {\n      rePosition = true;\n      this._physicalTop = 0;\n    }\n\n    let y = this._physicalTop;\n\n    this._iterateItems((pidx, vidx) => {\n      this._physicalItems[pidx].style.transform = `translateY(${y}px)`;\n      y += this._physicalSizes[pidx];\n    });\n\n    if (rePosition) {\n      this._scrollToIndex(0);\n    }\n  }\n\n  _increasePoolIfNeeded(count) {\n    if (count === 0 && this._scrollingToIndex || !this._canPopulate() || !this._effectiveSize) {\n      return;\n    }\n\n    if (!this._initialPoolCreated) {\n      this._initialPoolCreated = true;\n\n      super._increasePoolIfNeeded(25);\n    } else if (this._optPhysicalSize !== Infinity) {\n      this._debounceIncreasePool = Debouncer.debounce(this._debounceIncreasePool, animationFrame, () => {\n        this._updateMetrics();\n\n        const remainingPhysicalSize = this._optPhysicalSize - this._physicalSize;\n        let estimatedMissingRowCount = Math.ceil(remainingPhysicalSize / this._physicalAverage);\n\n        if (this._physicalCount + estimatedMissingRowCount > this._effectiveSize) {\n          // Do not increase the physical item count above the this._effectiveSize\n          estimatedMissingRowCount = Math.max(0, this._effectiveSize - this._physicalCount);\n        }\n\n        if (this._physicalSize && estimatedMissingRowCount > 0) {\n          super._increasePoolIfNeeded(estimatedMissingRowCount); // Ensure the rows are in order after increasing pool\n\n\n          this.__reorderChildNodes();\n        }\n      });\n    }\n  }\n\n  __reorderChildNodes() {\n    const childNodes = Array.from(this.$.items.childNodes);\n    const rowsInOrder = !!childNodes.reduce((inOrder, current, currentIndex, array) => {\n      if (currentIndex === 0 || array[currentIndex - 1].index === current.index - 1) {\n        return inOrder;\n      }\n    }, true);\n\n    if (!rowsInOrder) {\n      childNodes.sort((row1, row2) => {\n        return row1.index - row2.index;\n      }).forEach(row => this.$.items.appendChild(row));\n    }\n  }\n\n  _createPool(size) {\n    const fragment = document.createDocumentFragment();\n\n    const physicalItems = this._createScrollerRows(size);\n\n    physicalItems.forEach(inst => fragment.appendChild(inst));\n\n    this._getRowTarget().appendChild(fragment); // Weird hack needed to get Safari to actually distribute slots\n\n\n    const content = this.querySelector('[slot]');\n\n    if (content) {\n      const slot = content.getAttribute('slot');\n      content.setAttribute('slot', 'foo-bar');\n      content.setAttribute('slot', slot);\n    }\n\n    this._updateHeaderFooterMetrics();\n\n    afterNextRender(this, () => this.notifyResize());\n    return physicalItems;\n  }\n  /**\n   * Assigns the data models to a given set of items.\n   * @param {!Array<number>=} itemSet\n   */\n\n\n  _assignModels(itemSet) {\n    this._iterateItems((pidx, vidx) => {\n      const el = this._physicalItems[pidx];\n\n      this._toggleAttribute('hidden', vidx >= this._effectiveSize, el);\n\n      this._updateScrollerItem(el, vidx + (this._vidxOffset || 0));\n    }, itemSet);\n  }\n\n  _scrollHandler() {\n    const delta = this.$.table.scrollTop - this._scrollPosition;\n\n    this._accessIronListAPI(super._scrollHandler);\n\n    const oldOffset = this._vidxOffset;\n\n    if (this._accessIronListAPI(() => this._maxScrollTop) && this._virtualCount < this._effectiveSize) {\n      this._adjustVirtualIndexOffset(delta);\n    }\n\n    if (this._vidxOffset !== oldOffset) {\n      this._update();\n    }\n\n    this._afterScroll();\n  }\n\n  _adjustVirtualIndexOffset(delta) {\n    if (Math.abs(delta) > 10000) {\n      if (this._noScale) {\n        this._noScale = false;\n        return;\n      }\n\n      const scale = this.$.table.scrollTop / (this.$.table.scrollHeight - this.$.table.offsetHeight);\n      const offset = scale * this._effectiveSize;\n      this._vidxOffset = Math.round(offset - scale * this._virtualCount);\n    } else {\n      // Make sure user can always swipe/wheel scroll to the start and end\n      const oldOffset = this._vidxOffset || 0;\n      const threshold = 1000;\n      const maxShift = 100; // At start\n\n      if (this._scrollTop === 0) {\n        this._vidxOffset = 0;\n\n        if (oldOffset !== this._vidxOffset) {\n          super.scrollToIndex(0);\n        }\n      } else if (this.firstVisibleIndex < threshold && this._vidxOffset > 0) {\n        this._vidxOffset -= Math.min(this._vidxOffset, maxShift);\n\n        if (oldOffset !== this._vidxOffset) {\n          super.scrollToIndex(this.firstVisibleIndex + (oldOffset - this._vidxOffset));\n        }\n\n        this._noScale = true;\n      } // At end\n\n\n      const maxOffset = this._effectiveSize - this._virtualCount;\n\n      if (this._scrollTop >= this._maxScrollTop && this._maxScrollTop > 0) {\n        this._vidxOffset = maxOffset;\n\n        if (oldOffset !== this._vidxOffset) {\n          super.scrollToIndex(this._virtualCount);\n        }\n      } else if (this.firstVisibleIndex > this._virtualCount - threshold && this._vidxOffset < maxOffset) {\n        this._vidxOffset += Math.min(maxOffset - this._vidxOffset, maxShift);\n\n        if (oldOffset !== this._vidxOffset) {\n          super.scrollToIndex(this.firstVisibleIndex - (this._vidxOffset - oldOffset));\n        }\n\n        this._noScale = true;\n      }\n    }\n  }\n\n  _accessIronListAPI(cb) {\n    this._warnPrivateAPIAccessAsyncEnabled = false;\n    const returnValue = cb.apply(this);\n    this._debouncerWarnPrivateAPIAccess = Debouncer.debounce(this._debouncerWarnPrivateAPIAccess, animationFrame, () => this._warnPrivateAPIAccessAsyncEnabled = true);\n    return returnValue;\n  }\n  /* Allow iron-list to access its APIs from debounced callbacks without warns */\n\n\n  _debounceRender(cb, asyncModule) {\n    super._debounceRender(() => this._accessIronListAPI(cb), asyncModule);\n  }\n  /* Warn when iron-list APIs are being accessed directly */\n\n\n  _warnPrivateAPIAccess(apiName) {\n    if (this._warnPrivateAPIAccessAsyncEnabled) {\n      console.warn(`Accessing private API (${apiName})!`);\n    }\n  }\n\n  _render() {\n    this._accessIronListAPI(super._render);\n  }\n\n  _createFocusBackfillItem() {\n    /* Ignore */\n  }\n\n  _multiSelectionChanged() {\n    /* Ignore */\n  }\n\n  clearSelection() {\n    /* Ignore */\n  }\n\n  _itemsChanged() {\n    /* Ignore */\n  }\n\n  _manageFocus() {\n    /* Ignore */\n  }\n\n  _removeFocusedItem() {\n    /* Ignore */\n  }\n\n  get _firstVisibleIndex() {\n    return this._accessIronListAPI(() => super.firstVisibleIndex);\n  }\n\n  get _lastVisibleIndex() {\n    return this._accessIronListAPI(() => super.lastVisibleIndex);\n  }\n\n  _scrollToIndex(index) {\n    this._accessIronListAPI(() => this.scrollToIndex(index));\n  }\n\n  get firstVisibleIndex() {\n    this._warnPrivateAPIAccess('firstVisibleIndex');\n\n    return super.firstVisibleIndex;\n  }\n\n  set firstVisibleIndex(value) {\n    this._warnPrivateAPIAccess('firstVisibleIndex');\n\n    super.firstVisibleIndex = value;\n  }\n\n  get lastVisibleIndex() {\n    this._warnPrivateAPIAccess('lastVisibleIndex');\n\n    return super.lastVisibleIndex;\n  }\n\n  set lastVisibleIndex(value) {\n    this._warnPrivateAPIAccess('lastVisibleIndex');\n\n    super.lastVisibleIndex = value;\n  }\n\n  updateViewportBoundaries() {\n    this._warnPrivateAPIAccess('updateViewportBoundaries');\n\n    super.updateViewportBoundaries.apply(this, arguments);\n  }\n\n  _resizeHandler() {\n    super._resizeHandler();\n\n    flush();\n  }\n\n}\n\ncustomElements.define(GridScrollerElement.is, GridScrollerElement);\nexport { GridScrollerElement as ScrollerElement };","/**\n@license\nCopyright (c) 2017 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\n\n/**\n * @polymerMixin\n */\nexport const A11yMixin = superClass => class A11yMixin extends superClass {\n  static get observers() {\n    return ['_a11yUpdateGridSize(size, _columnTree, _columnTree.*)'];\n  }\n\n  _a11yGetHeaderRowCount(_columnTree) {\n    return _columnTree.filter(level => level.some(col => col._headerTemplate || col.headerRenderer || col.path || col.header)).length;\n  }\n\n  _a11yGetFooterRowCount(_columnTree) {\n    return _columnTree.filter(level => level.some(col => col._headerTemplate || col.headerRenderer)).length;\n  }\n\n  _a11yUpdateGridSize(size, _columnTree) {\n    if (size === undefined || _columnTree === undefined) {\n      return;\n    }\n\n    const bodyColumns = _columnTree[_columnTree.length - 1];\n    this.$.table.setAttribute('aria-rowcount', size + this._a11yGetHeaderRowCount(_columnTree) + this._a11yGetFooterRowCount(_columnTree));\n    this.$.table.setAttribute('aria-colcount', bodyColumns && bodyColumns.length || 0);\n\n    this._a11yUpdateHeaderRows();\n\n    this._a11yUpdateFooterRows();\n  }\n\n  _a11yUpdateHeaderRows() {\n    Array.from(this.$.header.children).forEach((headerRow, index) => headerRow.setAttribute('aria-rowindex', index + 1));\n  }\n\n  _a11yUpdateFooterRows() {\n    Array.from(this.$.footer.children).forEach((footerRow, index) => footerRow.setAttribute('aria-rowindex', this._a11yGetHeaderRowCount(this._columnTree) + this.size + index + 1));\n  }\n\n  _a11yUpdateRowRowindex(row, index) {\n    row.setAttribute('aria-rowindex', index + this._a11yGetHeaderRowCount(this._columnTree) + 1);\n  }\n\n  _a11yUpdateRowSelected(row, selected) {\n    // Jaws reads selection only for rows, NVDA only for cells\n    row.setAttribute('aria-selected', Boolean(selected));\n    Array.from(row.children).forEach(cell => cell.setAttribute('aria-selected', Boolean(selected)));\n  }\n\n  _a11yUpdateRowLevel(row, level) {\n    row.setAttribute('aria-level', level + 1);\n  }\n\n  _a11yUpdateRowDetailsOpened(row, detailsOpened) {\n    Array.from(row.children).forEach(cell => {\n      if (typeof detailsOpened === 'boolean') {\n        cell.setAttribute('aria-expanded', detailsOpened);\n      } else {\n        if (cell.hasAttribute('aria-expanded')) {\n          cell.removeAttribute('aria-expanded');\n        }\n      }\n    });\n  }\n\n  _a11ySetRowDetailsCell(row, detailsCell) {\n    Array.from(row.children).forEach(cell => {\n      if (cell !== detailsCell) {\n        cell.setAttribute('aria-controls', detailsCell.id);\n      }\n    });\n  }\n\n  _a11yUpdateCellColspan(cell, colspan) {\n    cell.setAttribute('aria-colspan', Number(colspan));\n  }\n\n  _a11yUpdateSorters() {\n    Array.from(this.querySelectorAll('vaadin-grid-sorter')).forEach(sorter => {\n      let cellContent = sorter.parentNode;\n\n      while (cellContent && cellContent.localName !== 'vaadin-grid-cell-content') {\n        cellContent = cellContent.parentNode;\n      }\n\n      if (cellContent && cellContent.assignedSlot) {\n        const cell = cellContent.assignedSlot.parentNode;\n        cell.setAttribute('aria-sort', {\n          'asc': 'ascending',\n          'desc': 'descending'\n        }[String(sorter.direction)] || 'none');\n      }\n    });\n  }\n\n};","/**\n@license\nCopyright (c) 2017 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\n\n/**\n * @polymerMixin\n */\nexport const ActiveItemMixin = superClass => class ActiveItemMixin extends superClass {\n  static get properties() {\n    return {\n      /**\n       * The item user has last interacted with. Turns to `null` after user deactivates\n       * the item by re-interacting with the currently active item.\n       */\n      activeItem: {\n        type: Object,\n        notify: true,\n        value: null\n      }\n    };\n  }\n\n  ready() {\n    super.ready();\n    this.$.scroller.addEventListener('click', this._onClick.bind(this));\n    this.addEventListener('cell-activate', this._activateItem.bind(this));\n  }\n\n  _activateItem(e) {\n    const model = e.detail.model;\n    const clickedItem = model ? model.item : null;\n\n    if (clickedItem) {\n      this.activeItem = !this._itemsEqual(this.activeItem, clickedItem) ? clickedItem : null;\n    }\n  } // we need to listen to click instead of tap because on mobile safari, the\n  // document.activeElement has not been updated (focus has not been shifted)\n  // yet at the point when tap event is being executed.\n\n\n  _onClick(e) {\n    if (e.defaultPrevented) {\n      // Something has handled this click already, e. g., <vaadin-grid-sorter>\n      return;\n    }\n\n    const path = e.composedPath();\n    const cell = path[path.indexOf(this.$.table) - 3];\n\n    if (!cell || cell.getAttribute('part').indexOf('details-cell') > -1) {\n      return;\n    }\n\n    const cellContent = cell._content;\n    const activeElement = this.getRootNode().activeElement;\n\n    const cellContentHasFocus = cellContent.contains(activeElement) && ( // MSIE bug: flex children receive focus. Make type & attributes check.\n    !this._ie || this._isFocusable(activeElement));\n\n    if (!cellContentHasFocus && !this._isFocusable(e.target)) {\n      this.dispatchEvent(new CustomEvent('cell-activate', {\n        detail: {\n          model: this.__getRowModel(cell.parentElement)\n        }\n      }));\n    }\n  }\n\n  _isFocusable(target) {\n    if (!target.parentNode) {\n      return false;\n    }\n\n    const focusables = Array.from(target.parentNode.querySelectorAll('[tabindex], button, input, select, textarea, object, iframe, label, a[href], area[href]')).filter(element => element.getAttribute('part') !== 'cell body-cell');\n    const isFocusableElement = focusables.indexOf(target) !== -1;\n    return !target.disabled && isFocusableElement;\n  }\n\n};","/**\n@license\nCopyright (c) 2017 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\nimport { Base } from \"@polymer/polymer/polymer-legacy.js\";\n/**\n * @polymerMixin\n */\n\nexport const ArrayDataProviderMixin = superClass => class ArrayDataProviderMixin extends superClass {\n  static get properties() {\n    return {\n      /**\n       * An array containing the items which will be stamped to the column template\n       * instances.\n       */\n      items: Array\n    };\n  }\n\n  static get observers() {\n    return ['_itemsChanged(items, items.*, isAttached)'];\n  }\n\n  _itemsChanged(items, splices, isAttached) {\n    if (!isAttached) {\n      return;\n    }\n\n    if (!Array.isArray(items)) {\n      if (items === undefined || items === null) {\n        this.size = 0;\n      }\n\n      if (this.dataProvider === this._arrayDataProvider) {\n        this.dataProvider = undefined;\n      }\n\n      return;\n    }\n\n    this.size = items.length;\n    this.dataProvider = this.dataProvider || this._arrayDataProvider;\n    this.clearCache();\n\n    this._ensureFirstPageLoaded();\n  }\n\n  _arrayDataProvider(opts, cb) {\n    let items = (Array.isArray(this.items) ? this.items : []).slice(0);\n\n    if (this._filters && this._checkPaths(this._filters, 'filtering', items)) {\n      items = this._filter(items);\n    }\n\n    this.size = items.length;\n\n    if (opts.sortOrders.length && this._checkPaths(this._sorters, 'sorting', items)) {\n      items = items.sort(this._multiSort.bind(this));\n    }\n\n    const start = opts.page * opts.pageSize;\n    const end = start + opts.pageSize;\n    const slice = items.slice(start, end);\n    cb(slice, items.length);\n  }\n  /**\n   * Check array of filters/sorters for paths validity, console.warn invalid items\n   * @param {Array}  arrayToCheck The array of filters/sorters to check\n   * @param {string} action       The name of action to include in warning (filtering, sorting)\n   * @param {Array}  items\n   */\n\n\n  _checkPaths(arrayToCheck, action, items) {\n    if (!items.length) {\n      return false;\n    }\n\n    let result = true;\n\n    for (var i in arrayToCheck) {\n      const path = arrayToCheck[i].path; // skip simple paths\n\n      if (!path || path.indexOf('.') === -1) {\n        continue;\n      }\n\n      const parentProperty = path.replace(/\\.[^\\.]*$/, ''); // a.b.c -> a.b\n\n      if (Base.get(parentProperty, items[0]) === undefined) {\n        console.warn(`Path \"${path}\" used for ${action} does not exist in all of the items, ${action} is disabled.`);\n        result = false;\n      }\n    }\n\n    return result;\n  }\n\n  _multiSort(a, b) {\n    return this._sorters.map(sort => {\n      if (sort.direction === 'asc') {\n        return this._compare(Base.get(sort.path, a), Base.get(sort.path, b));\n      } else if (sort.direction === 'desc') {\n        return this._compare(Base.get(sort.path, b), Base.get(sort.path, a));\n      }\n\n      return 0;\n    }).reduce((p, n) => {\n      return p ? p : n;\n    }, 0);\n  }\n\n  _normalizeEmptyValue(value) {\n    if ([undefined, null].indexOf(value) >= 0) {\n      return '';\n    } else if (isNaN(value)) {\n      return value.toString();\n    } else {\n      return value;\n    }\n  }\n\n  _compare(a, b) {\n    a = this._normalizeEmptyValue(a);\n    b = this._normalizeEmptyValue(b);\n\n    if (a < b) {\n      return -1;\n    }\n\n    if (a > b) {\n      return 1;\n    }\n\n    return 0;\n  }\n\n  _filter(items) {\n    return items.filter((item, index) => {\n      return this._filters.filter(filter => {\n        const value = this._normalizeEmptyValue(Base.get(filter.path, item));\n\n        const filterValueLowercase = this._normalizeEmptyValue(filter.value).toString().toLowerCase();\n\n        return value.toString().toLowerCase().indexOf(filterValueLowercase) === -1;\n      }).length === 0;\n    });\n  }\n\n};","/**\n@license\nCopyright (c) 2017 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\nimport { GestureEventListeners } from \"@polymer/polymer/lib/mixins/gesture-event-listeners.js\";\nimport { addListener } from \"@polymer/polymer/lib/utils/gestures.js\";\n/**\n * @polymerMixin\n */\n\nexport const ColumnResizingMixin = superClass => class ColumnResizingMixin extends GestureEventListeners(superClass) {\n  ready() {\n    super.ready();\n    const scroller = this.$.scroller;\n    addListener(scroller, 'track', this._onHeaderTrack.bind(this)); // Disallow scrolling while resizing\n\n    scroller.addEventListener('touchmove', e => scroller.hasAttribute('column-resizing') && e.preventDefault()); // Disable contextmenu on any resize separator.\n\n    scroller.addEventListener('contextmenu', e => e.target.getAttribute('part') == 'resize-handle' && e.preventDefault()); // Disable native cell focus when resizing\n\n    scroller.addEventListener('mousedown', e => e.target.getAttribute('part') === 'resize-handle' && e.preventDefault());\n  }\n\n  _onHeaderTrack(e) {\n    const handle = e.target;\n\n    if (handle.getAttribute('part') === 'resize-handle') {\n      const cell = handle.parentElement;\n      let column = cell._column;\n\n      this._toggleAttribute('column-resizing', true, this.$.scroller); // Get the target column to resize\n\n\n      while (column.localName === 'vaadin-grid-column-group') {\n        column = Array.prototype.slice.call(column._childColumns, 0).sort(function (a, b) {\n          return a._order - b._order;\n        }).filter(function (column) {\n          return !column.hidden;\n        }).pop();\n      }\n\n      const columnRowCells = Array.from(this.$.header.querySelectorAll('[part~=\"row\"]:last-child [part~=\"cell\"]'));\n      var targetCell = columnRowCells.filter(cell => cell._column === column)[0]; // Resize the target column\n\n      if (targetCell.offsetWidth) {\n        var style = window.getComputedStyle(targetCell);\n        var minWidth = 10 + parseInt(style.paddingLeft) + parseInt(style.paddingRight) + parseInt(style.borderLeftWidth) + parseInt(style.borderRightWidth) + parseInt(style.marginLeft) + parseInt(style.marginRight);\n        column.width = Math.max(minWidth, targetCell.offsetWidth + e.detail.x - targetCell.getBoundingClientRect().right) + 'px';\n        column.flexGrow = 0;\n      } // Fix width and flex-grow for all preceding columns\n\n\n      columnRowCells.sort(function (a, b) {\n        return a._column._order - b._column._order;\n      }).forEach(function (cell, index, array) {\n        if (index < array.indexOf(targetCell)) {\n          cell._column.width = cell.offsetWidth + 'px';\n          cell._column.flexGrow = 0;\n        }\n      });\n\n      if (e.detail.state === 'end') {\n        this._toggleAttribute('column-resizing', false, this.$.scroller);\n      } // Notify resize\n\n\n      this._resizeHandler();\n    }\n  }\n\n};","/**\n@license\nCopyright (c) 2017 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\nimport { Debouncer } from \"@polymer/polymer/lib/utils/debounce.js\";\nimport { timeOut } from \"@polymer/polymer/lib/utils/async.js\";\nexport const ItemCache = class ItemCache {\n  constructor(grid, parentCache, parentItem) {\n    this.grid = grid;\n    this.parentCache = parentCache;\n    this.parentItem = parentItem;\n    this.itemCaches = {};\n    this.items = {};\n    this.effectiveSize = 0;\n    this.size = 0;\n    this.pendingRequests = {};\n  }\n\n  isLoading() {\n    return Object.keys(this.pendingRequests).length || Object.keys(this.itemCaches).filter(index => {\n      return this.itemCaches[index].isLoading();\n    })[0];\n  }\n\n  getItemForIndex(index) {\n    const {\n      cache,\n      scaledIndex\n    } = this.getCacheAndIndex(index);\n    return cache.items[scaledIndex];\n  }\n\n  updateSize() {\n    this.effectiveSize = !this.parentItem || this.grid._isExpanded(this.parentItem) ? this.size + Object.keys(this.itemCaches).reduce((prev, curr) => {\n      const subCache = this.itemCaches[curr];\n      subCache.updateSize();\n      return prev + subCache.effectiveSize;\n    }, 0) : 0;\n  }\n\n  ensureSubCacheForScaledIndex(scaledIndex) {\n    if (!this.itemCaches[scaledIndex]) {\n      const subCache = new ItemCache(this.grid, this, this.items[scaledIndex]);\n      this.itemCaches[scaledIndex] = subCache;\n\n      this.grid._loadPage(0, subCache);\n    }\n  }\n\n  getCacheAndIndex(index) {\n    let thisLevelIndex = index;\n    const keys = Object.keys(this.itemCaches);\n\n    for (var i = 0; i < keys.length; i++) {\n      const expandedIndex = Number(keys[i]);\n      const subCache = this.itemCaches[expandedIndex];\n\n      if (thisLevelIndex <= expandedIndex) {\n        return {\n          cache: this,\n          scaledIndex: thisLevelIndex\n        };\n      } else if (thisLevelIndex <= expandedIndex + subCache.effectiveSize) {\n        return subCache.getCacheAndIndex(thisLevelIndex - expandedIndex - 1);\n      }\n\n      thisLevelIndex -= subCache.effectiveSize;\n    }\n\n    return {\n      cache: this,\n      scaledIndex: thisLevelIndex\n    };\n  }\n\n};\n/**\n * @polymerMixin\n */\n\nexport const DataProviderMixin = superClass => class DataProviderMixin extends superClass {\n  static get properties() {\n    return {\n      /**\n       * Number of items fetched at a time from the dataprovider.\n       */\n      pageSize: {\n        type: Number,\n        value: 50,\n        observer: '_pageSizeChanged'\n      },\n\n      /**\n       * Function that provides items lazily. Receives arguments `params`, `callback`\n       *\n       * `params.page` Requested page index\n       *\n       * `params.pageSize` Current page size\n       *\n       * `params.filters` Currently applied filters\n       *\n       * `params.sortOrders` Currently applied sorting orders\n       *\n       * `params.parentItem` When tree is used, and sublevel items\n       * are requested, reference to parent item of the requested sublevel.\n       * Otherwise `undefined`.\n       *\n       * `callback(items, size)` Callback function with arguments:\n       *   - `items` Current page of items\n       *   - `size` Total number of items. When tree sublevel items\n       *     are requested, total number of items in the requested sublevel.\n       *     Optional when tree is not used, required for tree.\n       */\n      dataProvider: {\n        type: Object,\n        notify: true,\n        observer: '_dataProviderChanged'\n      },\n\n      /**\n       * `true` while data is being requested from the data provider.\n       */\n      loading: {\n        type: Boolean,\n        notify: true,\n        readOnly: true,\n        reflectToAttribute: true\n      },\n      _cache: {\n        type: Object,\n        value: function () {\n          const cache = new ItemCache(this);\n          return cache;\n        }\n      },\n\n      /**\n       * Path to an item sub-property that identifies the item.\n       */\n      itemIdPath: {\n        type: String,\n        value: null\n      },\n\n      /**\n       * An array that contains the expanded items.\n       */\n      expandedItems: {\n        type: Object,\n        notify: true,\n        value: () => []\n      }\n    };\n  }\n\n  static get observers() {\n    return ['_sizeChanged(size)', '_expandedItemsChanged(expandedItems.*)'];\n  }\n\n  _sizeChanged(size) {\n    const delta = size - this._cache.size;\n    this._cache.size += delta;\n    this._cache.effectiveSize += delta;\n    this._effectiveSize = this._cache.effectiveSize;\n  }\n\n  _updateRowItem(item, el) {\n    el.children.forEach(cell => {\n      cell._instance && (cell._instance.item = item);\n    });\n  }\n\n  _getItem(index, el) {\n    if (index >= this._effectiveSize) {\n      return;\n    }\n\n    el.index = index;\n\n    const {\n      cache,\n      scaledIndex\n    } = this._cache.getCacheAndIndex(index);\n\n    const item = cache.items[scaledIndex];\n\n    if (item) {\n      this._toggleAttribute('loading', false, el);\n\n      this._updateItem(el, item);\n\n      if (this._isExpanded(item)) {\n        cache.ensureSubCacheForScaledIndex(scaledIndex);\n      }\n    } else {\n      this._toggleAttribute('loading', true, el);\n\n      this._loadPage(this._getPageForIndex(scaledIndex), cache);\n    }\n  }\n\n  _pagesForPhysicalItems() {\n    // TODO: potentially heavy operation to run first visible index,\n    // reconsider if performance issues occur on data binding / scrolling.\n    // TODO: _vidxOffset shouldn't be read from here.\n    const firstVisiblePage = this._getPageForIndex(this._firstVisibleIndex + this._vidxOffset);\n\n    return [firstVisiblePage].concat(this._physicalItems.filter(row => row.index).items(row => this._getPageForIndex(row.index))).reduce((prev, curr) => {\n      if (prev.indexOf(curr) === -1) {\n        prev.push(curr);\n      }\n\n      return prev;\n    }, []);\n  }\n\n  _expandedInstanceChangedCallback(inst, value) {\n    if (inst.item === undefined) {\n      return;\n    }\n\n    if (value) {\n      this.expandItem(inst.item);\n    } else {\n      this.collapseItem(inst.item);\n    }\n  }\n  /**\n   * Returns a value that identifies the item. Uses `itemIdPath` if available.\n   * Can be customized by overriding.\n   */\n\n\n  getItemId(item) {\n    return this.itemIdPath ? this.get(this.itemIdPath, item) : item;\n  }\n\n  _isExpanded(item) {\n    return this.expandedItems && this._getItemIndexInArray(item, this.expandedItems) > -1;\n  }\n\n  _expandedItemsChanged(e) {\n    this._cache.updateSize();\n\n    this._effectiveSize = this._cache.effectiveSize;\n\n    this._assignModels();\n  }\n  /**\n   * Expands the given item tree.\n   */\n\n\n  expandItem(item) {\n    if (!this._isExpanded(item)) {\n      this.push('expandedItems', item);\n    }\n  }\n  /**\n   * Collapses the given item tree.\n   */\n\n\n  collapseItem(item) {\n    if (this._isExpanded(item)) {\n      this.splice('expandedItems', this._getItemIndexInArray(item, this.expandedItems), 1);\n    }\n  }\n\n  _getIndexLevel(index) {\n    let {\n      cache\n    } = this._cache.getCacheAndIndex(index);\n\n    let level = 0;\n\n    while (cache.parentCache) {\n      cache = cache.parentCache;\n      level++;\n    }\n\n    return level;\n  }\n\n  _canPopulate() {\n    return this._hasData && this._columnTree;\n  }\n\n  _loadPage(page, cache) {\n    // make sure same page isn't requested multiple times.\n    if (!cache.pendingRequests[page] && this.dataProvider) {\n      this._setLoading(true);\n\n      cache.pendingRequests[page] = true;\n      const params = {\n        page,\n        pageSize: this.pageSize,\n        sortOrders: this._mapSorters(),\n        filters: this._mapFilters(),\n        parentItem: cache.parentItem\n      };\n      this.dataProvider(params, (items, size) => {\n        if (size !== undefined) {\n          cache.size = size;\n        } else {\n          if (params.parentItem) {\n            cache.size = items.length;\n          }\n        } // Populate the cache with new items\n\n\n        items.forEach((item, itemsIndex) => {\n          const itemIndex = page * this.pageSize + itemsIndex;\n          cache.items[itemIndex] = item;\n\n          if (this._isExpanded(item)) {\n            // Force synchronous data request for expanded item sub-cache\n            cache.ensureSubCacheForScaledIndex(itemIndex);\n          }\n        });\n        this._hasData = true;\n        delete cache.pendingRequests[page];\n\n        if (!this._cache.isLoading()) {\n          // All active requests have finished, update the effective size and rows\n          this._setLoading(false);\n\n          this._cache.updateSize();\n\n          this._effectiveSize = this._cache.effectiveSize;\n          Array.from(this.$.items.children).filter(row => !row.hidden).forEach(row => {\n            const cachedItem = this._cache.getItemForIndex(row.index);\n\n            if (cachedItem) {\n              this._toggleAttribute('loading', false, row);\n\n              this._updateItem(row, cachedItem);\n            }\n          });\n\n          this._increasePoolIfNeeded(0);\n        }\n\n        this.__setInitialColumnWidths();\n      });\n    }\n  }\n\n  _getPageForIndex(index) {\n    return Math.floor(index / this.pageSize);\n  }\n  /**\n   * Clears the cached pages and reloads data from dataprovider when needed.\n   */\n\n\n  clearCache() {\n    this._cache = new ItemCache(this);\n    Array.from(this.$.items.children).forEach(row => {\n      Array.from(row.children).forEach(cell => {\n        // Force data system to pick up subproperty changes\n        cell._instance && cell._instance._setPendingProperty('item', {}, false);\n      });\n    });\n    this._cache.size = this.size || 0;\n\n    this._cache.updateSize();\n\n    this._hasData = false;\n\n    this._assignModels();\n\n    if (!this._effectiveSize) {\n      this._loadPage(0, this._cache);\n    }\n  }\n\n  _flushItemsDebouncer() {\n    if (this._debouncerLoad) {\n      this._debouncerLoad.flush();\n    }\n  }\n\n  _pageSizeChanged(pageSize, oldPageSize) {\n    if (oldPageSize !== undefined && pageSize !== oldPageSize) {\n      this.clearCache();\n    }\n  }\n\n  _checkSize() {\n    if (this.size === undefined && this._effectiveSize === 0) {\n      console.warn('The <vaadin-grid> needs the total number of items' + ' in order to display rows. Set the total number of items' + ' to the `size` property, or provide the total number of items' + ' in the second argument of the `dataProvider`’s `callback` call.');\n    }\n  }\n\n  _dataProviderChanged(dataProvider, oldDataProvider) {\n    if (oldDataProvider !== undefined) {\n      this.clearCache();\n    }\n\n    if (dataProvider && this.items && this.items.length) {\n      // Fixes possibly invalid cached lastVisibleIndex value in <iron-list>\n      this._scrollToIndex(this._firstVisibleIndex);\n    }\n\n    this._ensureFirstPageLoaded();\n\n    this._debouncerCheckSize = Debouncer.debounce(this._debouncerCheckSize, timeOut.after(2000), this._checkSize.bind(this));\n\n    this._scrollHandler();\n  }\n\n  _ensureFirstPageLoaded() {\n    if (!this._hasData) {\n      // load data before adding rows to make sure they have content when\n      // rendered for the first time.\n      this._loadPage(0, this._cache, () => {\n        const hadData = this._hasData;\n        this._hasData = true;\n\n        if (!hadData) {\n          this.notifyResize();\n        }\n      });\n    }\n  }\n\n  _itemsEqual(item1, item2) {\n    return this.getItemId(item1) === this.getItemId(item2);\n  }\n\n  _getItemIndexInArray(item, array) {\n    let result = -1;\n    array.forEach((i, idx) => {\n      if (this._itemsEqual(i, item)) {\n        result = idx;\n      }\n    });\n    return result;\n  }\n\n};","/**\n@license\nCopyright (c) 2017 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\nimport { FlattenedNodesObserver } from \"@polymer/polymer/lib/utils/flattened-nodes-observer.js\";\nimport { Debouncer } from \"@polymer/polymer/lib/utils/debounce.js\";\nimport { timeOut } from \"@polymer/polymer/lib/utils/async.js\";\nimport { PolymerElement } from \"@polymer/polymer/polymer-element.js\";\n/**\n * @polymerMixin\n */\n\nexport const DynamicColumnsMixin = superClass => class DynamicColumnsMixin extends superClass {\n  ready() {\n    super.ready();\n\n    this._addNodeObserver();\n  }\n\n  _hasColumnGroups(columns) {\n    for (let i = 0; i < columns.length; i++) {\n      if (columns[i].localName === 'vaadin-grid-column-group') {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  _getChildColumns(el) {\n    return FlattenedNodesObserver.getFlattenedNodes(el).filter(this._isColumnElement);\n  }\n\n  _flattenColumnGroups(columns) {\n    return columns.map(col => {\n      if (col.localName === 'vaadin-grid-column-group') {\n        return this._getChildColumns(col);\n      } else {\n        return [col];\n      }\n    }).reduce((prev, curr) => {\n      return prev.concat(curr);\n    }, []);\n  }\n\n  _getColumnTree() {\n    var rootColumns = FlattenedNodesObserver.getFlattenedNodes(this).filter(this._isColumnElement);\n    var _columnTree = [];\n\n    for (var c = rootColumns;;) {\n      _columnTree.push(c);\n\n      if (!this._hasColumnGroups(c)) {\n        break;\n      }\n\n      c = this._flattenColumnGroups(c);\n    }\n\n    return _columnTree;\n  }\n\n  _updateColumnTree() {\n    var columnTree = this._getColumnTree();\n\n    if (!this._arrayEquals(columnTree, this._columnTree)) {\n      this._columnTree = columnTree;\n    }\n  }\n\n  _addNodeObserver() {\n    this._observer = new FlattenedNodesObserver(this, info => {\n      const rowDetailsTemplate = info.addedNodes.filter(n => n.localName === 'template' && n.classList.contains('row-details'))[0];\n\n      if (rowDetailsTemplate && this._rowDetailsTemplate !== rowDetailsTemplate) {\n        this._rowDetailsTemplate = rowDetailsTemplate;\n      }\n\n      if (info.addedNodes.filter(this._isColumnElement).length > 0 || info.removedNodes.filter(this._isColumnElement).length > 0) {\n        this._updateColumnTree();\n      }\n\n      this._debouncerCheckImports = Debouncer.debounce(this._debouncerCheckImports, timeOut.after(2000), this._checkImports.bind(this));\n\n      this._ensureFirstPageLoaded();\n    });\n  }\n\n  _arrayEquals(arr1, arr2) {\n    if (!arr1 || !arr2 || arr1.length != arr2.length) {\n      return false;\n    }\n\n    for (var i = 0, l = arr1.length; i < l; i++) {\n      // Check if we have nested arrays\n      if (arr1[i] instanceof Array && arr2[i] instanceof Array) {\n        // recurse into the nested arrays\n        if (!this._arrayEquals(arr1[i], arr2[i])) {\n          return false;\n        }\n      } else if (arr1[i] != arr2[i]) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  _checkImports() {\n    ['vaadin-grid-column-group', 'vaadin-grid-filter', 'vaadin-grid-filter-column', 'vaadin-grid-tree-toggle', 'vaadin-grid-selection-column', 'vaadin-grid-sort-column', 'vaadin-grid-sorter'].forEach(elementName => {\n      var element = this.querySelector(elementName);\n\n      if (element && !(element instanceof PolymerElement)) {\n        console.warn(`Make sure you have imported the required module for <${elementName}> element.`);\n      }\n    });\n  }\n\n  _updateFirstAndLastColumn() {\n    Array.from(this.shadowRoot.querySelectorAll('tr')).forEach(row => this._updateFirstAndLastColumnForRow(row));\n  }\n\n  _updateFirstAndLastColumnForRow(row) {\n    Array.from(row.querySelectorAll('[part~=\"cell\"]:not([part~=\"details-cell\"])')).sort((a, b) => {\n      return a._column._order - b._column._order;\n    }).forEach((cell, cellIndex, children) => {\n      this._toggleAttribute('first-column', cellIndex === 0, cell);\n\n      this._toggleAttribute('last-column', cellIndex === children.length - 1, cell);\n    });\n  }\n\n  _isColumnElement(node) {\n    return node.nodeType === Node.ELEMENT_NODE && /\\bcolumn\\b/.test(node.localName);\n  }\n\n};","/**\n@license\nCopyright (c) 2018 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\n\n/**\n * @polymerMixin\n */\nexport const EventContextMixin = superClass => class EventContextMixin extends superClass {\n  /**\n   * Returns an object with context information about the event target:\n   * - `item`: the data object corresponding to the targeted row (not specified when targeting header or footer)\n   * - `column`: the column element corresponding to the targeted cell (not specified when targeting row details)\n   * - `section`: whether the event targeted the body, header, footer or details of the grid\n   *\n   * These additional properties are included when `item` is specified:\n   * - `index`: the index of the item\n   * - `selected`: the selected state of the item\n   * - `detailsOpened`: whether the row details are open for the item\n   * - `expanded`: the expanded state of the tree toggle\n   * - `level`: the tree hierarchy level\n   *\n   * The returned object is populated only when a grid cell, header, footer or row details is found in `event.composedPath()`.\n   * This means mostly mouse and keyboard events. If such a grid part is not found in the path, an empty object is returned.\n   * This may be the case eg. if the event is fired on the `<vaadin-grid>` element and not any deeper in the DOM, or if\n   * the event targets the empty part of the grid body.\n   */\n  getEventContext(event) {\n    const context = {};\n    const path = event.composedPath();\n    const cell = path[path.indexOf(this.$.table) - 3];\n\n    if (!cell) {\n      return context;\n    }\n\n    context.section = ['body', 'header', 'footer', 'details'].filter(section => cell.getAttribute('part').indexOf(section) > -1)[0];\n\n    if (cell._column) {\n      context.column = cell._column;\n    }\n\n    if (context.section === 'body' || context.section === 'details') {\n      Object.assign(context, this.__getRowModel(cell.parentElement));\n    }\n\n    return context;\n  }\n\n};","/**\n@license\nCopyright (c) 2017 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\n\n/**\n * @polymerMixin\n */\nexport const FilterMixin = superClass => class FilterMixin extends superClass {\n  static get properties() {\n    return {\n      _filters: {\n        type: Array,\n        value: function () {\n          return [];\n        }\n      }\n    };\n  }\n\n  ready() {\n    super.ready();\n    this.addEventListener('filter-changed', this._filterChanged.bind(this));\n  }\n\n  _filterChanged(e) {\n    if (this._filters.indexOf(e.target) === -1) {\n      this._filters.push(e.target);\n    }\n\n    e.stopPropagation();\n\n    if (this.dataProvider) {\n      this.clearCache();\n    }\n  }\n\n  _mapFilters() {\n    return this._filters.map(filter => {\n      return {\n        path: filter.path,\n        value: filter.value\n      };\n    });\n  }\n\n};","/**\n@license\nCopyright (c) 2017 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\nimport { PolymerElement } from \"@polymer/polymer/polymer-element.js\";\nimport { templatize } from \"@polymer/polymer/lib/utils/templatize.js\";\n/**\n * `vaadin-grid-templatizer` is a helper element for the `vaadin-grid` that is preparing and\n * stamping instances of cells and columns templates\n *\n * @memberof Vaadin\n * @private\n */\n\nclass GridTemplatizer extends class extends PolymerElement {} {\n  static get is() {\n    return 'vaadin-grid-templatizer';\n  }\n\n  static get properties() {\n    return {\n      dataHost: Object,\n      template: Object,\n      _templateInstances: {\n        type: Array,\n        value: function () {\n          return [];\n        }\n      },\n      _parentPathValues: {\n        value: function () {\n          return {};\n        }\n      },\n      _grid: Object\n    };\n  }\n\n  static get observers() {\n    return ['_templateInstancesChanged(_templateInstances.*, _parentPathValues.*)'];\n  }\n\n  constructor() {\n    super();\n    this._instanceProps = {\n      detailsOpened: true,\n      index: true,\n      item: true,\n      selected: true,\n      expanded: true,\n      level: true\n    };\n  }\n\n  createInstance() {\n    this._ensureTemplatized();\n\n    const instance = new this._TemplateClass({});\n    this.addInstance(instance);\n    return instance;\n  }\n\n  addInstance(instance) {\n    if (this._templateInstances.indexOf(instance) === -1) {\n      this._templateInstances.push(instance);\n\n      requestAnimationFrame(() => this.notifyPath('_templateInstances.*', this._templateInstances));\n    }\n  }\n\n  removeInstance(instance) {\n    const index = this._templateInstances.indexOf(instance);\n\n    this.splice('_templateInstances', index, 1);\n  }\n\n  _ensureTemplatized() {\n    if (!this._TemplateClass) {\n      this._TemplateClass = templatize(this.template, this, {\n        instanceProps: this._instanceProps,\n        parentModel: true,\n        forwardHostProp: function (prop, value) {\n          this._forwardParentProp(prop, value);\n\n          if (this._templateInstances) {\n            this._templateInstances.forEach(inst => inst.notifyPath(prop, value));\n          }\n        },\n        notifyInstanceProp: function (inst, prop, value) {\n          if (prop === 'index' || prop === 'item') {\n            // We don’t need a change notification for these.\n            return;\n          }\n\n          const originalProp = `__${prop}__`; // Notify for only user-action changes, not for scrolling updates. E. g.,\n          // if `detailsOpened` is different from `__detailsOpened__`, which was set during render.\n\n          if (inst[originalProp] === value) {\n            return;\n          }\n\n          inst[originalProp] = value;\n          const row = Array.from(this._grid.$.items.children).filter(row => this._grid._itemsEqual(row._item, inst.item))[0];\n\n          if (row) {\n            Array.from(row.children).forEach(cell => {\n              if (cell._instance) {\n                cell._instance[originalProp] = value;\n\n                cell._instance.notifyPath(prop, value);\n              }\n            });\n          }\n\n          const itemPrefix = 'item.';\n\n          if (Array.isArray(this._grid.items) && prop.indexOf(itemPrefix) === 0) {\n            const itemsIndex = this._grid.items.indexOf(inst.item);\n\n            const path = prop.slice(itemPrefix.length);\n\n            this._grid.notifyPath(`items.${itemsIndex}.${path}`, value);\n          }\n\n          const gridCallback = `_${prop}InstanceChangedCallback`;\n\n          if (this._grid && this._grid[gridCallback]) {\n            this._grid[gridCallback](inst, value);\n          }\n        }\n      });\n    }\n  }\n\n  _forwardParentProp(prop, value) {\n    this._parentPathValues[prop] = value;\n\n    this._templateInstances.forEach(inst => inst.notifyPath(prop, value));\n  }\n\n  _templateInstancesChanged(t, p) {\n    let index, count;\n\n    if (t.path === '_templateInstances') {\n      // Iterate all instances\n      index = 0;\n      count = this._templateInstances.length;\n    } else if (t.path === '_templateInstances.splices') {\n      // Iterate only new instances\n      index = t.value.index;\n      count = t.value.addedCount;\n    } else {\n      return;\n    }\n\n    Object.keys(this._parentPathValues || {}).forEach(keyName => {\n      for (var i = index; i < index + count; i++) {\n        this._templateInstances[i].set(keyName, this._parentPathValues[keyName]);\n      }\n    });\n  }\n\n}\n\ncustomElements.define(GridTemplatizer.is, GridTemplatizer);\nexport { GridTemplatizer as Templatizer };","/**\n@license\nCopyright (c) 2017 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\nimport { Templatizer } from './vaadin-grid-templatizer.js';\nimport { flush } from \"@polymer/polymer/lib/utils/flush.js\";\n/**\n * @polymerMixin\n */\n\nexport const RowDetailsMixin = superClass => class RowDetailsMixin extends superClass {\n  static get properties() {\n    return {\n      /**\n       * An array containing references to items with open row details.\n       */\n      detailsOpenedItems: {\n        type: Array,\n        value: function () {\n          return [];\n        }\n      },\n      _rowDetailsTemplate: Object,\n\n      /**\n       * Custom function for rendering the content of the row details.\n       * Receives three arguments:\n       *\n       * - `root` The row details content DOM element. Append your content to it.\n       * - `grid` The `<vaadin-grid>` element.\n       * - `rowData` The object with the properties related with\n       *   the rendered item, contains:\n       *   - `rowData.index` The index of the item.\n       *   - `rowData.item` The item.\n       */\n      rowDetailsRenderer: Function,\n      _detailsCells: {\n        type: Array\n      }\n    };\n  }\n\n  static get observers() {\n    return ['_detailsOpenedItemsChanged(detailsOpenedItems.*, _rowDetailsTemplate, rowDetailsRenderer)', '_rowDetailsTemplateOrRendererChanged(_rowDetailsTemplate, rowDetailsRenderer)'];\n  }\n\n  _rowDetailsTemplateOrRendererChanged(rowDetailsTemplate, rowDetailsRenderer) {\n    if (rowDetailsTemplate && rowDetailsRenderer) {\n      throw new Error('You should only use either a renderer or a template for row details');\n    }\n\n    if (rowDetailsTemplate || rowDetailsRenderer) {\n      if (rowDetailsTemplate && !rowDetailsTemplate.templatizer) {\n        var templatizer = new Templatizer();\n        templatizer._grid = this;\n        templatizer.dataHost = this.dataHost;\n        templatizer.template = rowDetailsTemplate;\n        rowDetailsTemplate.templatizer = templatizer;\n      }\n\n      if (this._columnTree) {\n        // Only update the rows if the column tree has already been initialized\n        Array.from(this.$.items.children).forEach(row => {\n          if (!row.querySelector('[part~=details-cell]')) {\n            this._updateRow(row, this._columnTree[this._columnTree.length - 1]);\n\n            this._a11yUpdateRowDetailsOpened(row, false);\n          } // Clear any old template instances\n\n\n          delete row.querySelector('[part~=details-cell]')._instance;\n        });\n      }\n\n      if (this.detailsOpenedItems.length) {\n        Array.from(this.$.items.children).forEach(this._toggleDetailsCell, this);\n\n        this._update();\n      }\n    }\n  }\n\n  _detailsOpenedItemsChanged(changeRecord, rowDetailsTemplate, rowDetailsRenderer) {\n    if (changeRecord.path === 'detailsOpenedItems.length' || !changeRecord.value) {\n      // Let’s avoid duplicate work of both “.splices” and “.length” updates.\n      return;\n    }\n\n    Array.from(this.$.items.children).forEach(row => {\n      this._toggleDetailsCell(row, row._item);\n\n      this._a11yUpdateRowDetailsOpened(row, this._isDetailsOpened(row._item));\n\n      this._toggleAttribute('details-opened', this._isDetailsOpened(row._item), row);\n    });\n  }\n\n  _configureDetailsCell(cell) {\n    cell.setAttribute('part', 'cell details-cell'); // Freeze the details cell, so that it does not scroll horizontally\n    // with the normal cells. This way it looks less weird.\n\n    this._toggleAttribute('frozen', true, cell);\n  }\n\n  _toggleDetailsCell(row, item) {\n    const cell = row.querySelector('[part~=\"details-cell\"]');\n\n    if (!cell) {\n      return;\n    }\n\n    const detailsHidden = !this._isDetailsOpened(item);\n    const hiddenChanged = !!cell.hidden !== detailsHidden;\n\n    if (!cell._instance && !cell._renderer || cell.hidden !== detailsHidden) {\n      cell.hidden = detailsHidden;\n\n      if (detailsHidden) {\n        row.style.removeProperty('padding-bottom');\n      } else {\n        if (this.rowDetailsRenderer) {\n          cell._renderer = this.rowDetailsRenderer;\n\n          cell._renderer.call(this, cell._content, this, {\n            index: row.index,\n            item: item\n          });\n        } else if (this._rowDetailsTemplate && !cell._instance) {\n          // Stamp the template\n          cell._instance = this._rowDetailsTemplate.templatizer.createInstance();\n          cell._content.innerHTML = '';\n\n          cell._content.appendChild(cell._instance.root);\n\n          this._updateItem(row, item);\n        }\n\n        flush();\n        row.style.setProperty('padding-bottom', `${cell.offsetHeight}px`);\n        requestAnimationFrame(() => this.notifyResize());\n      }\n    }\n\n    if (hiddenChanged) {\n      this._updateMetrics();\n\n      this._positionItems();\n    }\n  }\n\n  _updateDetailsCellHeights() {\n    Array.from(this.$.items.querySelectorAll('[part~=\"details-cell\"]:not([hidden])')).forEach(cell => {\n      cell.parentElement.style.setProperty('padding-bottom', `${cell.offsetHeight}px`);\n    });\n  }\n\n  _isDetailsOpened(item) {\n    return this.detailsOpenedItems && this._getItemIndexInArray(item, this.detailsOpenedItems) !== -1;\n  }\n  /**\n   * Open the details row of a given item.\n   */\n\n\n  openItemDetails(item) {\n    if (!this._isDetailsOpened(item)) {\n      this.push('detailsOpenedItems', item);\n    }\n  }\n  /**\n   * Close the details row of a given item.\n   */\n\n\n  closeItemDetails(item) {\n    if (this._isDetailsOpened(item)) {\n      this.splice('detailsOpenedItems', this._getItemIndexInArray(item, this.detailsOpenedItems), 1);\n    }\n  }\n\n  _detailsOpenedInstanceChangedCallback(instance, value) {\n    if (super._detailsOpenedInstanceChangedCallback) {\n      super._detailsOpenedInstanceChangedCallback(instance, value);\n    }\n\n    if (value) {\n      this.openItemDetails(instance.item);\n    } else {\n      this.closeItemDetails(instance.item);\n    }\n  }\n\n};","/**\n@license\nCopyright (c) 2017 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\nimport { Debouncer } from \"@polymer/polymer/lib/utils/debounce.js\";\nimport { timeOut, animationFrame, microTask } from \"@polymer/polymer/lib/utils/async.js\";\n/**\n * @polymerMixin\n */\n\nexport const ScrollMixin = superClass => class ScrollMixin extends superClass {\n  get _timeouts() {\n    return {\n      SCROLL_PERIOD: 1000,\n      WHEEL_SCROLLING: 200,\n      SCROLLING: 100,\n      IGNORE_WHEEL: 500\n    };\n  }\n\n  static get properties() {\n    return {\n      // Cached array of frozen cells\n      _frozenCells: {\n        type: Array,\n        value: function () {\n          return [];\n        }\n      },\n      _scrollbarWidth: {\n        type: Number,\n        value: function () {\n          // Create the measurement node\n          var scrollDiv = document.createElement('div');\n          scrollDiv.style.width = '100px';\n          scrollDiv.style.height = '100px';\n          scrollDiv.style.overflow = 'scroll';\n          scrollDiv.style.position = 'absolute';\n          scrollDiv.style.top = '-9999px';\n          document.body.appendChild(scrollDiv); // Get the scrollbar width\n\n          var scrollbarWidth = scrollDiv.offsetWidth - scrollDiv.clientWidth; // Delete the DIV\n\n          document.body.removeChild(scrollDiv);\n          return scrollbarWidth;\n        }\n      },\n      _rowWithFocusedElement: Element,\n      _deltaYAcc: {\n        type: Number,\n        value: 0\n      }\n    };\n  }\n\n  static get observers() {\n    return ['_scrollHeightUpdated(_estScrollHeight)', '_scrollViewportHeightUpdated(_viewportHeight)'];\n  } // Override (from iron-scroll-target-behavior) to avoid document scroll\n\n\n  set _scrollTop(top) {\n    this.$.table.scrollTop = top;\n  }\n\n  get _scrollTop() {\n    return this.$.table.scrollTop;\n  }\n\n  constructor() {\n    super();\n    this._scrollLineHeight = this._getScrollLineHeight();\n  }\n  /**\n   * @returns {Number|undefined} - The browser's default font-size in pixels\n   */\n\n\n  _getScrollLineHeight() {\n    const el = document.createElement('div');\n    el.style.fontSize = 'initial';\n    el.style.display = 'none';\n    document.body.appendChild(el);\n    const fontSize = window.getComputedStyle(el).fontSize;\n    document.body.removeChild(el);\n    return fontSize ? window.parseInt(fontSize) : undefined;\n  }\n\n  _scrollViewportHeightUpdated(_viewportHeight) {\n    this._scrollPageHeight = _viewportHeight - this.$.header.clientHeight - this.$.footer.clientHeight - this._scrollLineHeight;\n  }\n\n  ready() {\n    super.ready();\n    this.scrollTarget = this.$.table;\n    this.addEventListener('wheel', e => {\n      this._wheelScrolling = true;\n      this._debouncerWheelScrolling = Debouncer.debounce(this._debouncerWheelScrolling, timeOut.after(this._timeouts.WHEEL_SCROLLING), () => this._wheelScrolling = false);\n\n      this._onWheel(e);\n    });\n    this.$.table.addEventListener('scroll', e => {\n      if (this.$.outerscroller.outerScrolling) {\n        e.stopImmediatePropagation();\n      }\n    }, true);\n    this.$.items.addEventListener('focusin', e => {\n      const itemsIndex = e.composedPath().indexOf(this.$.items);\n      this._rowWithFocusedElement = e.composedPath()[itemsIndex - 1];\n    });\n    this.$.items.addEventListener('focusout', () => this._rowWithFocusedElement = undefined);\n  }\n\n  _onWheel(e) {\n    if (e.ctrlKey || this._hasScrolledAncestor(e.target, e.deltaX, e.deltaY)) {\n      return;\n    }\n\n    const table = this.$.table;\n    let deltaY = e.deltaY;\n\n    if (e.deltaMode === WheelEvent.DOM_DELTA_LINE) {\n      // Scrolling by \"lines of text\" instead of pixels\n      deltaY *= this._scrollLineHeight;\n    } else if (e.deltaMode === WheelEvent.DOM_DELTA_PAGE) {\n      // Scrolling by \"pages\" instead of pixels\n      deltaY *= this._scrollPageHeight;\n    }\n\n    if (this._wheelAnimationFrame) {\n      // Skip new wheel events while one is being processed\n      this._deltaYAcc += deltaY;\n      e.preventDefault();\n      return;\n    }\n\n    deltaY += this._deltaYAcc;\n    this._deltaYAcc = 0;\n    this._wheelAnimationFrame = true;\n    this._debouncerWheelAnimationFrame = Debouncer.debounce(this._debouncerWheelAnimationFrame, animationFrame, () => this._wheelAnimationFrame = false);\n    var momentum = Math.abs(e.deltaX) + Math.abs(deltaY);\n\n    if (this._canScroll(table, e.deltaX, deltaY)) {\n      e.preventDefault();\n      table.scrollTop += deltaY;\n      table.scrollLeft += e.deltaX;\n\n      this._scrollHandler();\n\n      this._hasResidualMomentum = true;\n      this._ignoreNewWheel = true;\n      this._debouncerIgnoreNewWheel = Debouncer.debounce(this._debouncerIgnoreNewWheel, timeOut.after(this._timeouts.IGNORE_WHEEL), () => this._ignoreNewWheel = false);\n    } else if (this._hasResidualMomentum && momentum <= this._previousMomentum || this._ignoreNewWheel) {\n      e.preventDefault();\n    } else if (momentum > this._previousMomentum) {\n      this._hasResidualMomentum = false;\n    }\n\n    this._previousMomentum = momentum;\n  }\n  /**\n   * Determines if the element has an ancestor prior to this\n   * cell content that handles the scroll delta\n   */\n\n\n  _hasScrolledAncestor(el, deltaX, deltaY) {\n    if (el.localName === 'vaadin-grid-cell-content') {\n      return false;\n    } else if (this._canScroll(el, deltaX, deltaY) && ['auto', 'scroll'].indexOf(getComputedStyle(el).overflow) !== -1) {\n      return true;\n    } else if (el !== this && el.parentElement) {\n      return this._hasScrolledAncestor(el.parentElement, deltaX, deltaY);\n    }\n  }\n  /**\n   * Determines if the the given scroll deltas can be applied to the element\n   * (fully or partially)\n   */\n\n\n  _canScroll(el, deltaX, deltaY) {\n    return deltaY > 0 && el.scrollTop < el.scrollHeight - el.offsetHeight || deltaY < 0 && el.scrollTop > 0 || deltaX > 0 && el.scrollLeft < el.scrollWidth - el.offsetWidth || deltaX < 0 && el.scrollLeft > 0;\n  }\n\n  _scheduleScrolling() {\n    if (!this._scrollingFrame) {\n      // Defer setting state attributes to avoid Edge hiccups\n      this._scrollingFrame = requestAnimationFrame(() => this._toggleAttribute('scrolling', true, this.$.scroller));\n    }\n\n    this._debounceScrolling = Debouncer.debounce(this._debounceScrolling, timeOut.after(this._timeouts.SCROLLING), () => {\n      cancelAnimationFrame(this._scrollingFrame);\n      delete this._scrollingFrame;\n\n      this._toggleAttribute('scrolling', false, this.$.scroller);\n\n      if (!this.$.outerscroller.outerScrolling) {\n        this._reorderRows();\n      }\n    });\n\n    if (!this._scrollPeriodFrame) {\n      this._scrollPeriodFrame = requestAnimationFrame(() => this._toggleAttribute('scroll-period', true, this.$.scroller));\n    }\n\n    this._debounceScrollPeriod = Debouncer.debounce(this._debounceScrollPeriod, timeOut.after(this._timeouts.SCROLL_PERIOD), () => {\n      cancelAnimationFrame(this._scrollPeriodFrame);\n      delete this._scrollPeriodFrame;\n\n      this._toggleAttribute('scroll-period', false, this.$.scroller);\n    });\n  }\n\n  _afterScroll() {\n    this._translateStationaryElements();\n\n    if (!this.hasAttribute('reordering')) {\n      this._scheduleScrolling();\n    }\n\n    const os = this.$.outerscroller;\n\n    if (!this._ios && (this._wheelScrolling || os.passthrough)) {\n      os.syncOuterScroller();\n    }\n\n    if (this._ios) {\n      // Enable vertical rubberband feedback\n      const overScroll = Math.max(-os.scrollTop, 0) || Math.min(0, os.scrollHeight - os.scrollTop - os.offsetHeight);\n      this.$.items.style.transform = `translateY(${overScroll}px)`;\n    }\n\n    this._updateOverflow();\n  }\n\n  _updateOverflow() {\n    // Set overflow styling attributes\n    let overflow = '';\n    const table = this.$.table;\n\n    if (table.scrollTop < table.scrollHeight - table.clientHeight) {\n      overflow += ' bottom';\n    }\n\n    if (table.scrollTop > 0) {\n      overflow += ' top';\n    }\n\n    if (table.scrollLeft < table.scrollWidth - table.clientWidth) {\n      overflow += ' right';\n    }\n\n    if (table.scrollLeft > 0) {\n      overflow += ' left';\n    }\n\n    this._debounceOverflow = Debouncer.debounce(this._debounceOverflow, animationFrame, () => {\n      const value = overflow.trim();\n\n      if (value.length > 0 && this.getAttribute('overflow') !== value) {\n        this.setAttribute('overflow', value);\n      } else if (value.length == 0 && this.hasAttribute('overflow')) {\n        this.removeAttribute('overflow');\n      }\n    });\n  } // correct order needed for preserving correct tab order between cell contents.\n\n\n  _reorderRows() {\n    const body = this.$.items;\n    const items = body.querySelectorAll('tr');\n\n    if (!items.length) {\n      return;\n    }\n\n    const adjustedVirtualStart = this._virtualStart + this._vidxOffset; // Which row to use as a target?\n\n    const targetRow = this._rowWithFocusedElement || Array.from(items).filter(row => !row.hidden)[0];\n\n    if (!targetRow) {\n      // All rows are hidden, don't reorder\n      return;\n    } // Where the target row should be?\n\n\n    const targetPhysicalIndex = targetRow.index - adjustedVirtualStart; // Reodrer the DOM elements to keep the target row at the target physical index\n\n    const delta = Array.from(items).indexOf(targetRow) - targetPhysicalIndex;\n\n    if (delta > 0) {\n      for (let i = 0; i < delta; i++) {\n        body.appendChild(items[i]);\n      }\n    } else if (delta < 0) {\n      for (let i = items.length + delta; i < items.length; i++) {\n        body.insertBefore(items[i], items[0]);\n      }\n    }\n  }\n\n  _frozenCellsChanged() {\n    this._debouncerCacheElements = Debouncer.debounce(this._debouncerCacheElements, microTask, () => {\n      Array.from(this.root.querySelectorAll('[part~=\"cell\"]')).forEach(function (cell) {\n        cell.style.transform = '';\n      });\n      this._frozenCells = Array.prototype.slice.call(this.$.table.querySelectorAll('[frozen]'));\n\n      this._translateStationaryElements();\n    });\n\n    this._updateLastFrozen();\n  }\n\n  _updateLastFrozen() {\n    if (!this._columnTree) {\n      return;\n    }\n\n    const columnsRow = this._columnTree[this._columnTree.length - 1].slice(0);\n\n    columnsRow.sort((a, b) => {\n      return a._order - b._order;\n    });\n    const lastFrozen = columnsRow.reduce((prev, col, index) => {\n      col._lastFrozen = false;\n      return col.frozen && !col.hidden ? index : prev;\n    }, undefined);\n\n    if (lastFrozen !== undefined) {\n      columnsRow[lastFrozen]._lastFrozen = true;\n    }\n  }\n\n  _translateStationaryElements() {\n    if (this._edge && !this._scrollbarWidth) {\n      // Fixed mode (Tablet Edge)\n      this.$.items.style.transform = this._getTranslate(-this._scrollLeft || 0, -this._scrollTop || 0);\n      this.$.footer.style.transform = this.$.header.style.transform = this._getTranslate(-this._scrollLeft || 0, 0);\n    } else {\n      this.$.footer.style.transform = this.$.header.style.transform = this._getTranslate(0, this._scrollTop);\n    }\n\n    var frozenCellTransform = this._getTranslate(this._scrollLeft, 0);\n\n    for (var i = 0; i < this._frozenCells.length; i++) {\n      this._frozenCells[i].style.transform = frozenCellTransform;\n    }\n  }\n\n  _getTranslate(x, y) {\n    return 'translate(' + x + 'px,' + y + 'px)';\n  }\n\n  _scrollHeightUpdated(_estScrollHeight) {\n    this.$.outersizer.style.top = this.$.fixedsizer.style.top = _estScrollHeight + 'px';\n  }\n\n};","/**\n@license\nCopyright (c) 2017 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\n\n/**\n * @polymerMixin\n */\nexport const SelectionMixin = superClass => class SelectionMixin extends superClass {\n  static get properties() {\n    return {\n      /**\n       * An array that contains the selected items.\n       */\n      selectedItems: {\n        type: Object,\n        notify: true,\n        value: () => []\n      }\n    };\n  }\n\n  static get observers() {\n    return ['_selectedItemsChanged(selectedItems.*)'];\n  }\n\n  _isSelected(item) {\n    return this.selectedItems && this._getItemIndexInArray(item, this.selectedItems) > -1;\n  }\n  /**\n   * Selects the given item.\n   *\n   * @method selectItem\n   * @param {Object} item The item object\n   */\n\n\n  selectItem(item) {\n    if (!this._isSelected(item)) {\n      this.push('selectedItems', item);\n    }\n  }\n  /**\n   * Deselects the given item if it is already selected.\n   *\n   * @method deselect\n   * @param {Object} item The item object\n   */\n\n\n  deselectItem(item) {\n    const index = this._getItemIndexInArray(item, this.selectedItems);\n\n    if (index > -1) {\n      this.splice('selectedItems', index, 1);\n    }\n  }\n  /**\n   * Toggles the selected state of the given item.\n   *\n   * @method toggle\n   * @param {Object} item The item object\n   */\n\n\n  _toggleItem(item) {\n    const index = this._getItemIndexInArray(item, this.selectedItems);\n\n    if (index === -1) {\n      this.selectItem(item);\n    } else {\n      this.deselectItem(item);\n    }\n  }\n\n  _selectedItemsChanged(e) {\n    if (this.$.items.children.length && (e.path === 'selectedItems' || e.path === 'selectedItems.splices')) {\n      Array.from(this.$.items.children).forEach(row => {\n        this._updateItem(row, row._item);\n      });\n    }\n  }\n\n  _selectedInstanceChangedCallback(instance, value) {\n    if (super._selectedInstanceChangedCallback) {\n      super._selectedInstanceChangedCallback(instance, value);\n    }\n\n    if (value) {\n      this.selectItem(instance.item);\n    } else {\n      this.deselectItem(instance.item);\n    }\n  }\n\n};","/**\n@license\nCopyright (c) 2017 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\nimport { microTask } from \"@polymer/polymer/lib/utils/async.js\";\nimport { PolymerElement } from \"@polymer/polymer/polymer-element.js\";\n/**\n * @polymerMixin\n */\n\nexport const SortMixin = superClass => class SortMixin extends superClass {\n  static get properties() {\n    return {\n      /**\n       * When `true`, all `<vaadin-grid-sorter>` are applied for sorting.\n       */\n      multiSort: {\n        type: Boolean,\n        value: false\n      },\n      _sorters: {\n        type: Array,\n        value: function () {\n          return [];\n        }\n      },\n      _previousSorters: {\n        type: Array,\n        value: function () {\n          return [];\n        }\n      }\n    };\n  }\n\n  ready() {\n    super.ready();\n    this.addEventListener('sorter-changed', this._onSorterChanged); // With Polymer 2 & shady the 'sorter-changed' listener isn't guaranteed to be registered\n    // before child <vaadin-grid-sorter>'s upgrade and fire the events. The following\n    // makes sure that 'sorter-changed' is fired for all <vaadin-grid-sorter> elements\n    // after this (<vaadin-grid>) is ready (and the listeners are active).\n\n    if (window.ShadyDOM) {\n      microTask.run(() => {\n        const sorters = this.querySelectorAll('vaadin-grid-sorter');\n        Array.from(sorters).forEach(sorter => {\n          // Don't try to fire if the sorter hasn't been upgraded yet\n          if (sorter instanceof PolymerElement) {\n            sorter.dispatchEvent(new CustomEvent('sorter-changed', {\n              bubbles: true,\n              composed: true\n            }));\n          }\n        });\n      });\n    }\n  }\n\n  _onSorterChanged(e) {\n    const sorter = e.target;\n\n    this._removeArrayItem(this._sorters, sorter);\n\n    sorter._order = null;\n\n    if (this.multiSort) {\n      if (sorter.direction) {\n        this._sorters.unshift(sorter);\n      }\n\n      this._sorters.forEach((sorter, index) => sorter._order = this._sorters.length > 1 ? index : null, this);\n    } else {\n      if (sorter.direction) {\n        this._sorters.forEach(sorter => {\n          sorter._order = null;\n          sorter.direction = null;\n        });\n\n        this._sorters = [sorter];\n      }\n    }\n\n    e.stopPropagation();\n\n    if (this.dataProvider && // No need to clear cache if sorters didn't change\n    JSON.stringify(this._previousSorters) !== JSON.stringify(this._mapSorters())) {\n      this.clearCache();\n    }\n\n    this._a11yUpdateSorters();\n\n    this._previousSorters = this._mapSorters();\n  }\n\n  _mapSorters() {\n    return this._sorters.map(sorter => {\n      return {\n        path: sorter.path,\n        direction: sorter.direction\n      };\n    });\n  }\n\n  _removeArrayItem(array, item) {\n    const index = array.indexOf(item);\n\n    if (index > -1) {\n      array.splice(index, 1);\n    }\n  }\n\n};","/**\n@license\nCopyright (c) 2018 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\n\n/**\n * @polymerMixin\n */\nexport const StylingMixin = superClass => class StylingMixin extends superClass {\n  static get properties() {\n    return {\n      /**\n       * A function that allows generating CSS class names for grid cells\n       * based on their row and column. The return value should be the generated\n       * class name as a string, or multiple class names separated by whitespace\n       * characters.\n       *\n       * Receives two arguments:\n       * - `column` The `<vaadin-grid-column>` element (`undefined` for details-cell).\n       * - `rowData` The object with the properties related with\n       *   the rendered item, contains:\n       *   - `rowData.index` The index of the item.\n       *   - `rowData.item` The item.\n       *   - `rowData.expanded` Sublevel toggle state.\n       *   - `rowData.level` Level of the tree represented with a horizontal offset of the toggle button.\n       *   - `rowData.selected` Selected state.\n       */\n      cellClassNameGenerator: Function\n    };\n  }\n\n  static get observers() {\n    return ['__cellClassNameGeneratorChanged(cellClassNameGenerator)'];\n  }\n\n  __cellClassNameGeneratorChanged(cellClassGenerator) {\n    this.generateCellClassNames();\n  }\n  /**\n   * Runs the `cellClassNameGenerator` for the visible cells.\n   * If the generator depends on varying conditions, you need to\n   * call this function manually in order to update the styles when\n   * the conditions change.\n   */\n\n\n  generateCellClassNames() {\n    Array.from(this.$.items.children).filter(row => !row.hidden).forEach(row => this._generateCellClassNames(row, this.__getRowModel(row)));\n  }\n\n  _generateCellClassNames(row, rowData) {\n    Array.from(row.children).forEach(cell => {\n      if (cell.__generatedClasses) {\n        cell.__generatedClasses.forEach(className => cell.classList.remove(className));\n      }\n\n      if (this.cellClassNameGenerator) {\n        const result = this.cellClassNameGenerator(cell._column, rowData);\n        cell.__generatedClasses = result && result.split(' ').filter(className => className.length > 0);\n\n        if (cell.__generatedClasses) {\n          cell.__generatedClasses.forEach(className => cell.classList.add(className));\n        }\n      }\n    });\n  }\n\n};","/**\n@license\nCopyright (c) 2019 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\nconst DropMode = {\n  BETWEEN: 'between',\n  ON_TOP: 'on-top',\n  ON_TOP_OR_BETWEEN: 'on-top-or-between',\n  ON_GRID: 'on-grid'\n};\nconst DropLocation = {\n  ON_TOP: 'on-top',\n  ABOVE: 'above',\n  BELOW: 'below',\n  EMPTY: 'empty'\n};\n/**\n * @polymerMixin\n */\n\nexport const DragAndDropMixin = superClass => class DragAndDropMixin extends superClass {\n  static get properties() {\n    return {\n      /**\n       * Defines the locations within the Grid row where an element can be dropped.\n       *\n       * Possible values are:\n       * - `between`: The drop event can happen between Grid rows.\n       * - `on-top`: The drop event can happen on top of Grid rows.\n       * - `on-top-or-between`: The drop event can happen either on top of or between Grid rows.\n       * - `on-grid`: The drop event will not happen on any specific row, it will show the drop target outline around the whole grid.\n       */\n      dropMode: String,\n\n      /**\n       * Marks the grid's rows to be available for dragging.\n       */\n      rowsDraggable: Boolean,\n\n      /**\n       * A function that filters dragging of specific grid rows. The return value should be false\n       * if dragging of the row should be disabled.\n       *\n       * Receives one argument:\n       * - `rowData` The object with the properties related with\n       *   the rendered item, contains:\n       *   - `rowData.index` The index of the item.\n       *   - `rowData.item` The item.\n       *   - `rowData.expanded` Sublevel toggle state.\n       *   - `rowData.level` Level of the tree represented with a horizontal offset of the toggle button.\n       *   - `rowData.selected` Selected state.\n       */\n      dragFilter: Function,\n\n      /**\n       * A function that filters dropping on specific grid rows. The return value should be false\n       * if dropping on the row should be disabled.\n       *\n       * Receives one argument:\n       * - `rowData` The object with the properties related with\n       *   the rendered item, contains:\n       *   - `rowData.index` The index of the item.\n       *   - `rowData.item` The item.\n       *   - `rowData.expanded` Sublevel toggle state.\n       *   - `rowData.level` Level of the tree represented with a horizontal offset of the toggle button.\n       *   - `rowData.selected` Selected state.\n       */\n      dropFilter: Function,\n      __dndAutoScrollThreshold: {\n        value: 50\n      }\n    };\n  }\n\n  static get observers() {\n    return ['_dragDropAccessChanged(rowsDraggable, dropMode, dragFilter, dropFilter)'];\n  }\n\n  ready() {\n    super.ready();\n    this.$.table.addEventListener('dragstart', this._onDragStart.bind(this));\n    this.$.table.addEventListener('dragend', this._onDragEnd.bind(this));\n    this.$.table.addEventListener('dragover', this._onDragOver.bind(this));\n    this.$.table.addEventListener('dragleave', this._onDragLeave.bind(this));\n    this.$.table.addEventListener('drop', this._onDrop.bind(this));\n    this.$.table.addEventListener('dragenter', e => {\n      if (this.dropMode) {\n        e.preventDefault();\n        e.stopPropagation();\n      }\n    });\n  }\n\n  _onDragStart(e) {\n    if (this.rowsDraggable) {\n      let row = e.target;\n\n      if (row.localName === 'vaadin-grid-cell-content') {\n        // The draggable node is the cell content element on browsers that support native shadow\n        row = row.assignedSlot.parentNode.parentNode;\n      }\n\n      if (row.parentNode !== this.$.items) {\n        return;\n      }\n\n      e.stopPropagation();\n\n      this._toggleAttribute('dragging-rows', true, this);\n\n      if (this._safari) {\n        // Safari doesn't get proper drag images from transformed\n        // elements so we need to switch to top temporarily\n        const transform = row.style.transform;\n        row.style.top = /translateY\\((.*)\\)/.exec(transform)[1];\n        row.style.transform = 'none';\n        requestAnimationFrame(() => {\n          row.style.top = '';\n          row.style.transform = transform;\n        });\n      }\n\n      const rowRect = row.getBoundingClientRect();\n\n      if (!window.ShadyDOM) {\n        if (this._ios) {\n          e.dataTransfer.setDragImage(row);\n        } else {\n          e.dataTransfer.setDragImage(row, e.clientX - rowRect.left, e.clientY - rowRect.top);\n        }\n      }\n\n      let rows = [row];\n\n      if (this._isSelected(row._item)) {\n        rows = this.__getViewportRows().filter(row => this._isSelected(row._item)).filter(row => !this.dragFilter || this.dragFilter(this.__getRowModel(row)));\n      } // Set the default transfer data\n\n\n      e.dataTransfer.setData('text', this.__formatDefaultTransferData(rows));\n      row.setAttribute('dragstart', rows.length > 1 ? rows.length : '');\n      this.updateStyles({\n        '--_grid-drag-start-x': `${e.clientX - rowRect.left + 20}px`,\n        '--_grid-drag-start-y': `${e.clientY - rowRect.top + 10}px`\n      });\n      requestAnimationFrame(() => {\n        row.removeAttribute('dragstart');\n        this.updateStyles({\n          '--_grid-drag-start-x': '',\n          '--_grid-drag-start-y': ''\n        });\n      });\n      const event = new CustomEvent('grid-dragstart', {\n        detail: {\n          draggedItems: rows.map(row => row._item),\n          setDragData: (type, data) => e.dataTransfer.setData(type, data),\n          setDraggedItemsCount: count => row.setAttribute('dragstart', count)\n        }\n      });\n      event.originalEvent = e;\n      this.dispatchEvent(event);\n    }\n  }\n\n  _onDragEnd(e) {\n    this._toggleAttribute('dragging-rows', false, this);\n\n    e.stopPropagation();\n    const event = new CustomEvent('grid-dragend');\n    event.originalEvent = e;\n    this.dispatchEvent(event);\n  }\n\n  _onDragLeave(e) {\n    e.stopPropagation();\n\n    this._clearDragStyles();\n  }\n\n  _onDragOver(e) {\n    if (this.dropMode) {\n      this._dropLocation = undefined;\n      this._dragOverItem = undefined;\n\n      if (this.__dndAutoScroll(e.clientY)) {\n        this._clearDragStyles();\n\n        return;\n      }\n\n      let row = e.composedPath().filter(node => node.localName === 'tr')[0];\n\n      if (!this._effectiveSize || this.dropMode === DropMode.ON_GRID) {\n        // The grid is empty or \"on-grid\" drop mode was used, always default to \"empty\"\n        this._dropLocation = DropLocation.EMPTY;\n      } else if (!row || row.parentNode !== this.$.items) {\n        // The dragover didn't occur on a body row but the grid has items\n        if (row) {\n          // The dragover occurred over a header/footer row\n          return;\n        } else if (this.dropMode === DropMode.BETWEEN || this.dropMode === DropMode.ON_TOP_OR_BETWEEN) {\n          // The drop mode allows setting the last row as the drag over item\n          row = Array.from(this.$.items.children).filter(row => !row.hidden).pop();\n          this._dropLocation = DropLocation.BELOW;\n        } else {\n          // Drop mode on-top used but the dragover didn't occur over one of the existing rows\n          return;\n        }\n      } else {\n        // The dragover occurred on a body row, determine the drop location from coordinates\n        const rowRect = row.getBoundingClientRect();\n        this._dropLocation = DropLocation.ON_TOP;\n\n        if (this.dropMode === DropMode.BETWEEN) {\n          const dropAbove = e.clientY - rowRect.top < rowRect.bottom - e.clientY;\n          this._dropLocation = dropAbove ? DropLocation.ABOVE : DropLocation.BELOW;\n        } else if (this.dropMode === DropMode.ON_TOP_OR_BETWEEN) {\n          if (e.clientY - rowRect.top < rowRect.height / 3) {\n            this._dropLocation = DropLocation.ABOVE;\n          } else if (e.clientY - rowRect.top > rowRect.height / 3 * 2) {\n            this._dropLocation = DropLocation.BELOW;\n          }\n        }\n      }\n\n      if (row && row.hasAttribute('drop-disabled')) {\n        this._dropLocation = undefined;\n        return;\n      }\n\n      e.stopPropagation();\n      e.preventDefault();\n\n      if (this._dropLocation === DropLocation.EMPTY) {\n        this._toggleAttribute('dragover', true, this);\n      } else if (row) {\n        this._dragOverItem = row._item;\n\n        if (row.getAttribute('dragover') !== this._dropLocation) {\n          row.setAttribute('dragover', this._dropLocation);\n        }\n      } else {\n        this._clearDragStyles();\n      }\n    }\n  }\n\n  __dndAutoScroll(clientY) {\n    if (this.__dndAutoScrolling) {\n      return true;\n    }\n\n    const headerBottom = this.$.header.getBoundingClientRect().bottom;\n    const footerTop = this.$.footer.getBoundingClientRect().top;\n    const topDiff = headerBottom - clientY + this.__dndAutoScrollThreshold;\n    const bottomDiff = clientY - footerTop + this.__dndAutoScrollThreshold;\n    let scrollTopDelta = 0;\n\n    if (bottomDiff > 0) {\n      scrollTopDelta = bottomDiff * 2;\n    } else if (topDiff > 0) {\n      scrollTopDelta = -topDiff * 2;\n    }\n\n    if (scrollTopDelta) {\n      const scrollTop = this.$.table.scrollTop;\n      this.$.table.scrollTop += scrollTopDelta;\n      const scrollTopChanged = scrollTop !== this.$.table.scrollTop;\n\n      if (scrollTopChanged) {\n        this.__dndAutoScrolling = true; // Disallow more auto-scrolls within 20ms\n\n        setTimeout(() => this.__dndAutoScrolling = false, 20);\n\n        this._scrollHandler();\n\n        return true;\n      }\n    }\n  }\n\n  __getViewportRows() {\n    const headerBottom = this.$.header.getBoundingClientRect().bottom;\n    const footerTop = this.$.footer.getBoundingClientRect().top;\n    return Array.from(this.$.items.children).filter(row => {\n      const rowRect = row.getBoundingClientRect();\n      return rowRect.bottom > headerBottom && rowRect.top < footerTop;\n    });\n  }\n\n  _clearDragStyles() {\n    this.removeAttribute('dragover');\n    Array.from(this.$.items.children).forEach(row => row.removeAttribute('dragover'));\n  }\n\n  _onDrop(e) {\n    if (this.dropMode) {\n      e.stopPropagation();\n      e.preventDefault();\n      const dragData = e.dataTransfer.types && Array.from(e.dataTransfer.types).map(type => {\n        return {\n          type,\n          data: e.dataTransfer.getData(type)\n        };\n      });\n\n      this._clearDragStyles();\n\n      const event = new CustomEvent('grid-drop', {\n        bubbles: e.bubbles,\n        cancelable: e.cancelable,\n        detail: {\n          dropTargetItem: this._dragOverItem,\n          dropLocation: this._dropLocation,\n          dragData\n        }\n      });\n      event.originalEvent = e;\n      this.dispatchEvent(event);\n    }\n  }\n\n  __formatDefaultTransferData(rows) {\n    return rows.map(row => {\n      return Array.from(row.children).filter(cell => !cell.hidden && cell.getAttribute('part').indexOf('details-cell') === -1).sort((a, b) => {\n        return a._column._order > b._column._order ? 1 : -1;\n      }).map(cell => cell._content.textContent.trim()).filter(content => content).join('\\t');\n    }).join('\\n');\n  }\n\n  _dragDropAccessChanged(rowsDraggable, dropMode, dragFilter, dropFilter) {\n    this.filterDragAndDrop();\n  }\n  /**\n   * Runs the `dragFilter` and `dropFilter` hooks for the visible cells.\n   * If the filter depends on varying conditions, you may need to\n   * call this function manually in order to update the draggability when\n   * the conditions change.\n   */\n\n\n  filterDragAndDrop() {\n    Array.from(this.$.items.children).filter(row => !row.hidden).forEach(row => {\n      this._filterDragAndDrop(row, this.__getRowModel(row));\n    });\n  }\n\n  _filterDragAndDrop(row, rowData) {\n    const dragDisabled = !this.rowsDraggable || this.dragFilter && !this.dragFilter(rowData);\n    const dropDisabled = !this.dropMode || this.dropFilter && !this.dropFilter(rowData);\n    const draggableElements = window.ShadyDOM ? [row] : Array.from(row.children).map(cell => cell._content);\n    draggableElements.forEach(e => {\n      if (dragDisabled) {\n        e.removeAttribute('draggable');\n      } else {\n        e.setAttribute('draggable', true);\n      }\n    });\n\n    this._toggleAttribute('drag-disabled', dragDisabled, row);\n\n    this._toggleAttribute('drop-disabled', dropDisabled, row);\n  }\n  /**\n   * Fired when starting to drag grid rows.\n   *\n   * @event grid-dragstart\n   * @param {Object} originalEvent The native dragstart event\n   * @param {Object} detail\n   * @param {Object} detail.draggedItems the items in the visible viewport that are dragged\n   * @param {Function} detail.setDraggedItemsCount Overrides the default number shown in the drag image on multi row drag.\n   * Parameter is of type number.\n   * @param {Function} detail.setDragData Sets dataTransfer data for the drag operation.\n   * Note that \"text\" is the only data type supported by all the browsers the grid currently supports (including IE11).\n   * The function takes two parameters:\n   * - type:string The type of the data\n   * - data:string The data\n   */\n\n  /**\n   * Fired when the dragging of the rows ends.\n   *\n   * @event grid-dragend\n   * @param {Object} originalEvent The native dragend event\n   */\n\n  /**\n   * Fired when a drop occurs on top of the grid.\n   *\n   * @event grid-drop\n   * @param {Object} originalEvent The native drop event\n   * @param {Object} detail\n   * @param {Object} detail.dropTargetItem The item of the grid row on which the drop occurred.\n   * @param {string} detail.dropLocation The position at which the drop event took place relative to a row.\n   * Depending on the dropMode value, the drop location can be one of the following\n   * - `on-top`: when the drop occurred on top of the row\n   * - `above`: when the drop occurred above the row\n   * - `below`: when the drop occurred below the row\n   * - `empty`: when the drop occurred over the grid, not relative to any specific row\n   * @param {string} detail.dragData An array of items with the payload as a string representation as the\n   * `data` property and the type of the data as `type` property.\n   */\n\n\n};","/**\n@license\nCopyright (c) 2017 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\n\n/**\n * @polymerMixin\n */\nexport const KeyboardNavigationMixin = superClass => class KeyboardNavigationMixin extends superClass {\n  static get properties() {\n    return {\n      _headerFocusable: {\n        type: Object,\n        observer: '_focusableChanged'\n      },\n      _itemsFocusable: {\n        type: Object,\n        observer: '_focusableChanged'\n      },\n      _footerFocusable: {\n        type: Object,\n        observer: '_focusableChanged'\n      },\n      _navigatingIsHidden: Boolean,\n      _focusedItemIndex: {\n        type: Number,\n        value: 0\n      },\n      _focusedColumnOrder: Number\n    };\n  }\n\n  ready() {\n    super.ready();\n\n    if (this._ios || this._android) {\n      // Disable keyboard navigation on mobile devices\n      return;\n    }\n\n    this.addEventListener('keydown', this._onKeyDown);\n    this.addEventListener('focusin', this._onFocusIn);\n    this.addEventListener('focusout', this._onFocusOut); // When focus goes from cell to another cell, focusin/focusout events do\n    // not escape the grid’s shadowRoot, thus listening inside the shadowRoot.\n\n    this.$.table.addEventListener('focusin', this._onCellFocusIn.bind(this));\n    this.$.table.addEventListener('focusout', this._onCellFocusOut.bind(this));\n    this.addEventListener('mousedown', () => {\n      this._toggleAttribute('navigating', false, this);\n\n      this._isMousedown = true;\n    });\n    this.addEventListener('mouseup', () => this._isMousedown = false);\n  }\n\n  _focusableChanged(focusable, oldFocusable) {\n    if (oldFocusable) {\n      oldFocusable.setAttribute('tabindex', '-1');\n    }\n\n    if (focusable) {\n      focusable.setAttribute('tabindex', '0');\n    }\n  }\n\n  _onKeyDown(e) {\n    // Ensure standard key value, unified across browsers\n    let key = e.key;\n\n    if (key === 'Up' || key === 'Down' || key === 'Left' || key === 'Right') {\n      // MSIE & Edge\n      key = 'Arrow' + key;\n    }\n\n    if (key === 'Esc') {\n      // MSIE & Edge\n      key = 'Escape';\n    }\n\n    if (key === 'Spacebar') {\n      // MSIE\n      key = ' ';\n    }\n\n    let keyGroup;\n\n    switch (key) {\n      case 'ArrowUp':\n      case 'ArrowDown':\n      case 'ArrowLeft':\n      case 'ArrowRight':\n      case 'PageUp':\n      case 'PageDown':\n      case 'Home':\n      case 'End':\n        keyGroup = 'Navigation';\n        break;\n\n      case 'Enter':\n      case 'Escape':\n      case 'F2':\n        keyGroup = 'Interaction';\n        break;\n\n      case 'Tab':\n        keyGroup = 'Tab';\n        break;\n\n      case ' ':\n        keyGroup = 'Space';\n        break;\n    }\n\n    this._detectInteracting(e);\n\n    if (this.hasAttribute('interacting') && keyGroup !== 'Interaction') {\n      // When in the interacting mode, only the “Interaction” keys are handled.\n      keyGroup = undefined;\n    }\n\n    if (keyGroup) {\n      this[`_on${keyGroup}KeyDown`](e, key);\n    }\n  }\n\n  _ensureScrolledToIndex(index) {\n    const targetRowInDom = Array.from(this.$.items.children).filter(child => child.index === index)[0];\n\n    if (!targetRowInDom) {\n      this._scrollToIndex(index);\n    }\n  }\n\n  _onNavigationKeyDown(e, key) {\n    e.preventDefault();\n\n    function indexOfChildElement(el) {\n      return Array.prototype.indexOf.call(el.parentNode.children, el);\n    }\n\n    const visibleItemsCount = this._lastVisibleIndex - this._firstVisibleIndex - 1;\n    let dx = 0,\n        dy = 0;\n\n    switch (key) {\n      case 'ArrowRight':\n        dx = 1;\n        break;\n\n      case 'ArrowLeft':\n        dx = -1;\n        break;\n\n      case 'Home':\n        dx = -Infinity;\n        e.ctrlKey && (dy = -Infinity);\n        break;\n\n      case 'End':\n        dx = Infinity;\n        e.ctrlKey && (dy = Infinity);\n        break;\n\n      case 'ArrowDown':\n        dy = 1;\n        break;\n\n      case 'ArrowUp':\n        dy = -1;\n        break;\n\n      case 'PageDown':\n        dy = visibleItemsCount;\n        break;\n\n      case 'PageUp':\n        dy = -visibleItemsCount;\n        break;\n    }\n\n    const activeCell = e.composedPath()[0];\n    const columnIndex = indexOfChildElement(activeCell);\n\n    const isRowDetails = this._elementMatches(activeCell, '[part~=\"details-cell\"]');\n\n    const activeRow = activeCell.parentNode;\n    const activeRowGroup = activeRow.parentNode;\n    const maxRowIndex = (activeRowGroup === this.$.items ? this._effectiveSize : activeRowGroup.children.length) - 1; // Body rows have index property, otherwise DOM child index of the row is used.\n\n    const rowIndex = activeRowGroup === this.$.items ? this._focusedItemIndex !== undefined ? this._focusedItemIndex : activeRow.index : indexOfChildElement(activeRow); // Index of the destination row\n\n    let dstRowIndex = Math.max(0, Math.min(rowIndex + dy, maxRowIndex)); // Row details navigation logic\n\n    let dstIsRowDetails = false;\n\n    if (activeRowGroup === this.$.items) {\n      const item = activeRow._item;\n\n      const dstItem = this._cache.getItemForIndex(dstRowIndex); // Should we navigate to row details?\n\n\n      if (isRowDetails) {\n        dstIsRowDetails = dy === 0;\n      } else {\n        dstIsRowDetails = dy === 1 && this._isDetailsOpened(item) || dy === -1 && dstRowIndex !== rowIndex && this._isDetailsOpened(dstItem);\n      } // Should we navigate between details and regular cells of the same row?\n\n\n      if (dstIsRowDetails !== isRowDetails && (dy === 1 && dstIsRowDetails || dy === -1 && !dstIsRowDetails)) {\n        dstRowIndex = rowIndex;\n      }\n    } // Header and footer could have hidden rows, e. g., if none of the columns\n    // or groups on the given column tree level define template. Skip them\n    // in vertical keyboard navigation.\n\n\n    if (activeRowGroup !== this.$.items) {\n      if (dstRowIndex > rowIndex) {\n        while (dstRowIndex < maxRowIndex && activeRowGroup.children[dstRowIndex].hidden) {\n          dstRowIndex++;\n        }\n      } else if (dstRowIndex < rowIndex) {\n        while (dstRowIndex > 0 && activeRowGroup.children[dstRowIndex].hidden) {\n          dstRowIndex--;\n        }\n      }\n    } // _focusedColumnOrder is memoized — this is to ensure predictable\n    // navigation when entering and leaving detail and column group cells.\n\n\n    if (this._focusedColumnOrder === undefined) {\n      if (isRowDetails) {\n        this._focusedColumnOrder = 0;\n      } else {\n        this._focusedColumnOrder = this._getColumns(activeRowGroup, rowIndex)[columnIndex]._order;\n      }\n    } // Find orderedColumnIndex — the index of order closest matching the\n    // original _focusedColumnOrder in the sorted array of orders\n    // of the visible columns on the destination row.\n\n\n    const dstColumns = this._getColumns(activeRowGroup, dstRowIndex);\n\n    const dstSortedColumnOrders = dstColumns.filter(c => !c.hidden).map(c => c._order).sort((b, a) => b - a);\n    const maxOrderedColumnIndex = dstSortedColumnOrders.length - 1;\n    const orderedColumnIndex = dstSortedColumnOrders.indexOf(dstSortedColumnOrders.slice(0).sort((b, a) => Math.abs(b - this._focusedColumnOrder) - Math.abs(a - this._focusedColumnOrder))[0]); // Index of the destination column order\n\n    const dstOrderedColumnIndex = dy === 0 && isRowDetails ? orderedColumnIndex : Math.max(0, Math.min(orderedColumnIndex + dx, maxOrderedColumnIndex));\n\n    if (dstOrderedColumnIndex !== orderedColumnIndex) {\n      // Horizontal movement invalidates stored _focusedColumnOrder\n      this._focusedColumnOrder = undefined;\n    } // Ensure correct vertical scroll position, destination row is visible\n\n\n    if (activeRowGroup === this.$.items) {\n      this._ensureScrolledToIndex(dstRowIndex);\n    } // This has to be set after scrolling, otherwise it can be removed by\n    // `_preventScrollerRotatingCellFocus(item, index)` during scrolling.\n\n\n    this._toggleAttribute('navigating', true, this);\n\n    const columnIndexByOrder = dstColumns.reduce((acc, col, i) => (acc[col._order] = i, acc), {});\n    const dstColumnIndex = columnIndexByOrder[dstSortedColumnOrders[dstOrderedColumnIndex]]; // For body rows, use index property to find destination row, otherwise use DOM child index\n\n    const dstRow = activeRowGroup === this.$.items ? Array.from(activeRowGroup.children).filter(el => el.index === dstRowIndex)[0] : activeRowGroup.children[dstRowIndex];\n\n    if (!dstRow) {\n      return;\n    } // Here we go!\n\n\n    const dstCell = dstIsRowDetails ? Array.from(dstRow.children).filter(el => this._elementMatches(el, '[part~=\"details-cell\"]'))[0] : dstRow.children[dstColumnIndex];\n\n    this._scrollHorizontallyToCell(dstCell);\n\n    if (activeRowGroup === this.$.items) {\n      // When scrolling with repeated keydown, sometimes FocusEvent listeners\n      // are too late to update _focusedItemIndex. Ensure next keydown\n      // listener invocation gets updated _focusedItemIndex value.\n      this._focusedItemIndex = dstRowIndex;\n    }\n\n    if (activeRowGroup === this.$.items) {\n      const dstRect = dstCell.getBoundingClientRect();\n      const footerTop = this.$.footer.getBoundingClientRect().top;\n      const headerBottom = this.$.header.getBoundingClientRect().bottom;\n\n      if (dstRect.bottom > footerTop) {\n        this.$.table.scrollTop += dstRect.bottom - footerTop;\n\n        this._scrollHandler();\n      } else if (dstRect.top < headerBottom) {\n        this.$.table.scrollTop -= headerBottom - dstRect.top;\n\n        this._scrollHandler();\n      }\n    }\n\n    dstCell.focus();\n  }\n\n  _parseEventPath(path) {\n    const tableIndex = path.indexOf(this.$.table);\n    return {\n      rowGroup: path[tableIndex - 1],\n      row: path[tableIndex - 2],\n      cell: path[tableIndex - 3]\n    };\n  }\n\n  _onInteractionKeyDown(e, key) {\n    const localTarget = e.composedPath()[0];\n    const localTargetIsTextInput = localTarget.localName === 'input' && !/^(button|checkbox|color|file|image|radio|range|reset|submit)$/i.test(localTarget.type);\n    let wantInteracting;\n\n    switch (key) {\n      case 'Enter':\n        wantInteracting = this.hasAttribute('interacting') ? !localTargetIsTextInput : true;\n        break;\n\n      case 'Escape':\n        wantInteracting = false;\n        break;\n\n      case 'F2':\n        wantInteracting = !this.hasAttribute('interacting');\n        break;\n    }\n\n    const {\n      cell\n    } = this._parseEventPath(e.composedPath());\n\n    if (this.hasAttribute('interacting') !== wantInteracting) {\n      if (wantInteracting) {\n        const focusTarget = cell._content.querySelector('[focus-target]') || cell._content.firstElementChild;\n\n        if (focusTarget) {\n          e.preventDefault();\n          focusTarget.focus();\n\n          this._toggleAttribute('interacting', true, this);\n\n          this._toggleAttribute('navigating', false, this);\n        }\n      } else {\n        e.preventDefault();\n        this._focusedColumnOrder = undefined;\n        cell.focus();\n\n        this._toggleAttribute('interacting', false, this);\n\n        this._toggleAttribute('navigating', true, this);\n      }\n    }\n  }\n\n  _predictFocusStepTarget(srcElement, step) {\n    const tabOrder = [this.$.table, this._headerFocusable, this._itemsFocusable, this._footerFocusable, this.$.focusexit];\n    let index = tabOrder.indexOf(srcElement);\n    index += step;\n\n    while (index >= 0 && index <= tabOrder.length - 1 && (!tabOrder[index] || tabOrder[index].parentNode.hidden)) {\n      index += step;\n    }\n\n    return tabOrder[index];\n  }\n\n  _onTabKeyDown(e) {\n    const focusTarget = this._predictFocusStepTarget(e.composedPath()[0], e.shiftKey ? -1 : 1);\n\n    if (focusTarget === this.$.table) {\n      // The focus is about to exit the grid to the top.\n      this.$.table.focus();\n    } else if (focusTarget === this.$.focusexit) {\n      // The focus is about to exit the grid to the bottom.\n      this.$.focusexit.focus();\n    } else if (focusTarget === this._itemsFocusable) {\n      let itemsFocusTarget = focusTarget;\n      const targetRow = this._itemsFocusable.parentNode;\n\n      this._ensureScrolledToIndex(this._focusedItemIndex);\n\n      if (targetRow.index !== this._focusedItemIndex) {\n        // The target row, which is about to be focused next, has been\n        // assigned with a new index since last focus, probably because of\n        // scrolling. Focus the row for the stored focused item index instead.\n        const columnIndex = Array.from(targetRow.children).indexOf(this._itemsFocusable);\n        const focusedItemRow = Array.from(this.$.items.children).filter(row => row.index === this._focusedItemIndex)[0];\n\n        if (focusedItemRow) {\n          itemsFocusTarget = focusedItemRow.children[columnIndex];\n        }\n      }\n\n      e.preventDefault();\n      itemsFocusTarget.focus();\n    } else {\n      e.preventDefault();\n      focusTarget.focus();\n    }\n\n    this._toggleAttribute('navigating', true, this);\n  }\n\n  _onSpaceKeyDown(e) {\n    e.preventDefault();\n    const cell = e.composedPath()[0];\n\n    if (cell._content && cell._content.firstElementChild) {\n      const wasNavigating = this.hasAttribute('navigating');\n\n      cell._content.firstElementChild.click();\n\n      this._toggleAttribute('navigating', wasNavigating, this);\n    } else {\n      this.dispatchEvent(new CustomEvent('cell-activate', {\n        detail: {\n          model: this.__getRowModel(cell.parentElement)\n        }\n      }));\n    }\n  }\n\n  _onFocusIn(e) {\n    if (!this._isMousedown) {\n      this._toggleAttribute('navigating', true, this);\n    }\n\n    const rootTarget = e.composedPath()[0];\n\n    if (rootTarget === this.$.table || rootTarget === this.$.focusexit) {\n      // The focus enters the top (bottom) of the grid, meaning that user has\n      // tabbed (shift-tabbed) into the grid. Move the focus to\n      // the first (the last) focusable.\n      this._predictFocusStepTarget(rootTarget, rootTarget === this.$.table ? 1 : -1).focus();\n\n      this._toggleAttribute('interacting', false, this);\n    } else {\n      this._detectInteracting(e);\n    }\n  }\n\n  _onFocusOut(e) {\n    this._toggleAttribute('navigating', false, this);\n\n    this._detectInteracting(e);\n  }\n\n  _onCellFocusIn(e) {\n    this._detectInteracting(e);\n\n    if (e.composedPath().indexOf(this.$.table) === 3) {\n      const cell = e.composedPath()[0];\n      this._activeRowGroup = cell.parentNode.parentNode;\n\n      if (this._activeRowGroup === this.$.header) {\n        this._headerFocusable = cell;\n      } else if (this._activeRowGroup === this.$.items) {\n        this._itemsFocusable = cell;\n      } else if (this._activeRowGroup === this.$.footer) {\n        this._footerFocusable = cell;\n      } // Inform cell content of the focus (used in <vaadin-grid-sorter>)\n\n\n      cell._content.dispatchEvent(new CustomEvent('cell-focusin', {\n        bubbles: false\n      }));\n    }\n\n    this._detectFocusedItemIndex(e);\n  }\n\n  _onCellFocusOut(e) {\n    if (e.composedPath().indexOf(this.$.table) === 3) {\n      const cell = e.composedPath()[0]; // Inform cell content of the focus (used in <vaadin-grid-sorter>)\n\n      cell._content.dispatchEvent(new CustomEvent('cell-focusout', {\n        bubbles: false\n      }));\n    }\n  }\n\n  _detectInteracting(e) {\n    this._toggleAttribute('interacting', e.composedPath().some(el => el.localName === 'vaadin-grid-cell-content'), this);\n  }\n\n  _detectFocusedItemIndex(e) {\n    const {\n      rowGroup,\n      row\n    } = this._parseEventPath(e.composedPath());\n\n    if (rowGroup === this.$.items) {\n      this._focusedItemIndex = row.index;\n    }\n  }\n\n  _preventScrollerRotatingCellFocus(item, index) {\n    if (item.index === this._focusedItemIndex && this.hasAttribute('navigating') && this._activeRowGroup === this.$.items) {\n      // Focused item has went, hide navigation mode\n      this._navigatingIsHidden = true;\n\n      this._toggleAttribute('navigating', false, this);\n    }\n\n    if (index === this._focusedItemIndex && this._navigatingIsHidden) {\n      // Focused item is back, restore navigation mode\n      this._navigatingIsHidden = false;\n\n      this._toggleAttribute('navigating', true, this);\n    }\n  }\n\n  _getColumns(rowGroup, rowIndex) {\n    let columnTreeLevel = this._columnTree.length - 1;\n\n    if (rowGroup === this.$.header) {\n      columnTreeLevel = rowIndex;\n    } else if (rowGroup === this.$.footer) {\n      columnTreeLevel = this._columnTree.length - 1 - rowIndex;\n    }\n\n    return this._columnTree[columnTreeLevel];\n  }\n\n  _resetKeyboardNavigation() {\n    if (this.$.header.firstElementChild) {\n      this._headerFocusable = Array.from(this.$.header.firstElementChild.children).filter(el => !el.hidden)[0];\n    }\n\n    if (this.$.items.firstElementChild) {\n      const firstVisibleIndexRow = this._iterateItems((pidx, vidx) => {\n        if (this._firstVisibleIndex === vidx) {\n          return this.$.items.children[pidx];\n        }\n      });\n\n      if (firstVisibleIndexRow) {\n        this._itemsFocusable = Array.from(firstVisibleIndexRow.children).filter(el => !el.hidden)[0];\n      }\n    }\n\n    if (this.$.footer.firstElementChild) {\n      this._footerFocusable = Array.from(this.$.footer.firstElementChild.children).filter(el => !el.hidden)[0];\n    }\n  }\n\n  _scrollHorizontallyToCell(dstCell) {\n    if (dstCell.hasAttribute('frozen') || this._elementMatches(dstCell, '[part~=\"details-cell\"]')) {\n      // These cells are, by design, always visible, no need to scroll.\n      return;\n    }\n\n    const dstCellRect = dstCell.getBoundingClientRect();\n    const dstRow = dstCell.parentNode;\n    const dstCellIndex = Array.from(dstRow.children).indexOf(dstCell);\n    const tableRect = this.$.table.getBoundingClientRect();\n    let leftBoundary = tableRect.left,\n        rightBoundary = tableRect.right;\n\n    for (let i = dstCellIndex - 1; i >= 0; i--) {\n      const cell = dstRow.children[i];\n\n      if (cell.hasAttribute('hidden') || this._elementMatches(cell, '[part~=\"details-cell\"]')) {\n        continue;\n      }\n\n      if (cell.hasAttribute('frozen')) {\n        leftBoundary = cell.getBoundingClientRect().right;\n        break;\n      }\n    }\n\n    for (let i = dstCellIndex + 1; i < dstRow.children.length; i++) {\n      const cell = dstRow.children[i];\n\n      if (cell.hasAttribute('hidden') || this._elementMatches(cell, '[part~=\"details-cell\"]')) {\n        continue;\n      }\n\n      if (cell.hasAttribute('frozen')) {\n        rightBoundary = cell.getBoundingClientRect().left;\n        break;\n      }\n    }\n\n    if (dstCellRect.left < leftBoundary) {\n      this.$.table.scrollLeft += Math.round(dstCellRect.left - leftBoundary);\n    }\n\n    if (dstCellRect.right > rightBoundary) {\n      this.$.table.scrollLeft += Math.round(dstCellRect.right - rightBoundary);\n    }\n  }\n\n  _elementMatches(el, query) {\n    return el.matches ? el.matches(query) : Array.from(el.parentNode.querySelectorAll(query)).indexOf(el) !== -1;\n  }\n\n};","/**\n@license\nCopyright (c) 2017 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\nimport { GestureEventListeners } from \"@polymer/polymer/lib/mixins/gesture-event-listeners.js\";\nimport { addListener } from \"@polymer/polymer/lib/utils/gestures.js\";\nimport { dom } from \"@polymer/polymer/lib/legacy/polymer.dom.js\";\nimport { useShadow } from \"@polymer/polymer/lib/utils/settings.js\";\n/**\n * @polymerMixin\n */\n\nexport const ColumnReorderingMixin = superClass => class ColumnReorderingMixin extends GestureEventListeners(superClass) {\n  static get properties() {\n    return {\n      /**\n       * Set to true to allow column reordering.\n       */\n      columnReorderingAllowed: {\n        type: Boolean,\n        value: false\n      },\n      _orderBaseScope: {\n        type: Number,\n        value: 10000000\n      }\n    };\n  }\n\n  static get observers() {\n    return ['_updateOrders(_columnTree, _columnTree.*)'];\n  }\n\n  ready() {\n    super.ready();\n    addListener(this, 'track', this._onTrackEvent);\n    this._reorderGhost = this.shadowRoot.querySelector('[part=\"reorder-ghost\"]');\n    this.addEventListener('touchstart', this._onTouchStart.bind(this));\n    this.addEventListener('touchmove', this._onTouchMove.bind(this));\n    this.addEventListener('touchend', this._onTouchEnd.bind(this));\n    this.addEventListener('contextmenu', this._onContextMenu.bind(this));\n  }\n\n  _onContextMenu(e) {\n    if (this.hasAttribute('reordering')) {\n      e.preventDefault();\n    }\n  }\n\n  _onTouchStart(e) {\n    // Touch event, delay activation by 100ms\n    this._startTouchReorderTimeout = setTimeout(() => {\n      this._onTrackStart({\n        detail: {\n          x: e.touches[0].clientX,\n          y: e.touches[0].clientY\n        }\n      });\n    }, 100);\n  }\n\n  _onTouchMove(e) {\n    if (this._draggedColumn) {\n      e.preventDefault();\n    }\n\n    clearTimeout(this._startTouchReorderTimeout);\n  }\n\n  _onTouchEnd() {\n    clearTimeout(this._startTouchReorderTimeout);\n\n    this._onTrackEnd();\n  }\n\n  _onTrackEvent(e) {\n    if (e.detail.state === 'start') {\n      const path = e.composedPath();\n      const headerCell = path[path.indexOf(this.$.header) - 2];\n\n      if (!headerCell || !headerCell._content) {\n        // Not a header column\n        return;\n      }\n\n      const activeElement = this.getRootNode().activeElement;\n\n      if (headerCell._content.contains(this.getRootNode().activeElement) && (!this._ie || !this._isFocusable(activeElement))) {\n        // Something was focused inside the cell\n        return;\n      }\n\n      if (this.$.scroller.hasAttribute('column-resizing')) {\n        // Resizing is in progress\n        return;\n      }\n\n      if (!this._touchDevice) {\n        // Not a touch device\n        this._onTrackStart(e);\n      }\n    } else if (e.detail.state === 'track') {\n      this._onTrack(e);\n    } else if (e.detail.state === 'end') {\n      this._onTrackEnd(e);\n    }\n  }\n\n  _onTrackStart(e) {\n    if (!this.columnReorderingAllowed) {\n      return;\n    } // Cancel reordering if there are draggable nodes on the event path\n\n\n    const path = e.path || dom(e).path;\n\n    if (path && path.filter(node => node.hasAttribute && node.hasAttribute('draggable'))[0]) {\n      return;\n    }\n\n    const headerCell = this._cellFromPoint(e.detail.x, e.detail.y);\n\n    if (!headerCell || headerCell.getAttribute('part').indexOf('header-cell') === -1) {\n      return;\n    }\n\n    this._toggleAttribute('reordering', true, this);\n\n    this._draggedColumn = headerCell._column;\n\n    while (this._draggedColumn.parentElement.childElementCount === 1) {\n      // This is the only column in the group, drag the whole group instead\n      this._draggedColumn = this._draggedColumn.parentElement;\n    }\n\n    this._setSiblingsReorderStatus(this._draggedColumn, 'allowed');\n\n    this._draggedColumn._reorderStatus = 'dragging';\n\n    this._updateGhost(headerCell);\n\n    this._reorderGhost.style.visibility = 'visible';\n\n    this._updateGhostPosition(e.detail.x, this._touchDevice ? e.detail.y - 50 : e.detail.y);\n\n    this._autoScroller();\n  }\n\n  _onTrack(e) {\n    if (!this._draggedColumn) {\n      // Reordering didn’t start. Skip this event.\n      return;\n    }\n\n    const targetCell = this._cellFromPoint(e.detail.x, e.detail.y);\n\n    if (!targetCell) {\n      return;\n    }\n\n    const targetColumn = this._getTargetColumn(targetCell, this._draggedColumn);\n\n    if (this._isSwapAllowed(this._draggedColumn, targetColumn) && this._isSwappableByPosition(targetColumn, e.detail.x)) {\n      this._swapColumnOrders(this._draggedColumn, targetColumn);\n    }\n\n    this._updateGhostPosition(e.detail.x, this._touchDevice ? e.detail.y - 50 : e.detail.y);\n\n    this._lastDragClientX = e.detail.x;\n  }\n\n  _onTrackEnd() {\n    if (!this._draggedColumn) {\n      // Reordering didn’t start. Skip this event.\n      return;\n    }\n\n    this._toggleAttribute('reordering', false, this);\n\n    this._draggedColumn._reorderStatus = '';\n\n    this._setSiblingsReorderStatus(this._draggedColumn, '');\n\n    this._draggedColumn = null;\n    this._lastDragClientX = null;\n    this._reorderGhost.style.visibility = 'hidden';\n    this.dispatchEvent(new CustomEvent('column-reorder', {\n      detail: {\n        columns: this._getColumnsInOrder()\n      }\n    }));\n  }\n\n  _getColumnsInOrder() {\n    return this._columnTree.slice(0).pop().filter(c => !c.hidden).sort((b, a) => b._order - a._order);\n  }\n\n  _cellFromPoint(x, y) {\n    x = x || 0;\n    y = y || 0;\n\n    if (!this._draggedColumn) {\n      this._toggleAttribute('no-content-pointer-events', true, this.$.scroller);\n    }\n\n    let cell;\n\n    if (useShadow) {\n      cell = this.shadowRoot.elementFromPoint(x, y);\n    } else {\n      cell = document.elementFromPoint(x, y); // Workaround a FF58 bug\n\n      if (cell.localName === 'vaadin-grid-cell-content') {\n        cell = cell.assignedSlot.parentNode;\n      }\n    }\n\n    this._toggleAttribute('no-content-pointer-events', false, this.$.scroller); // Make sure the element is actually a cell\n\n\n    if (cell && cell._column) {\n      return cell;\n    }\n  }\n\n  _updateGhostPosition(eventClientX, eventClientY) {\n    const ghostRect = this._reorderGhost.getBoundingClientRect(); // // This is where we want to position the ghost\n\n\n    const targetLeft = eventClientX - ghostRect.width / 2;\n    const targetTop = eventClientY - ghostRect.height / 2; // Current position\n\n    const _left = parseInt(this._reorderGhost._left || 0);\n\n    const _top = parseInt(this._reorderGhost._top || 0); // Reposition the ghost\n\n\n    this._reorderGhost._left = _left - (ghostRect.left - targetLeft);\n    this._reorderGhost._top = _top - (ghostRect.top - targetTop);\n    this._reorderGhost.style.transform = `translate(${this._reorderGhost._left}px, ${this._reorderGhost._top}px)`;\n  }\n\n  _getInnerText(e) {\n    if (e.localName) {\n      // Custom implementation needed since IE11 doesn't respect the spec in case of hidden elements\n      if (getComputedStyle(e).display === 'none') {\n        return '';\n      } else {\n        return Array.from(e.childNodes).map(n => this._getInnerText(n)).join('');\n      }\n    } else {\n      return e.textContent;\n    }\n  }\n\n  _updateGhost(cell) {\n    const ghost = this._reorderGhost;\n    ghost.textContent = this._getInnerText(cell._content);\n    const style = window.getComputedStyle(cell);\n    ['boxSizing', 'display', 'width', 'height', 'background', 'alignItems', 'padding', 'border', 'flex-direction', 'overflow'].forEach(propertyName => ghost.style[propertyName] = style[propertyName]);\n    return ghost;\n  }\n\n  _updateOrders(columnTree, splices) {\n    if (columnTree === undefined || splices === undefined) {\n      return;\n    } // Set order numbers to top-level columns\n\n\n    columnTree[0].forEach((column, index) => column._order = (index + 1) * this._orderBaseScope);\n  }\n\n  _setSiblingsReorderStatus(column, status) {\n    Array.from(column.parentNode.children).filter(child => /column/.test(child.localName) && this._isSwapAllowed(child, column)).forEach(sibling => sibling._reorderStatus = status);\n  }\n\n  _autoScroller() {\n    if (this._lastDragClientX) {\n      const rightDiff = this._lastDragClientX - this.getBoundingClientRect().right + 50;\n      const leftDiff = this.getBoundingClientRect().left - this._lastDragClientX + 50;\n\n      if (rightDiff > 0) {\n        this.$.table.scrollLeft += rightDiff / 10;\n      } else if (leftDiff > 0) {\n        this.$.table.scrollLeft -= leftDiff / 10;\n      }\n\n      this._scrollHandler();\n    }\n\n    if (this._draggedColumn) {\n      this.async(this._autoScroller, 10);\n    }\n  }\n\n  _isSwapAllowed(column1, column2) {\n    if (column1 && column2) {\n      const differentColumns = column1 !== column2;\n      const sameParent = column1.parentElement === column2.parentElement;\n      const sameFrozen = column1.frozen === column2.frozen;\n      return differentColumns && sameParent && sameFrozen;\n    }\n  }\n\n  _isSwappableByPosition(targetColumn, clientX) {\n    const targetCell = Array.from(this.$.header.querySelectorAll('tr:not([hidden]) [part~=\"cell\"]')).filter(cell => targetColumn.contains(cell._column))[0];\n    const sourceCellRect = this.$.header.querySelector('tr:not([hidden]) [reorder-status=dragging]').getBoundingClientRect();\n    const targetRect = targetCell.getBoundingClientRect();\n\n    if (targetRect.left > sourceCellRect.left) {\n      return clientX > targetRect.right - sourceCellRect.width;\n    } else {\n      return clientX < targetRect.left + sourceCellRect.width;\n    }\n  }\n\n  _swapColumnOrders(column1, column2) {\n    const _order = column1._order;\n    column1._order = column2._order;\n    column2._order = _order;\n\n    this._updateLastFrozen();\n\n    this._updateFirstAndLastColumn();\n  }\n\n  _getTargetColumn(targetCell, draggedColumn) {\n    if (targetCell && draggedColumn) {\n      let candidate = targetCell._column;\n\n      while (candidate.parentElement !== draggedColumn.parentElement && candidate !== this) {\n        candidate = candidate.parentElement;\n      }\n\n      if (candidate.parentElement === draggedColumn.parentElement) {\n        return candidate;\n      } else {\n        return targetCell._column;\n      }\n    }\n  }\n  /**\n   * Fired when the columns in the grid are reordered.\n   *\n   * @event column-reorder\n   * @param {Object} detail\n   * @param {Object} detail.columns the columns in the new order\n   */\n\n\n};","/**\n@license\nCopyright (c) 2018 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\nimport { PolymerElement } from \"@polymer/polymer/polymer-element.js\";\nimport { FlattenedNodesObserver } from \"@polymer/polymer/lib/utils/flattened-nodes-observer.js\";\nimport { Templatizer } from './vaadin-grid-templatizer.js';\n/**\n * @polymerMixin\n */\n\nexport const ColumnBaseMixin = superClass => class ColumnBaseMixin extends superClass {\n  static get properties() {\n    return {\n      /**\n       * When set to true, the column is user-resizable.\n       * @default false\n       */\n      resizable: {\n        type: Boolean,\n        value: function () {\n          if (this.localName === 'vaadin-grid-column-group') {\n            return;\n          }\n\n          const parent = this.parentNode;\n\n          if (parent && parent.localName === 'vaadin-grid-column-group') {\n            return parent.resizable || false;\n          } else {\n            return false;\n          }\n        }\n      },\n      _headerTemplate: {\n        type: Object\n      },\n      _footerTemplate: {\n        type: Object\n      },\n\n      /**\n       * When true, the column is frozen. When a column inside of a column group is frozen,\n       * all of the sibling columns inside the group will get frozen also.\n       */\n      frozen: {\n        type: Boolean,\n        value: false\n      },\n\n      /**\n       * When set to true, the cells for this column are hidden.\n       */\n      hidden: {\n        type: Boolean\n      },\n\n      /**\n       * Text content to display in the header cell of the column.\n       */\n      header: {\n        type: String\n      },\n\n      /**\n       * Aligns the columns cell content horizontally.\n       * Supported values: \"start\", \"center\" and \"end\".\n       */\n      textAlign: {\n        type: String\n      },\n      _lastFrozen: {\n        type: Boolean,\n        value: false\n      },\n      _order: Number,\n      _reorderStatus: Boolean,\n      _emptyCells: Array,\n      _headerCell: Object,\n      _footerCell: Object,\n      _grid: Object,\n\n      /**\n       * Custom function for rendering the header content.\n       * Receives two arguments:\n       *\n       * - `root` The header cell content DOM element. Append your content to it.\n       * - `column` The `<vaadin-grid-column>` element.\n       */\n      headerRenderer: Function,\n\n      /**\n       * Custom function for rendering the footer content.\n       * Receives two arguments:\n       *\n       * - `root` The footer cell content DOM element. Append your content to it.\n       * - `column` The `<vaadin-grid-column>` element.\n       */\n      footerRenderer: Function\n    };\n  }\n\n  static get observers() {\n    return ['_widthChanged(width, _headerCell, _footerCell, _cells.*)', '_frozenChanged(frozen, _headerCell, _footerCell, _cells.*)', '_flexGrowChanged(flexGrow, _headerCell, _footerCell, _cells.*)', '_pathOrHeaderChanged(path, header, _headerCell, _footerCell, _cells.*, renderer, headerRenderer, _bodyTemplate, _headerTemplate)', '_textAlignChanged(textAlign, _cells.*, _headerCell, _footerCell)', '_orderChanged(_order, _headerCell, _footerCell, _cells.*)', '_lastFrozenChanged(_lastFrozen)', '_setBodyTemplateOrRenderer(_bodyTemplate, renderer, _cells, _cells.*)', '_setHeaderTemplateOrRenderer(_headerTemplate, headerRenderer, _headerCell)', '_setFooterTemplateOrRenderer(_footerTemplate, footerRenderer, _footerCell)', '_resizableChanged(resizable, _headerCell)', '_reorderStatusChanged(_reorderStatus, _headerCell, _footerCell, _cells.*)', '_hiddenChanged(hidden, _headerCell, _footerCell, _cells.*)'];\n  }\n  /** @protected */\n\n\n  connectedCallback() {\n    super.connectedCallback();\n    this._bodyTemplate && (this._bodyTemplate.templatizer._grid = this._grid);\n    this._headerTemplate && (this._headerTemplate.templatizer._grid = this._grid);\n    this._footerTemplate && (this._footerTemplate.templatizer._grid = this._grid);\n\n    this._templateObserver.flush();\n\n    if (!this._bodyTemplate) {\n      // The observer might not have triggered if the tag is empty. Run manually.\n      this._templateObserver.callback();\n    }\n\n    requestAnimationFrame(() => {\n      this._allCells.forEach(cell => {\n        if (!cell._content.parentNode) {\n          this._grid && this._grid.appendChild(cell._content);\n        }\n      });\n    });\n  }\n  /** @protected */\n\n\n  disconnectedCallback() {\n    super.disconnectedCallback();\n    requestAnimationFrame(() => {\n      if (!this._findHostGrid()) {\n        this._allCells.forEach(cell => {\n          if (cell._content.parentNode) {\n            cell._content.parentNode.removeChild(cell._content);\n          }\n        });\n      }\n    });\n    this._gridValue = undefined;\n  }\n\n  _findHostGrid() {\n    let el = this; // Custom elements extending grid must have a specific localName\n\n    while (el && !/^vaadin.*grid(-pro)?$/.test(el.localName)) {\n      el = el.assignedSlot ? el.assignedSlot.parentNode : el.parentNode;\n    }\n\n    return el || undefined;\n  }\n\n  get _grid() {\n    if (!this._gridValue) {\n      this._gridValue = this._findHostGrid();\n    }\n\n    return this._gridValue;\n  }\n\n  get _allCells() {\n    return [].concat(this._cells || []).concat(this._emptyCells || []).concat(this._headerCell).concat(this._footerCell).filter(cell => cell);\n  }\n\n  constructor() {\n    super();\n    this._templateObserver = new FlattenedNodesObserver(this, info => {\n      this._headerTemplate = this._prepareHeaderTemplate();\n      this._footerTemplate = this._prepareFooterTemplate();\n      this._bodyTemplate = this._prepareBodyTemplate();\n    });\n  }\n\n  _prepareHeaderTemplate() {\n    return this._prepareTemplatizer(this._findTemplate(true) || null, {});\n  }\n\n  _prepareFooterTemplate() {\n    return this._prepareTemplatizer(this._findTemplate(false, true) || null, {});\n  }\n\n  _prepareBodyTemplate() {\n    return this._prepareTemplatizer(this._findTemplate() || null);\n  }\n\n  _prepareTemplatizer(template, instanceProps) {\n    if (template && !template.templatizer) {\n      const templatizer = new Templatizer();\n      templatizer._grid = this._grid;\n      templatizer.dataHost = this.dataHost;\n      templatizer._instanceProps = instanceProps || templatizer._instanceProps;\n      templatizer.template = template;\n      template.templatizer = templatizer;\n    }\n\n    return template;\n  }\n\n  _renderHeaderAndFooter() {\n    if (this.headerRenderer) {\n      this.__runRenderer(this.headerRenderer, this._headerCell);\n    }\n\n    if (this.footerRenderer) {\n      this.__runRenderer(this.footerRenderer, this._footerCell);\n    }\n  }\n\n  __runRenderer(renderer, cell, rowData) {\n    const args = [cell._content, this];\n\n    if (rowData && rowData.item) {\n      args.push(rowData);\n    }\n\n    renderer.apply(this, args);\n  }\n\n  __setColumnTemplateOrRenderer(template, renderer, cells) {\n    if (template && renderer) {\n      throw new Error('You should only use either a renderer or a template');\n    }\n\n    cells.forEach(cell => {\n      const model = this._grid.__getRowModel(cell.parentElement);\n\n      if (renderer) {\n        cell._renderer = renderer;\n\n        if (model.item || renderer === this.headerRenderer || renderer === this.footerRenderer) {\n          this.__runRenderer(renderer, cell, model);\n        }\n      } else if (cell._template !== template) {\n        cell._template = template;\n        cell._content.innerHTML = '';\n        template.templatizer._grid = template.templatizer._grid || this._grid;\n        const inst = template.templatizer.createInstance();\n\n        cell._content.appendChild(inst.root);\n\n        cell._instance = inst;\n\n        if (model.item) {\n          cell._instance.setProperties(model);\n        }\n      }\n    });\n  }\n\n  _setBodyTemplateOrRenderer(template, renderer, cells, splices) {\n    if ((template || renderer) && cells) {\n      this.__setColumnTemplateOrRenderer(template, renderer, cells);\n    }\n  }\n\n  _setHeaderTemplateOrRenderer(headerTemplate, headerRenderer, headerCell) {\n    if ((headerTemplate || headerRenderer) && headerCell) {\n      this.__setColumnTemplateOrRenderer(headerTemplate, headerRenderer, [headerCell]);\n    }\n  }\n\n  _setFooterTemplateOrRenderer(footerTemplate, footerRenderer, footerCell) {\n    if ((footerTemplate || footerRenderer) && footerCell) {\n      this.__setColumnTemplateOrRenderer(footerTemplate, footerRenderer, [footerCell]);\n\n      this._grid.__updateHeaderFooterRowVisibility(footerCell.parentElement);\n    }\n  }\n\n  _selectFirstTemplate(header = false, footer = false) {\n    return FlattenedNodesObserver.getFlattenedNodes(this).filter(node => node.localName === 'template' && node.classList.contains('header') === header && node.classList.contains('footer') === footer)[0];\n  }\n\n  _findTemplate(header, footer) {\n    const template = this._selectFirstTemplate(header, footer);\n\n    if (template) {\n      if (this.dataHost) {\n        // set dataHost to the context where template has been defined\n        template._rootDataHost = this.dataHost._rootDataHost || this.dataHost;\n      }\n    }\n\n    return template;\n  }\n\n  _flexGrowChanged(flexGrow, headerCell, footerCell, cells) {\n    if (this.parentElement && this.parentElement._columnPropChanged) {\n      this.parentElement._columnPropChanged('flexGrow');\n    }\n\n    this._allCells.forEach(cell => cell.style.flexGrow = flexGrow);\n  }\n\n  _orderChanged(order, headerCell, footerCell, cells) {\n    this._allCells.forEach(cell => cell.style.order = order);\n  }\n\n  _widthChanged(width, headerCell, footerCell, cells) {\n    if (this.parentElement && this.parentElement._columnPropChanged) {\n      this.parentElement._columnPropChanged('width');\n    }\n\n    this._allCells.forEach(cell => cell.style.width = width); // Force a reflow to workaround browser issues causing double scrollbars to grid\n    // https://github.com/vaadin/vaadin-grid/issues/1586\n\n\n    if (this._grid && this._grid.__forceReflow) {\n      this._grid.__forceReflow();\n    }\n  }\n\n  _frozenChanged(frozen, headerCell, footerCell, cells) {\n    if (this.parentElement && this.parentElement._columnPropChanged) {\n      this.parentElement._columnPropChanged('frozen', frozen);\n    }\n\n    this._allCells.forEach(cell => this._toggleAttribute('frozen', frozen, cell));\n\n    this._grid && this._grid._frozenCellsChanged && this._grid._frozenCellsChanged();\n  }\n\n  _lastFrozenChanged(lastFrozen) {\n    this._allCells.forEach(cell => this._toggleAttribute('last-frozen', lastFrozen, cell));\n\n    if (this.parentElement && this.parentElement._columnPropChanged) {\n      this.parentElement._lastFrozen = lastFrozen;\n    }\n  }\n\n  _pathOrHeaderChanged(path, header, headerCell, footerCell, cells, renderer, headerRenderer, bodyTemplate, headerTemplate) {\n    const hasHeaderText = header !== undefined;\n\n    if (!headerRenderer && !headerTemplate && hasHeaderText && headerCell) {\n      this.__setTextContent(headerCell._content, header);\n    }\n\n    if (path && cells.value) {\n      if (!renderer && !bodyTemplate) {\n        const pathRenderer = (root, owner, {\n          item\n        }) => this.__setTextContent(root, this.get(path, item));\n\n        this.__setColumnTemplateOrRenderer(undefined, pathRenderer, cells.value);\n      }\n\n      if (!headerRenderer && !headerTemplate && !hasHeaderText && headerCell && header !== null) {\n        this.__setTextContent(headerCell._content, this._generateHeader(path));\n      }\n    }\n\n    if (headerCell) {\n      this._grid.__updateHeaderFooterRowVisibility(headerCell.parentElement);\n    }\n  }\n\n  __setTextContent(node, textContent) {\n    node.textContent !== textContent && (node.textContent = textContent);\n  }\n\n  _generateHeader(path) {\n    return path.substr(path.lastIndexOf('.') + 1).replace(/([A-Z])/g, '-$1').toLowerCase().replace(/-/g, ' ').replace(/^./, match => match.toUpperCase());\n  }\n\n  _toggleAttribute(name, bool, node) {\n    if (node.hasAttribute(name) === !bool) {\n      if (bool) {\n        node.setAttribute(name, '');\n      } else {\n        node.removeAttribute(name);\n      }\n    }\n  }\n\n  _reorderStatusChanged(reorderStatus, headerCell, footerCell, cells) {\n    this._allCells.forEach(cell => cell.setAttribute('reorder-status', reorderStatus));\n  }\n\n  _resizableChanged(resizable, headerCell) {\n    if (resizable === undefined || headerCell === undefined) {\n      return;\n    }\n\n    if (headerCell) {\n      [headerCell].concat(this._emptyCells).forEach(cell => {\n        if (cell) {\n          const existingHandle = cell.querySelector('[part~=\"resize-handle\"]');\n\n          if (existingHandle) {\n            cell.removeChild(existingHandle);\n          }\n\n          if (resizable) {\n            const handle = document.createElement('div');\n            handle.setAttribute('part', 'resize-handle');\n            cell.appendChild(handle);\n          }\n        }\n      });\n    }\n  }\n\n  _textAlignChanged(textAlign, _cells, _headerCell, _footerCell) {\n    if (textAlign === undefined) {\n      return;\n    }\n\n    if (['start', 'end', 'center'].indexOf(textAlign) === -1) {\n      console.warn('textAlign can only be set as \"start\", \"end\" or \"center\"');\n      return;\n    }\n\n    let textAlignFallback;\n\n    if (getComputedStyle(this._grid).direction === 'ltr') {\n      if (textAlign === 'start') {\n        textAlignFallback = 'left';\n      } else if (textAlign === 'end') {\n        textAlignFallback = 'right';\n      }\n    } else {\n      if (textAlign === 'start') {\n        textAlignFallback = 'right';\n      } else if (textAlign === 'end') {\n        textAlignFallback = 'left';\n      }\n    }\n\n    this._allCells.forEach(cell => {\n      cell._content.style.textAlign = textAlign;\n\n      if (getComputedStyle(cell._content).textAlign !== textAlign) {\n        cell._content.style.textAlign = textAlignFallback;\n      }\n    });\n  }\n\n  _hiddenChanged(hidden, headerCell, footerCell, cells) {\n    if (this.parentElement && this.parentElement._columnPropChanged) {\n      this.parentElement._columnPropChanged('hidden', hidden);\n    }\n\n    this._allCells.forEach(cell => this._toggleAttribute('hidden', hidden, cell));\n\n    if (!!hidden !== !!this._previousHidden && this._grid) {\n      this._grid._updateLastFrozen && this._grid._updateLastFrozen();\n      this._grid.notifyResize && this._grid.notifyResize();\n      this._grid._resetKeyboardNavigation && this._grid._resetKeyboardNavigation();\n    }\n\n    this._previousHidden = hidden;\n  }\n\n};\n/**\n * A `<vaadin-grid-column>` is used to configure how a column in `<vaadin-grid>`\n * should look like.\n *\n * See `<vaadin-grid>` documentation and demos for instructions and examples on how\n * to configure the `<vaadin-grid-column>`.\n * ```\n *\n * @memberof Vaadin\n * @mixes Vaadin.Grid.ColumnBaseMixin\n */\n\nclass GridColumnElement extends ColumnBaseMixin(PolymerElement) {\n  static get is() {\n    return 'vaadin-grid-column';\n  }\n\n  static get properties() {\n    return {\n      /**\n       * Width of the cells for this column.\n       */\n      width: {\n        type: String,\n        value: '100px'\n      },\n\n      /**\n       * Flex grow ratio for the cell widths. When set to 0, cell width is fixed.\n       */\n      flexGrow: {\n        type: Number,\n        value: 1\n      },\n\n      /**\n       * Custom function for rendering the cell content.\n       * Receives three arguments:\n       *\n       * - `root` The cell content DOM element. Append your content to it.\n       * - `column` The `<vaadin-grid-column>` element.\n       * - `rowData` The object with the properties related with\n       *   the rendered item, contains:\n       *   - `rowData.index` The index of the item.\n       *   - `rowData.item` The item.\n       *   - `rowData.expanded` Sublevel toggle state.\n       *   - `rowData.level` Level of the tree represented with a horizontal offset of the toggle button.\n       *   - `rowData.selected` Selected state.\n       */\n      renderer: Function,\n\n      /**\n       * Path to an item sub-property whose value gets displayed in the column body cells.\n       * The property name is also shown in the column header if an explicit header or renderer isn't defined.\n       */\n      path: {\n        type: String\n      },\n\n      /**\n       * Automatically sets the width of the column based on the column contents when this is set to `true`.\n       *\n       * For performance reasons the column width is calculated automatically only once when the grid items\n       * are rendered for the first time and the calculation only considers the rows which are currently\n       * rendered in DOM (a bit more than what is currently visible). If the grid is scrolled, or the cell\n       * content changes, the column width might not match the contents anymore.\n       *\n       * Hidden columns are ignored in the calculation and their widths are not automatically updated when\n       * you show a column that was initially hidden.\n       *\n       * You can manually trigger the auto sizing behavior again by calling `grid.recalculateColumnWidths()`.\n       *\n       * The column width may still grow larger when `flexGrow` is not 0.\n       */\n      autoWidth: {\n        type: Boolean,\n        value: false\n      },\n      _bodyTemplate: {\n        type: Object\n      },\n      _cells: Array\n    };\n  }\n\n}\n\ncustomElements.define(GridColumnElement.is, GridColumnElement);\nexport { GridColumnElement };","/**\n@license\nCopyright (c) 2017 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\nimport { PolymerElement } from \"@polymer/polymer/polymer-element.js\";\nimport { html } from \"@polymer/polymer/lib/utils/html-tag.js\";\n/**\n * This Element is used internally by vaadin-grid.\n *\n * @private\n */\n\nclass GridOuterScrollerElement extends class extends PolymerElement {} {\n  static get template() {\n    return html`\n    <style>\n      :host {\n        display: block;\n        height: 100%;\n        width: 100%;\n        position: absolute;\n        top: 0;\n        box-sizing: border-box;\n        overflow: auto;\n      }\n\n      :host([passthrough]) {\n        pointer-events: none;\n      }\n    </style>\n\n    <slot></slot>\n`;\n  }\n\n  static get is() {\n    return 'vaadin-grid-outer-scroller';\n  }\n\n  static get properties() {\n    return {\n      scrollTarget: {\n        type: Object\n      },\n      scrollHandler: {\n        type: Object\n      },\n      passthrough: {\n        type: Boolean,\n        reflectToAttribute: true,\n        value: true\n      },\n      outerScrolling: Boolean,\n      noScrollbars: Boolean,\n      _touchDevice: Boolean\n    };\n  }\n\n  ready() {\n    super.ready();\n    this.addEventListener('scroll', () => this._syncScrollTarget());\n    this.parentElement.addEventListener('mousemove', this._onMouseMove.bind(this)); // for some reason scroll bars are hidden in iOS if this style is\n    // added in stylesheets or before attaching.\n\n    this.style.webkitOverflowScrolling = 'touch';\n    this.addEventListener('mousedown', _ => this.outerScrolling = true);\n    this.addEventListener('mouseup', _ => {\n      this.outerScrolling = false;\n\n      this.scrollHandler._scrollHandler();\n    });\n  }\n\n  _onMouseMove(e) {\n    // Ignore mousemove events on touch devices\n    if (!this._touchDevice) {\n      if (this.noScrollbars && this.parentElement.hasAttribute('scroll-period')) {\n        this.passthrough = e.offsetY <= this.clientHeight - 20 && e.offsetX <= this.clientWidth - 20;\n      } else {\n        this.passthrough = e.offsetY <= this.clientHeight && e.offsetX <= this.clientWidth;\n      }\n    }\n  }\n\n  syncOuterScroller() {\n    this.scrollTop = this.scrollTarget.scrollTop;\n    this.scrollLeft = this.scrollTarget.scrollLeft;\n  }\n\n  _syncScrollTarget() {\n    requestAnimationFrame(() => {\n      this.scrollTarget.scrollTop = this.scrollTop;\n      this.scrollTarget.scrollLeft = this.scrollLeft;\n\n      this.scrollHandler._scrollHandler();\n    });\n  }\n\n}\n\ncustomElements.define(GridOuterScrollerElement.is, GridOuterScrollerElement);","/**\n@license\nCopyright (c) 2017 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\nimport \"@polymer/polymer/lib/elements/dom-module.js\";\nimport { html } from \"@polymer/polymer/lib/utils/html-tag.js\";\nconst VaadinGridStyles = document.createElement('dom-module'); // NOTE(web-padawan): https://github.com/vaadin/vaadin-grid/issues/1514\n\nVaadinGridStyles.appendChild(html`\n  <style>\n    @keyframes vaadin-grid-appear {\n      to {\n        opacity: 1;\n      }\n    }\n\n    :host {\n      display: block;\n      animation: 1ms vaadin-grid-appear;\n      height: 400px;\n      flex: 1 1 auto;\n      align-self: stretch;\n      position: relative;\n    }\n\n    :host([hidden]) {\n      display: none !important;\n    }\n\n    #scroller {\n      display: block;\n      transform: translateY(0);\n      width: auto;\n      height: auto;\n      position: absolute;\n      top: 0;\n      right: 0;\n      bottom: 0;\n      left: 0;\n    }\n\n    :host([height-by-rows]) {\n      height: auto;\n      align-self: flex-start;\n      flex-grow: 0;\n      width: 100%;\n    }\n\n    :host([height-by-rows]) #scroller {\n      width: 100%;\n      height: 100%;\n      position: relative;\n    }\n\n    #table {\n      display: block;\n      width: 100%;\n      height: 100%;\n      overflow: auto;\n      z-index: -2;\n      position: relative;\n      outline: none;\n    }\n\n    #header {\n      display: block;\n      position: absolute;\n      top: 0;\n      width: 100%;\n    }\n\n    th {\n      text-align: inherit;\n    }\n\n    /* Safari doesn't work with \"inherit\" */\n    [safari] th {\n      text-align: initial;\n    }\n\n    #footer {\n      display: block;\n      position: absolute;\n      bottom: 0;\n      width: 100%;\n    }\n\n    #items {\n      display: block;\n      width: 100%;\n      position: relative;\n      z-index: -1;\n    }\n\n    #items,\n    #outersizer,\n    #fixedsizer {\n      border-top: 0 solid transparent;\n      border-bottom: 0 solid transparent;\n    }\n\n    [part~=\"row\"] {\n      display: flex;\n      width: 100%;\n      box-sizing: border-box;\n      margin: 0;\n    }\n\n    [part~=\"row\"][loading] [part~=\"body-cell\"] ::slotted(vaadin-grid-cell-content) {\n      opacity: 0;\n    }\n\n    #items [part~=\"row\"] {\n      position: absolute;\n    }\n\n    #items [part~=\"row\"]:empty {\n      height: 1em;\n    }\n\n    [part~=\"cell\"]:not([part~=\"details-cell\"]) {\n      flex-shrink: 0;\n      flex-grow: 1;\n      box-sizing: border-box;\n      display: flex;\n      width: 100%;\n      position: relative;\n      align-items: center;\n      padding: 0;\n      white-space: nowrap;\n    }\n\n    [part~=\"details-cell\"] {\n      position: absolute;\n      bottom: 0;\n      width: 100%;\n      box-sizing: border-box;\n      padding: 0;\n    }\n\n    [part~=\"cell\"] ::slotted(vaadin-grid-cell-content) {\n      display: block;\n      width: 100%;\n      box-sizing: border-box;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n\n    [hidden] {\n      display: none !important;\n    }\n\n    [frozen] {\n      z-index: 2;\n      will-change: transform;\n    }\n\n    #outerscroller {\n      /* Needed (at least) for Android Chrome */\n      z-index: 0;\n    }\n\n    #scroller:not([safari]) #outerscroller {\n      /* Needed for Android Chrome (#1020). Can't be applied to Safari\n      since it would re-introduce the sub-pixel overflow bug (#853) */\n      will-change: transform;\n    }\n\n    [no-scrollbars]:not([safari]):not([firefox]) #outerscroller,\n    [no-scrollbars][safari] #table,\n    [no-scrollbars][firefox] #table {\n      overflow: hidden;\n    }\n\n    [no-scrollbars]:not([safari]):not([firefox]) #outerscroller {\n      pointer-events: none;\n    }\n\n    /* Reordering styles */\n    :host([reordering]) [part~=\"cell\"] ::slotted(vaadin-grid-cell-content),\n    :host([reordering]) [part~=\"resize-handle\"],\n    #scroller[no-content-pointer-events] [part~=\"cell\"] ::slotted(vaadin-grid-cell-content) {\n      pointer-events: none;\n    }\n\n    [part~=\"reorder-ghost\"] {\n      visibility: hidden;\n      position: fixed;\n      pointer-events: none;\n      opacity: 0.5;\n\n      /* Prevent overflowing the grid in Firefox */\n      top: 0;\n      left: 0;\n    }\n\n    :host([reordering]) {\n      -moz-user-select: none;\n      -webkit-user-select: none;\n      user-select: none;\n    }\n\n    #scroller[ie][column-reordering-allowed] [part~=\"header-cell\"] {\n      -ms-user-select: none;\n    }\n\n    :host([reordering]) #outerscroller {\n      -webkit-overflow-scrolling: auto !important;\n    }\n\n    /* Resizing styles */\n    [part~=\"resize-handle\"] {\n      position: absolute;\n      top: 0;\n      right: 0;\n      height: 100%;\n      cursor: col-resize;\n      z-index: 1;\n    }\n\n    [part~=\"resize-handle\"]::before {\n      position: absolute;\n      content: \"\";\n      height: 100%;\n      width: 35px;\n      transform: translateX(-50%);\n    }\n\n    [last-column] [part~=\"resize-handle\"]::before,\n    [last-frozen] [part~=\"resize-handle\"]::before {\n      width: 18px;\n      transform: none;\n      right: 0;\n    }\n\n    #scroller[column-resizing] {\n      -ms-user-select: none;\n      -moz-user-select: none;\n      -webkit-user-select: none;\n      user-select: none;\n    }\n\n    /* Sizer styles */\n    .sizer {\n      display: flex;\n      position: relative;\n      width: 100%;\n      visibility: hidden;\n    }\n\n    .sizer [part~=\"details-cell\"] {\n      display: none !important;\n    }\n\n    .sizer [part~=\"cell\"][hidden] {\n      display: none !important;\n    }\n\n    .sizer [part~=\"cell\"] {\n      display: block;\n      flex-shrink: 0;\n      line-height: 0;\n      margin-top: -1em;\n      height: 0 !important;\n      min-height: 0 !important;\n      max-height: 0 !important;\n      padding: 0 !important;\n    }\n\n    .sizer [part~=\"cell\"]::before {\n      content: \"-\";\n    }\n\n    .sizer [part~=\"cell\"] ::slotted(vaadin-grid-cell-content) {\n      display: none !important;\n    }\n\n    /* Fixed mode (Tablet Edge) */\n    #fixedsizer {\n      position: absolute;\n    }\n\n    :not([edge][no-scrollbars]) #fixedsizer {\n      display: none;\n    }\n\n    [edge][no-scrollbars] {\n      /* Any value other than ‘none’ for the transform results in the creation of both a stacking context and\n      a containing block. The object acts as a containing block for fixed positioned descendants. */\n      transform: translateZ(0);\n      overflow: hidden;\n    }\n\n    [edge][no-scrollbars] #header,\n    [edge][no-scrollbars] #footer {\n      position: fixed;\n    }\n\n    [edge][no-scrollbars] #items {\n      position: fixed;\n      width: 100%;\n      will-change: transform;\n    }\n  </style>\n`);\nconst safari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\nconst firefox = navigator.userAgent.toLowerCase().indexOf('firefox') > -1;\n\nif (safari || firefox) {\n  const scrollingStyles = document.createElement('style');\n  scrollingStyles.textContent = `\n    [scrolling][safari] #outerscroller,\n    [scrolling][firefox] #outerscroller {\n      pointer-events: auto;\n    }\n\n    [ios] #outerscroller {\n      pointer-events: auto;\n      z-index: -3;\n    }\n\n    [ios][scrolling] #outerscroller {\n      z-index: 0;\n    }\n\n    [ios] [frozen] {\n      will-change: auto;\n    }\n  `;\n  VaadinGridStyles.querySelector('template').content.appendChild(scrollingStyles);\n}\n\nVaadinGridStyles.register('vaadin-grid-styles');","/**\n@license\nCopyright (c) 2017 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\nimport \"@polymer/polymer/polymer-legacy.js\";\nimport { ThemableMixin } from \"../../vaadin-themable-mixin/vaadin-themable-mixin.js\";\nimport { ScrollerElement } from './vaadin-grid-scroller.js';\nimport { A11yMixin } from './vaadin-grid-a11y-mixin.js';\nimport { ActiveItemMixin } from './vaadin-grid-active-item-mixin.js';\nimport { ArrayDataProviderMixin } from './vaadin-grid-array-data-provider-mixin.js';\nimport { ColumnResizingMixin } from './vaadin-grid-column-resizing-mixin.js';\nimport { DataProviderMixin } from './vaadin-grid-data-provider-mixin.js';\nimport { DynamicColumnsMixin } from './vaadin-grid-dynamic-columns-mixin.js';\nimport { EventContextMixin } from './vaadin-grid-event-context-mixin.js';\nimport { FilterMixin } from './vaadin-grid-filter-mixin.js';\nimport { RowDetailsMixin } from './vaadin-grid-row-details-mixin.js';\nimport { ScrollMixin } from './vaadin-grid-scroll-mixin.js';\nimport { SelectionMixin } from './vaadin-grid-selection-mixin.js';\nimport { SortMixin } from './vaadin-grid-sort-mixin.js';\nimport { StylingMixin } from './vaadin-grid-styling-mixin.js';\nimport { DragAndDropMixin } from './vaadin-grid-drag-and-drop-mixin.js';\nimport { KeyboardNavigationMixin } from './vaadin-grid-keyboard-navigation-mixin.js';\nimport { ColumnReorderingMixin } from './vaadin-grid-column-reordering-mixin.js';\nimport './vaadin-grid-column.js';\nimport './vaadin-grid-outer-scroller.js';\nimport './vaadin-grid-styles.js';\nimport { ElementMixin } from \"../../vaadin-element-mixin/vaadin-element-mixin.js\";\nimport { html } from \"@polymer/polymer/lib/utils/html-tag.js\";\nimport { beforeNextRender, afterNextRender } from \"@polymer/polymer/lib/utils/render-status.js\";\nimport { Debouncer } from \"@polymer/polymer/lib/utils/debounce.js\";\nimport { timeOut, animationFrame } from \"@polymer/polymer/lib/utils/async.js\";\n\nconst TOUCH_DEVICE = (() => {\n  try {\n    document.createEvent('TouchEvent');\n    return true;\n  } catch (e) {\n    return false;\n  }\n})();\n/**\n *\n * `<vaadin-grid>` is a free, high quality data grid / data table Web Component. The content of the\n * the grid can be populated in two ways: imperatively by using renderer callback function and\n * declaratively by using Polymer's Templates.\n *\n * ### Quick Start\n *\n * Start with an assigning an array to the [`items`](#/elements/vaadin-grid#property-items) property to visualize your data.\n *\n * Use the [`<vaadin-grid-column>`](#/elements/vaadin-grid-column) element to configure the grid columns. Set `path` and `header`\n * shorthand properties for the columns to define what gets rendered in the cells of the column.\n *\n * #### Example:\n * ```html\n * <vaadin-grid>\n *   <vaadin-grid-column path=\"name.first\" header=\"First name\"></vaadin-grid-column>\n *   <vaadin-grid-column path=\"name.last\" header=\"Last name\"></vaadin-grid-column>\n *   <vaadin-grid-column path=\"email\"></vaadin-grid-column>\n * </vaadin-grid>\n * ```\n *\n * For custom content `vaadin-grid-column` element provides you with three types of `renderer` callback functions: `headerRenderer`,\n * `renderer` and `footerRenderer`.\n *\n * Each of those renderer functions provides `root`, `column`, `rowData` arguments when applicable.\n * Generate DOM content, append it to the `root` element and control the state\n * of the host element by accessing `column`. Before generating new content,\n * users are able to check if there is already content in `root` for reusing it.\n *\n * Renderers are called on initialization of new column cells and each time the\n * related row data is updated. DOM generated during the renderer call can be reused\n * in the next renderer call and will be provided with the `root` argument.\n * On first call it will be empty.\n *\n * #### Example:\n * ```html\n * <vaadin-grid>\n *   <vaadin-grid-column></vaadin-grid-column>\n *   <vaadin-grid-column></vaadin-grid-column>\n *   <vaadin-grid-column></vaadin-grid-column>\n * </vaadin-grid>\n * ```\n * ```js\n * const grid = document.querySelector('vaadin-grid');\n * grid.items = [{'name': 'John', 'surname': 'Lennon', 'role': 'singer'},\n *               {'name': 'Ringo', 'surname': 'Starr', 'role': 'drums'}];\n *\n * const columns = grid.querySelectorAll('vaadin-grid-column');\n *\n * columns[0].headerRenderer = function(root) {\n *   root.textContent = 'Name';\n * };\n * columns[0].renderer = function(root, column, rowData) {\n *   root.textContent = rowData.item.name;\n * };\n *\n * columns[1].headerRenderer = function(root) {\n *   root.textContent = 'Surname';\n * };\n * columns[1].renderer = function(root, column, rowData) {\n *   root.textContent = rowData.item.surname;\n * };\n *\n * columns[2].headerRenderer = function(root) {\n *   root.textContent = 'Role';\n * };\n * columns[2].renderer = function(root, column, rowData) {\n *   root.textContent = rowData.item.role;\n * };\n * ```\n *\n * Alternatively, the content can be provided with Polymer's Templates:\n *\n * #### Example:\n * ```html\n * <vaadin-grid items='[{\"name\": \"John\", \"surname\": \"Lennon\", \"role\": \"singer\"},\n * {\"name\": \"Ringo\", \"surname\": \"Starr\", \"role\": \"drums\"}]'>\n *   <vaadin-grid-column>\n *     <template class=\"header\">Name</template>\n *     <template>[[item.name]]</template>\n *   </vaadin-grid-column>\n *   <vaadin-grid-column>\n *     <template class=\"header\">Surname</template>\n *     <template>[[item.surname]]</template>\n *   </vaadin-grid-column>\n *   <vaadin-grid-column>\n *     <template class=\"header\">Role</template>\n *     <template>[[item.role]]</template>\n *   </vaadin-grid-column>\n * </vaadin-grid>\n * ```\n *\n * The following helper elements can be used for further customization:\n * - [`<vaadin-grid-column-group>`](#/elements/vaadin-grid-column-group)\n * - [`<vaadin-grid-filter>`](#/elements/vaadin-grid-filter)\n * - [`<vaadin-grid-sorter>`](#/elements/vaadin-grid-sorter)\n * - [`<vaadin-grid-selection-column>`](#/elements/vaadin-grid-selection-column)\n * - [`<vaadin-grid-tree-toggle>`](#/elements/vaadin-grid-tree-toggle)\n *\n * __Note that the helper elements must be explicitly imported.__\n * If you want to import everything at once you can use the `all-imports.html` bundle.\n *\n * A column template can be decorated with one the following class names to specify its purpose\n * - `header`: Marks a header template\n * - `footer`: Marks a footer template\n * - `row-details`: Marks a row details template\n *\n * The following built-in template variables can be bound to inside the column templates:\n * - `[[index]]`: Number representing the row index\n * - `[[item]]` and it's sub-properties: Data object (provided by a data provider / items array)\n * - `{{selected}}`: True if the item is selected (can be two-way bound)\n * - `{{detailsOpened}}`: True if the item has row details opened (can be two-way bound)\n * - `{{expanded}}`: True if the item has tree sublevel expanded (can be two-way bound)\n * - `[[level]]`: Number of the tree sublevel of the item, first level-items have 0\n *\n * ### Lazy Loading with Function Data Provider\n *\n * In addition to assigning an array to the items property, you can alternatively\n * provide the `<vaadin-grid>` data through the\n * [`dataProvider`](#/elements/vaadin-grid#property-dataProvider) function property.\n * The `<vaadin-grid>` calls this function lazily, only when it needs more data\n * to be displayed.\n *\n * See the [`dataProvider`](#/elements/vaadin-grid#property-dataProvider) in\n * the API reference below for the detailed data provider arguments description,\n * and the “Assigning Data” page in the demos.\n *\n * __Note that expanding the tree grid's item will trigger a call to the `dataProvider`.__\n *\n * __Also, note that when using function data providers, the total number of items\n * needs to be set manually. The total number of items can be returned\n * in the second argument of the data provider callback:__\n *\n * ```javascript\n * grid.dataProvider = function(params, callback) {\n *   var url = 'https://api.example/data' +\n *       '?page=' + params.page +        // the requested page index\n *       '&per_page=' + params.pageSize; // number of items on the page\n *   var xhr = new XMLHttpRequest();\n *   xhr.onload = function() {\n *     var response = JSON.parse(xhr.responseText);\n *     callback(\n *       response.employees, // requested page of items\n *       response.totalSize  // total number of items\n *     );\n *   };\n *   xhr.open('GET', url, true);\n *   xhr.send();\n * };\n * ```\n *\n * __Alternatively, you can use the `size` property to set the total number of items:__\n *\n * ```javascript\n * grid.size = 200; // The total number of items\n * grid.dataProvider = function(params, callback) {\n *   var url = 'https://api.example/data' +\n *       '?page=' + params.page +        // the requested page index\n *       '&per_page=' + params.pageSize; // number of items on the page\n *   var xhr = new XMLHttpRequest();\n *   xhr.onload = function() {\n *     var response = JSON.parse(xhr.responseText);\n *     callback(response.employees);\n *   };\n *   xhr.open('GET', url, true);\n *   xhr.send();\n * };\n * ```\n *\n * ### Styling\n *\n * The following shadow DOM parts are available for styling:\n *\n * Part name | Description\n * ----------------|----------------\n * `row` | Row in the internal table\n * `cell` | Cell in the internal table\n * `header-cell` | Header cell in the internal table\n * `body-cell` | Body cell in the internal table\n * `footer-cell` | Footer cell in the internal table\n * `details-cell` | Row details cell in the internal table\n * `resize-handle` | Handle for resizing the columns\n * `reorder-ghost` | Ghost element of the header cell being dragged\n *\n * The following state attributes are available for styling:\n *\n * Attribute    | Description | Part name\n * -------------|-------------|------------\n * `loading` | Set when the grid is loading data from data provider | :host\n * `interacting` | Keyboard navigation in interaction mode | :host\n * `navigating` | Keyboard navigation in navigation mode | :host\n * `overflow` | Set when rows are overflowing the grid viewport. Possible values: `top`, `bottom`, `left`, `right` | :host\n * `reordering` | Set when the grid's columns are being reordered | :host\n * `dragover` | Set when the grid (not a specific row) is dragged over | :host\n * `dragging-rows` : Set when grid rows are dragged  | :host\n * `reorder-status` | Reflects the status of a cell while columns are being reordered | cell\n * `frozen` | Frozen cell | cell\n * `last-frozen` | Last frozen cell | cell\n* * `first-column` | First visible cell on a row | cell\n * `last-column` | Last visible cell on a row | cell\n * `selected` | Selected row | row\n * `expanded` | Expanded row | row\n * `details-opened` | Row with details open | row\n * `loading` | Row that is waiting for data from data provider | row\n * `odd` | Odd row | row\n * `first` | The first body row | row\n * `dragstart` | Set for one frame when drag of a row is starting. The value is a number when multiple rows are dragged | row\n * `dragover` | Set when the row is dragged over | row\n * `drag-disabled` | Set to a row that isn't available for dragging | row\n * `drop-disabled` | Set to a row that can't be dropped on top of | row\n *\n * See [ThemableMixin – how to apply styles for shadow parts](https://github.com/vaadin/vaadin-themable-mixin/wiki)\n *\n * @memberof Vaadin\n * @mixes Vaadin.ThemableMixin\n * @mixes Vaadin.Grid.A11yMixin\n * @mixes Vaadin.Grid.ActiveItemMixin\n * @mixes Vaadin.Grid.ArrayDataProviderMixin\n * @mixes Vaadin.Grid.ColumnResizingMixin\n * @mixes Vaadin.Grid.DataProviderMixin\n * @mixes Vaadin.Grid.DynamicColumnsMixin\n * @mixes Vaadin.Grid.FilterMixin\n * @mixes Vaadin.Grid.RowDetailsMixin\n * @mixes Vaadin.Grid.ScrollMixin\n * @mixes Vaadin.Grid.SelectionMixin\n * @mixes Vaadin.Grid.SortMixin\n * @mixes Vaadin.Grid.KeyboardNavigationMixin\n * @mixes Vaadin.Grid.ColumnReorderingMixin\n * @mixes Vaadin.Grid.EventContextMixin\n * @mixes Vaadin.Grid.StylingMixin\n * @mixes Vaadin.Grid.DragAndDropMixin\n * @demo demo/index.html\n */\n\n\nclass GridElement extends ElementMixin(ThemableMixin(DataProviderMixin(ArrayDataProviderMixin(DynamicColumnsMixin(ActiveItemMixin(ScrollMixin(SelectionMixin(SortMixin(RowDetailsMixin(KeyboardNavigationMixin(A11yMixin(FilterMixin(ColumnReorderingMixin(ColumnResizingMixin(EventContextMixin(DragAndDropMixin(StylingMixin(ScrollerElement)))))))))))))))))) {\n  static get template() {\n    return html`\n    <style include=\"vaadin-grid-styles\"></style>\n\n    <div id=\"scroller\" no-scrollbars\\$=\"[[!_scrollbarWidth]]\" wheel-scrolling\\$=\"[[_wheelScrolling]]\" safari\\$=\"[[_safari]]\" ios\\$=\"[[_ios]]\" loading\\$=\"[[loading]]\" edge\\$=\"[[_edge]]\" firefox\\$=\"[[_firefox]]\" ie\\$=\"[[_ie]]\" column-reordering-allowed\\$=\"[[columnReorderingAllowed]]\">\n\n      <table id=\"table\" role=\"grid\" aria-multiselectable=\"true\" tabindex=\"0\">\n        <caption id=\"fixedsizer\" class=\"sizer\" part=\"row\"></caption>\n        <thead id=\"header\" role=\"rowgroup\"></thead>\n        <tbody id=\"items\" role=\"rowgroup\"></tbody>\n        <tfoot id=\"footer\" role=\"rowgroup\"></tfoot>\n      </table>\n\n      <div part=\"reorder-ghost\"></div>\n      <vaadin-grid-outer-scroller id=\"outerscroller\" _touch-device=\"[[_touchDevice]]\" scroll-target=\"[[scrollTarget]]\" scroll-handler=\"[[_this]]\" no-scrollbars=\"[[!_scrollbarWidth]]\">\n        <div id=\"outersizer\" class=\"sizer\" part=\"row\"></div>\n      </vaadin-grid-outer-scroller>\n    </div>\n\n    <!-- The template needs at least one slot or else shady doesn't distribute -->\n    <slot name=\"nodistribute\"></slot>\n\n    <div id=\"focusexit\" tabindex=\"0\"></div>\n`;\n  }\n\n  static get is() {\n    return 'vaadin-grid';\n  }\n\n  static get version() {\n    return '5.4.12';\n  }\n\n  static get observers() {\n    return ['_columnTreeChanged(_columnTree, _columnTree.*)'];\n  }\n\n  static get properties() {\n    return {\n      _this: {\n        type: Object,\n        value: function () {\n          return this;\n        }\n      },\n      _safari: {\n        type: Boolean,\n        value: /^((?!chrome|android).)*safari/i.test(navigator.userAgent)\n      },\n      _ios: {\n        type: Boolean,\n        value: /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream || navigator.platform === 'MacIntel' && navigator.maxTouchPoints > 1\n      },\n      _edge: {\n        type: Boolean,\n        value: typeof CSS !== 'undefined' && CSS.supports('(-ms-ime-align:auto)')\n      },\n      _ie: {\n        type: Boolean,\n        value: !!(navigator.userAgent.match(/Trident/) && !navigator.userAgent.match(/MSIE/))\n      },\n      _firefox: {\n        type: Boolean,\n        value: navigator.userAgent.toLowerCase().indexOf('firefox') > -1\n      },\n      _android: {\n        type: Boolean,\n        value: /android/i.test(navigator.userAgent)\n      },\n      _touchDevice: {\n        type: Boolean,\n        value: TOUCH_DEVICE\n      },\n\n      /**\n       * If true, the grid's height is defined by the number of its rows.\n       */\n      heightByRows: {\n        type: Boolean,\n        value: false,\n        reflectToAttribute: true,\n        observer: '_heightByRowsChanged'\n      }\n    };\n  }\n\n  constructor() {\n    super();\n    this.addEventListener('animationend', this._onAnimationEnd);\n  }\n\n  __hasRowsWithClientHeight() {\n    return !!Array.from(this.$.items.children).filter(row => row.clientHeight).length;\n  }\n\n  __setInitialColumnWidths() {\n    if (!this._initialColumnWidthsSet && this.__hasRowsWithClientHeight()) {\n      this._initialColumnWidthsSet = true;\n      this.recalculateColumnWidths();\n    }\n  }\n  /**\n   * @param {Array<Vaadin.GridColumnElement>} cols the columns to auto size based on their content width\n   */\n\n\n  _recalculateColumnWidths(cols) {\n    // Note: The `cols.forEach()` loops below could be implemented as a single loop but this has been\n    // split for performance reasons to batch these similar actions [write/read] together to avoid\n    // unnecessary layout trashing.\n    // [write] Set automatic width for all cells (breaks column alignment)\n    cols.forEach(col => {\n      col.width = 'auto';\n      col._origFlexGrow = col.flexGrow;\n      col.flexGrow = 0;\n    }); // [read] Measure max cell width in each column\n\n    cols.forEach(col => {\n      col._currentWidth = 0; // Note: _allCells only contains cells which are currently rendered in DOM\n\n      col._allCells.forEach(c => {\n        const cellWidth = Math.ceil(c.getBoundingClientRect().width);\n        col._currentWidth = Math.max(col._currentWidth, cellWidth);\n      });\n    }); // [write] Set column widths to fit widest measured content\n\n    cols.forEach(col => {\n      col.width = `${col._currentWidth}px`;\n      col.flexGrow = col._origFlexGrow;\n      col._currentWidth = undefined;\n      col._origFlexGrow = undefined;\n    });\n  }\n  /**\n   * Updates the `width` of all columns which have `autoWidth` set to `true`.\n   */\n\n\n  recalculateColumnWidths() {\n    if (!this._columnTree) {\n      return; // No columns\n    }\n\n    const cols = this._getColumns().filter(col => !col.hidden && col.autoWidth);\n\n    this._recalculateColumnWidths(cols);\n  }\n\n  _createScrollerRows(count) {\n    const rows = [];\n\n    for (var i = 0; i < count; i++) {\n      const row = document.createElement('tr');\n      row.setAttribute('part', 'row');\n      row.setAttribute('role', 'row');\n\n      if (this._columnTree) {\n        this._updateRow(row, this._columnTree[this._columnTree.length - 1], 'body', false, true);\n      }\n\n      rows.push(row);\n    }\n\n    if (this._columnTree) {\n      this._columnTree[this._columnTree.length - 1].forEach(c => c.notifyPath && c.notifyPath('_cells.*', c._cells));\n    }\n\n    beforeNextRender(this, () => {\n      this._updateFirstAndLastColumn();\n\n      this._resetKeyboardNavigation();\n    });\n    return rows;\n  }\n\n  _getRowTarget() {\n    return this.$.items;\n  }\n\n  _createCell(tagName) {\n    const contentId = this._contentIndex = this._contentIndex + 1 || 0;\n    const slotName = 'vaadin-grid-cell-content-' + contentId;\n    const cellContent = document.createElement('vaadin-grid-cell-content');\n    cellContent.setAttribute('slot', slotName);\n    const cell = document.createElement(tagName);\n    cell.id = slotName.replace('-content-', '-');\n    cell.setAttribute('tabindex', '-1');\n    cell.setAttribute('role', tagName === 'td' ? 'gridcell' : 'columnheader');\n    const slot = document.createElement('slot');\n    slot.setAttribute('name', slotName);\n    cell.appendChild(slot);\n    cell._content = cellContent; // With native Shadow DOM, mousedown on slotted element does not focus\n    // focusable slot wrapper, that is why cells are not focused with\n    // mousedown. Workaround: listen for mousedown and focus manually.\n\n    cellContent.addEventListener('mousedown', () => {\n      if (window.chrome) {\n        // Chrome bug: focusing before mouseup prevents text selection, see http://crbug.com/771903\n        const mouseUpListener = () => {\n          if (!cellContent.contains(this.getRootNode().activeElement)) {\n            cell.focus();\n          } // If focus is in the cell content — respect it, do not change.\n\n\n          document.removeEventListener('mouseup', mouseUpListener, true);\n        };\n\n        document.addEventListener('mouseup', mouseUpListener, true);\n      } else {\n        // Focus on mouseup, on the other hand, removes selection on Safari.\n        // Watch out sync focus removal issue, only async focus works here.\n        setTimeout(() => {\n          if (!cellContent.contains(this.getRootNode().activeElement)) {\n            cell.focus();\n          }\n        });\n      }\n    });\n    return cell;\n  }\n\n  _updateRow(row, columns, section, isColumnRow, noNotify) {\n    section = section || 'body';\n    const contentsFragment = document.createDocumentFragment();\n    Array.from(row.children).forEach(cell => cell._vacant = true);\n    row.innerHTML = '';\n\n    if (row.id !== 'outersizer' && row.id !== 'fixedsizer') {\n      row.hidden = true;\n    }\n\n    columns.forEach((column, index) => {\n      let cell;\n\n      if (section === 'body') {\n        // Body\n        column._cells = column._cells || [];\n        cell = column._cells.filter(cell => cell._vacant)[0];\n\n        if (!cell) {\n          cell = this._createCell('td');\n\n          column._cells.push(cell);\n        }\n\n        cell.setAttribute('part', 'cell body-cell');\n        row.appendChild(cell);\n\n        if (index === columns.length - 1 && (this._rowDetailsTemplate || this.rowDetailsRenderer)) {\n          // Add details cell as last cell to body rows\n          this._detailsCells = this._detailsCells || [];\n\n          const detailsCell = this._detailsCells.filter(cell => cell._vacant)[0] || this._createCell('td');\n\n          if (this._detailsCells.indexOf(detailsCell) === -1) {\n            this._detailsCells.push(detailsCell);\n          }\n\n          if (!detailsCell._content.parentElement) {\n            contentsFragment.appendChild(detailsCell._content);\n          }\n\n          this._configureDetailsCell(detailsCell);\n\n          row.appendChild(detailsCell);\n\n          this._a11ySetRowDetailsCell(row, detailsCell);\n\n          detailsCell._vacant = false;\n        }\n\n        if (column.notifyPath && !noNotify) {\n          column.notifyPath('_cells.*', column._cells);\n        }\n      } else {\n        // Header & footer\n        const tagName = section === 'header' ? 'th' : 'td';\n\n        if (isColumnRow || column.localName === 'vaadin-grid-column-group') {\n          cell = column[`_${section}Cell`] || this._createCell(tagName);\n          cell._column = column;\n          row.appendChild(cell);\n          column[`_${section}Cell`] = cell;\n        } else {\n          column._emptyCells = column._emptyCells || [];\n          cell = column._emptyCells.filter(cell => cell._vacant)[0] || this._createCell(tagName);\n          cell._column = column;\n          row.appendChild(cell);\n\n          if (column._emptyCells.indexOf(cell) === -1) {\n            column._emptyCells.push(cell);\n          }\n        }\n\n        cell.setAttribute('part', `cell ${section}-cell`);\n\n        this.__updateHeaderFooterRowVisibility(row);\n      }\n\n      if (!cell._content.parentElement) {\n        contentsFragment.appendChild(cell._content);\n      }\n\n      cell._vacant = false;\n      cell._column = column;\n    }); // Might be empty if only cache was used\n\n    this.appendChild(contentsFragment);\n\n    this._frozenCellsChanged();\n\n    this._updateFirstAndLastColumnForRow(row);\n  }\n\n  __updateHeaderFooterRowVisibility(row) {\n    if (!row) {\n      return;\n    }\n\n    const visibleRowCells = Array.from(row.children).filter(cell => {\n      const column = cell._column;\n\n      if (column._emptyCells && column._emptyCells.indexOf(cell) > -1) {\n        // The cell is an \"empty cell\"  -> doesn't block hiding the row\n        return false;\n      }\n\n      if (row.parentElement === this.$.header) {\n        if (column.headerRenderer || column._headerTemplate) {\n          // The cell is the header cell of a column that has a header renderer\n          // or a header template -> row should be visible\n          return true;\n        }\n\n        if (column.header === null) {\n          // The column header is explicilty set to null -> doesn't block hiding the row\n          return false;\n        }\n\n        if (column.path || column.header !== undefined) {\n          // The column has an explicit non-null header or a path that generates a header\n          // -> row should be visible\n          return true;\n        }\n      } else {\n        if (column.footerRenderer || column._footerTemplate) {\n          // The cell is the footer cell of a column that has a footer renderer\n          // or a footer template -> row should be visible\n          return true;\n        }\n      }\n    });\n\n    if (row.hidden !== !visibleRowCells.length) {\n      row.hidden = !visibleRowCells.length;\n      this.notifyResize();\n    }\n  }\n\n  _updateScrollerItem(row, index) {\n    this._preventScrollerRotatingCellFocus(row, index);\n\n    if (!this._columnTree) {\n      return;\n    }\n\n    this._toggleAttribute('first', index === 0, row);\n\n    this._toggleAttribute('odd', index % 2, row);\n\n    this._a11yUpdateRowRowindex(row, index);\n\n    this._getItem(index, row);\n  }\n\n  _columnTreeChanged(columnTree, splices) {\n    Array.from(this.$.items.children).forEach(row => this._updateRow(row, columnTree[columnTree.length - 1]));\n\n    while (this.$.header.children.length < columnTree.length) {\n      const headerRow = document.createElement('tr');\n      headerRow.setAttribute('part', 'row');\n      headerRow.setAttribute('role', 'row');\n      this.$.header.appendChild(headerRow);\n      const footerRow = document.createElement('tr');\n      footerRow.setAttribute('part', 'row');\n      footerRow.setAttribute('role', 'row');\n      this.$.footer.appendChild(footerRow);\n    }\n\n    while (this.$.header.children.length > columnTree.length) {\n      this.$.header.removeChild(this.$.header.firstElementChild);\n      this.$.footer.removeChild(this.$.footer.firstElementChild);\n    }\n\n    Array.from(this.$.header.children).forEach((headerRow, index) => this._updateRow(headerRow, columnTree[index], 'header', index === columnTree.length - 1));\n    Array.from(this.$.footer.children).forEach((footerRow, index) => this._updateRow(footerRow, columnTree[columnTree.length - 1 - index], 'footer', index === 0)); // Sizer rows\n\n    this._updateRow(this.$.outersizer, columnTree[columnTree.length - 1]);\n\n    this._updateRow(this.$.fixedsizer, columnTree[columnTree.length - 1]);\n\n    this._resizeHandler();\n\n    this._frozenCellsChanged();\n\n    this._updateFirstAndLastColumn();\n\n    this._resetKeyboardNavigation();\n\n    this._a11yUpdateHeaderRows();\n\n    this._a11yUpdateFooterRows();\n  }\n\n  _updateItem(row, item) {\n    row._item = item;\n\n    const model = this.__getRowModel(row);\n\n    this._toggleAttribute('selected', model.selected, row);\n\n    this._a11yUpdateRowSelected(row, model.selected);\n\n    this._a11yUpdateRowLevel(row, model.level);\n\n    this._toggleAttribute('expanded', model.expanded, row);\n\n    if (this._rowDetailsTemplate || this.rowDetailsRenderer) {\n      this._toggleDetailsCell(row, item);\n    }\n\n    this._generateCellClassNames(row, model);\n\n    this._filterDragAndDrop(row, model);\n\n    Array.from(row.children).forEach(cell => {\n      if (cell._renderer) {\n        const owner = cell._column || this;\n\n        cell._renderer.call(owner, cell._content, owner, model);\n      } else if (cell._instance) {\n        cell._instance.__detailsOpened__ = model.detailsOpened;\n        cell._instance.__selected__ = model.selected;\n        cell._instance.__level__ = model.level;\n        cell._instance.__expanded__ = model.expanded;\n\n        cell._instance.setProperties(model);\n      }\n    });\n    this._debouncerUpdateHeights = Debouncer.debounce(this._debouncerUpdateHeights, timeOut.after(1), () => {\n      this._updateMetrics();\n\n      this._positionItems();\n\n      this._updateScrollerSize();\n    });\n  }\n\n  _resizeHandler() {\n    this._updateDetailsCellHeights();\n\n    this._accessIronListAPI(super._resizeHandler, true);\n\n    this._updateHeaderFooterMetrics();\n  }\n\n  _updateHeaderFooterMetrics() {\n    const headerHeight = this.$.header.clientHeight + 'px';\n    const footerHeight = this.$.footer.clientHeight + 'px';\n    [this.$.outersizer, this.$.fixedsizer, this.$.items].forEach(element => {\n      element.style.borderTopWidth = headerHeight;\n      element.style.borderBottomWidth = footerHeight;\n    });\n    afterNextRender(this.$.header, () => {\n      if (this._pendingScrollToIndex) {\n        this._scrollToIndex(this._pendingScrollToIndex);\n      }\n    });\n  }\n\n  _onAnimationEnd(e) {\n    // ShadyCSS applies scoping suffixes to animation names\n    if (e.animationName.indexOf('vaadin-grid-appear') === 0) {\n      this._render();\n\n      this._updateHeaderFooterMetrics();\n\n      e.stopPropagation();\n      this.notifyResize();\n\n      this.__setInitialColumnWidths();\n    }\n  }\n\n  _toggleAttribute(name, bool, node) {\n    if (node.hasAttribute(name) === !bool) {\n      if (bool) {\n        node.setAttribute(name, '');\n      } else {\n        node.removeAttribute(name);\n      }\n    }\n  }\n\n  __getRowModel(row) {\n    return {\n      index: row.index,\n      item: row._item,\n      level: this._getIndexLevel(row.index),\n      expanded: this._isExpanded(row._item),\n      selected: this._isSelected(row._item),\n      detailsOpened: !!(this._rowDetailsTemplate || this.rowDetailsRenderer) && this._isDetailsOpened(row._item)\n    };\n  }\n  /**\n   * Manually invoke existing renderers for all the columns\n   * (header, footer and body cells) and opened row details.\n   */\n\n\n  render() {\n    if (this._columnTree) {\n      // header and footer renderers\n      this._columnTree.forEach(level => {\n        level.forEach(column => column._renderHeaderAndFooter());\n      }); // body and row details renderers\n\n\n      this._update();\n    }\n  }\n  /**\n   * Updates the computed metrics and positioning of internal grid parts\n   * (row/details cell positioning etc). Needs to be invoked whenever the sizing of grid\n   * content changes asynchronously to ensure consistent appearance (e.g. when a\n   * contained image whose bounds aren't known beforehand finishes loading).\n   */\n\n\n  notifyResize() {\n    super.notifyResize();\n  }\n\n  _heightByRowsChanged(value, oldValue) {\n    if (value || oldValue) {\n      this.notifyResize();\n    }\n  }\n\n  __forceReflow() {\n    this._debouncerForceReflow = Debouncer.debounce(this._debouncerForceReflow, animationFrame, () => {\n      this.$.scroller.style.overflow = 'hidden';\n      setTimeout(() => this.$.scroller.style.overflow = '');\n    });\n  }\n\n}\n\ncustomElements.define(GridElement.is, GridElement);\nexport { GridElement };"],"names":["Lumo","HTMLElement","version","customElements","define","$_documentContainer","document","createElement","innerHTML","head","appendChild","content","html","ThemePropertyMixin","superClass","VaadinThemePropertyMixin","properties","theme","type","String","readOnly","attributeChangedCallback","name","oldValue","newValue","_setTheme","ThemableMixin","VaadinThemableMixin","finalize","template","prototype","_template","hasOwnTemplate","parentElement","id","is","inheritedTemplate","Object","getPrototypeOf","Array","from","querySelectorAll","forEach","s","_includeStyle","getAttribute","_includeMatchingThemes","domModule","DomModule","modules","hasThemes","defaultModuleName","keys","sort","moduleNameA","moduleNameB","vaadinA","indexOf","vaadinB","vaadinThemePrefixes","vaadinThemeA","filter","prefix","length","vaadinThemeB","moduleName","themeFor","split","themeForToken","RegExp","join","test","querySelector","styleEl","setAttribute","TabIndexMixin","VaadinTabIndexMixin","tabindex","Number","value","reflectToAttribute","observer","window","ShadyDOM","ControlStateMixin","VaadinControlStateMixin","autofocus","Boolean","_previousTabIndex","disabled","_isShiftTabbing","ready","addEventListener","e","composedPath","_focus","focusElement","_setFocused","ensureEventComposed","composed","target","dispatchEvent","CustomEvent","bubbles","cancelable","shadowRoot","defaultPrevented","keyCode","shiftKey","focus","apply","setTimeout","firefox","navigator","userAgent","match","parseFloat","parentNode","nextSibling","fakeTarget","style","position","opacity","tabIndex","insertBefore","removeChild","focused","requestAnimationFrame","_boundKeydownListener","_bodyKeydownListener","bind","_boundKeyupListener","_bodyKeyupListener","connectedCallback","body","disconnectedCallback","removeEventListener","hasAttribute","removeAttribute","_tabPressed","console","warn","localName","blur","_disabledChanged","_tabindexChanged","undefined","setProperties","click","DEV_MODE_CODE_REGEXP","FlowClients","Vaadin","Flow","clients","isMinified","uncommentAndRun","isDevelopmentMode","isForcedDevelopmentMode","isLocalhost","isFlowProductionMode","localStorage","getItem","location","hostname","productionModeApps","map","key","client","productionMode","callback","args","exec","toString","Function","log","runIfDevelopmentMode","developmentMode","maybeGatherAndSendStats","usageStatistics","registrations","developmentModeCallback","statsJob","registered","Set","ElementMixin","VaadinElementMixin","has","push","add","Debouncer","debounce","idlePeriod","enqueueDebouncer","constructor","doctype","ButtonElement","GestureEventListeners","PolymerElement","$","button","_addActiveListeners","addListener","CheckboxElement","checked","notify","indeterminate","_nativeCheckbox","_storedName","_handleClick","attrName","_updateLabelAttribute","label","assignedNodes","firstElementChild","_isAssignedNodesEmpty","nodes","nodeType","Node","TEXT_NODE","textContent","trim","_checkedChanged","_indeterminateChanged","_addEventListenerToNode","__interactionsAllowed","preventDefault","_toggleChecked","p","Element","matches","matchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector","FocusablesHelper","getTabbableNodes","node","result","needsSortByTabIndex","_collectTabbableNodes","_sortByTabIndex","isFocusable","element","call","isTabbable","_isVisible","_normalizedTabIndex","ELEMENT_NODE","needsSort","children","flatten","i","visibility","display","getComputedStyle","tabbables","len","pivot","Math","ceil","left","slice","right","_mergeSortByTabIndex","_hasLowerTabOrder","shift","concat","a","b","ati","max","bti","PositionMixin","positionTarget","horizontalAlign","verticalAlign","noHorizontalOverlap","noVerticalOverlap","observers","boundUpdatePosition","_updatePosition","func","detail","__positionSettingsChanged","computedStyle","__margins","propName","parseInt","rtl","direction","targetRect","getBoundingClientRect","horizontalProps","__calculateHorizontalPosition","verticalProps","__calculateVerticalPosition","positionProps","assign","__doSetPosition","propNames","start","end","contentWidth","__oldContentWidth","overlay","offsetWidth","viewportWidth","min","innerWidth","documentElement","clientWidth","defaultAlignLeft","currentAlignLeft","__calculatePositionInOneDimension","contentHeight","__oldContentHeight","offsetHeight","viewportHeight","innerHeight","clientHeight","defaultAlignTop","currentAlignTop","top","contentSize","viewportSize","margins","defaultAlignStart","currentAlignStart","noOverlap","spaceForStartAlignment","spaceForEndAlignment","spaceForDefaultAlignment","spaceForOtherAlignment","shouldGoToDefaultSide","shouldAlignStart","cssPropNameToSet","cssPropNameToClear","cssPropValueToSet","props","cssProps","alignStart","alignItems","justifyContent","overlayContentCounter","overlayContentCache","createOverlayContent","cssText","processOverlayStyles","styledTemplate","ShadyCSS","prepareTemplate","klass","attachShadow","mode","importNode","styleElement","OverlayElement","opened","owner","renderer","instanceProps","withBackdrop","model","modeless","hidden","focusTrap","restoreFocusOnClose","_mouseDownInside","_mouseUpInside","_instance","_originalContentPart","_contentNodes","_oldOwner","_oldModel","_oldTemplate","_oldInstanceProps","_oldRenderer","_oldOpened","_boundMouseDownListener","_mouseDownListener","_boundMouseUpListener","_mouseUpListener","_boundOutsideClickListener","_outsideClickListener","_keydownListener","_observer","FlattenedNodesObserver","info","_setTemplateFromNodes","addedNodes","_boundIronOverlayCanceledListener","_ironOverlayCanceled","_boundIosResizeListener","_detectIosNavbar","flush","backdrop","landscape","setProperty","close","sourceEvent","evt","event","_last","_cycleTab","_ensureTemplatized","_openedChanged","wasOpened","__restoreFocusNode","_getActiveElement","_animatedOpening","afterNextRender","contains","_activeElement","activeElement","_addGlobalListeners","_animatedClosing","_removeGlobalListeners","_hiddenChanged","_flushAnimation","_shouldAnimate","getPropertyValue","_enqueueAnimation","handler","listener","_attachOverlay","finishOpening","_enterModalState","_placeholder","createComment","finishClosing","removeProperty","_exitModalState","_detachOverlay","_deepContains","__attachedInstances","el","pop","_modelessChanged","pointerEvents","_previousDocumentPointerEvents","instances","_removeOldContent","disconnect","replaceChild","connect","_stampOverlayTemplate","_Templatizer","templatize","forwardHostProp","prop","root","childNodes","templateRoot","_templateRoot","getRootNode","_isScoped","isShady","nativeShadow","scopeCssText","reduce","styleInfo","ScopingShim","_styleInfoForNode","host","_getStyleRules","parsedCssText","replace","contentPart","className","unshift","_removeNewRendererOrTemplate","oldTemplate","oldRenderer","render","_templateOrRendererChanged","Error","ownerOrModelChanged","templateOrInstancePropsChanged","rendererChanged","openedChanged","firstChild","_isFocused","_focusedIndex","elements","_getFocusableElements","increment","index","focusableElements","active","n","doc","ownerDocument","ItemMixin","VaadinItemMixin","_hasVaadinItemMixin","selected","_value","attrValue","_setActive","_mousedown","mouseUpListener","_onKeydown","_onKeyup","_selectedChanged","ItemElement","HOST_PROPS","default","accessible","PROP_TYPE","DEFAULT","ACCESSIBLE","TextFieldMixin","subclass","VaadinTextFieldMixin","autocomplete","autocorrect","autocapitalize","autoselect","clearButtonVisible","errorMessage","i18n","clear","maxlength","minlength","placeholder","readonly","required","invalid","hasValue","preventInvalidInput","_labelId","_errorId","_inputId","slotted","_slottedTagName","inputElement","_createConstraintsObserver","_createMethodObserver","_onInput","__preventInput","stopImmediatePropagation","input","checkValidity","_inputDebouncer","timeOut","after","__fromClearButton","__userInput","_stateChanged","clearButton","_onChange","_valueClearing","changeEvent","_valueChanged","newVal","oldVal","validate","_labelChanged","_onSlotChange","_slottedInput","_validateSlottedValue","_addInputListeners","_addIEListeners","_removeInputListeners","_removeIEListeners","_propagateHostAttributes","attr","_hostPropsChanged","attributesValues","_hostAccessiblePropsChanged","attributeNames","_setOrToggleAttribute","_constraintsChanged","pattern","_boundOnInput","_boundOnChange","_boundOnBlur","_boundOnFocus","_onBlur","_onFocus","defaultInput","nativeCss","updateStyles","_onClearButtonClick","_onKeyDown","uniqueId","_uniqueId","__observeOffsetHeight","select","setSelectionRange","inputEvent","Event","dispatchChange","_shouldPreventInput","_createPropertyObserver","_getActiveErrorId","errorId","_getActiveLabelId","ids","_getErrorMessageAriaHidden","_dispatchIronResizeEventIfNeeded","sizePropertyName","previousSizePropertyName","isSafari","WEBKIT_PROPERTY","TextFieldElement","list","title","ComboBoxPlaceholder","ComboBoxMixin","VaadinComboBoxMixinElement","items","allowCustomValue","filteredItems","_lastCommittedValue","loading","selectedItem","itemLabelPath","itemValuePath","itemIdPath","_toggleElement","_clearElement","_inputElementValue","_closeOnBlurIsPrevented","_itemTemplate","_boundOnFocusout","_onFocusout","_boundOverlaySelectedItemChanged","_overlaySelectedItemChanged","_boundClose","_boundOnOpened","_onOpened","_boundOnKeyDown","_boundOnClick","_onClick","_boundOnOverlayTouchAction","_onOverlayTouchAction","_boundOnTouchend","_onTouchend","IronA11yAnnouncer","requestAvailability","_selector","item","_render","open","old","_openedWithFocusRing","touchDevice","_onClosed","path","isClearElement","_clear","_isEventKey","_onArrowDown","_onArrowUp","_onEnter","_onEscape","k","IronA11yKeysBehavior","keyboardEventMatchesKeys","_getItemLabel","getItemLabel","_getItemValue","get","_items","_prefillFocusedItemLabel","_focusedItem","_markAllSelectionRange","_setSelectionRange","_nativeInput","ignore","_clearSelectionRange","pos","stopPropagation","_stopPropagation","_revertInputValue","cancel","_toggleElementChanged","toggleElement","_detectAndDispatchChange","_revertInputValueToValue","ensureItemsRendered","toggleScrollListener","updateViewportBoundaries","_increasePoolIfNeeded","_resizeDropdown","adjustScrollPosition","focusedItem","customValue","_selectItemForValue","dataProvider","_propertyForValue","_inputValueChanged","_filterFromInput","_filterChanged","_itemLabelPathChanged","oldItemLabelPath","error","_filterItems","_filteredItemsChanged","_loadingChanged","dropdown","notifyResize","_updateHasValue","_selectedItemChanged","_selectedItem","_isValidValue","_itemsChanged","oldItems","_ensureItemsOrDataProvider","_itemsOrPathsChanged","valueIndex","_indexOfValue","_setOverlayItems","indexOfLabel","_repositionOverlay","arr","toLowerCase","previouslySelectedItem","set","__repositionOverlayDebouncer","selector","_isClientFull","_resetScrollPosition","_physicalTop","relatedTarget","_instanceProps","_TemplateClass","tpl","_getRootTemplate","_itemTemplateInstance","notifyPath","elem","tagName","_preventInputBlur","_preventDefault","_restoreInputBlur","ComboBoxItemElement","__dataHost","comboBoxOverlay","_comboBox","_rendererOrItemChanged","_updateLabel","_updateTemplateInstanceVariable","variable","ComboBoxOverlayElement","loader","ComboBoxDropdownElement","DisableUpgradeMixin","mixinBehaviors","IronResizableBehavior","alignedAbove","_boundSetPosition","_setPosition","_isPositionFixed","eventPath","offsetParent","_getOffsetParent","assignedSlot","parent","_verticalOffset","overlayRect","height","_shouldAlignAbove","spaceBelow","bottom","scrollTop","_translateX","_translateY","_devicePixelRatio","devicePixelRatio","round","transform","width","TOUCH_DEVICE","createEvent","ComboBoxDropdownWrapperElement","computed","_itemLabelPath","_itemValuePath","_itemIdPath","_fireTouchAction","_getItems","_initDropdown","_templateChanged","_scroller","_selectorChanged","_patchWheelOverScrolling","_setOverlayHeight","maxHeight","getComputedStyleValue","_maxOverlayHeight","margin","minHeight","scrollHeight","_getFocusedItem","focusedIndex","_isItemSelected","_onItemClick","__requestItemByIndex","_isItemFocused","itemIndex","_getAriaSelected","_getAriaRole","_focusedIndexChanged","_scrollIntoView","visibleItemsCount","_visibleItemsCount","targetIndex","lastVisibleIndex","scrollToIndex","firstVisibleIndex","pidx","_getPhysicalIndex","physicalItem","_physicalItems","physicalItemRect","scrollerRect","scrollTopAdjust","_viewportTotalPaddingBottom","scroller","scrollTarget","scrolledToTop","scrolledToBottom","deltaY","_cachedViewportTotalPaddingBottom","itemsStyle","paddingBottom","borderBottomWidth","v","sum","flushDebouncer","_selectItem","selectItem","_hidden","itemsChange","ComboBoxDataProviderMixin","DataProviderMixin","pageSize","size","_pendingRequests","__placeHolder","_dataProviderClearFilter","clearCache","page","_getPageForIndex","_shouldLoadPage","_loadPage","_dataProviderFilterChanged","_ensureFirstPage","_forceNextRequest","loadedItem","params","splice","__maxRenderedItems","floor","_sizeChanged","_pageSizeChanged","oldPageSize","_dataProviderChanged","oldDataProvider","restoreOldValueCallback","_warnDataProviderValue","ComboBoxElement","attributeChanged","toggleButton","_updateAriaExpanded","_getPositionTarget","ListMixin","VaadinListMixin","_hasVaadinListMixin","orientation","_searchBuf","_setItems","_enhanceItems","_setFocusable","itemToSelect","_scrollToItem","array","metaKey","ctrlKey","idx","_searchKey","currentIdx","_searchReset","condition","some","_getAvailableIndex","_vertical","totalItems","firstItem","_scrollerElement","nextItemRect","prevItemRect","scrollDistance","_scroll","pixels","MultiSelectListMixin","VaadinMultiSelectListMixin","multiple","selectedValues","_onMultipleClick","_enhanceMultipleItems","selectedItems","selectedId","lastSelectedItem","_multipleChanged","ListBoxElement","_checkImport","register","deps","flow","emits","_ios","MSStream","reset","_cancelTimer","touchJob","touchStartCoords","_timerId","clearTimeout","_fired","touchstart","x","changedTouches","clientX","y","clientY","t","ct","fire","prevent","touchmove","moveThreshold","abs","touchend","contextmenu","ev","DeviceDetectorElement","phone","touch","_touch","wide","err","_phone","ContextMenuItemElement","ContextMenuListBoxElement","ItemsMixin","__itemsOutsideClickListener","__forwardFocus","child","getFirstChild","parentOverlay","__openSubMenu","subMenu","itemElement","_item","listenOn","itemRect","paddingTop","_setParentOverlay","minWidth","__itemsRenderer","menu","context","__initMenu","closeOn","listBox","component","classList","text","__toggleMenuComponentAttribute","remove","attribute","on","openOn","expandedItem","__openListenerActive","openSubMenu","ContextMenuOverlayElement","isArray","_themeChanged","getBoundaries","contentRect","yMax","parentStyle","xMax","ContextMenuElement","_context","_boundOpen","_contentTemplate","_boundOnGlobalContextMenu","_onGlobalContextMenu","__boundOnScroll","__onScroll","_onOverlayOpened","_setOpened","_onVaadinOverlayOpen","__alignOverlayPosition","_targetOrOpenOnChanged","_oldListenOn","_oldOpenOn","_unlisten","webkitTouchCallout","webkitUserSelect","_listen","_closeOnChanged","oldCloseOn","evtOverlay","_contextChanged","instance","_contextTarget","targets","__x","_getEventCoordinate","__pageXOffset","pageXOffset","__y","__pageYOffset","pageYOffset","yDiff","xDiff","__adjustPosition","coord","diff","wdthVport","hghtVport","alignedToParent","parentContentRect","getPadding","padding","toUpperCase","rect","evType","gestures","removeListener","DatePickerOverlayElement","DatePickerHelper","VaadinDatePickerHelper","_getISOWeekNumber","date","dayOfWeek","getDay","nearestThursdayDiff","nearestThursday","Date","getTime","firstOfJanuary","setFullYear","getFullYear","timeDiff","daysSinceFirstOfJanuary","_dateEquals","date1","date2","getMonth","getDate","_dateAllowed","_getClosestDate","dates","closestDate","candidate","candidateDiff","closestDateDiff","_extractDateParts","day","month","year","MonthCalendarElement","selectedDate","focusedDate","showWeekNumbers","ignoreTaps","_notTapping","minDate","maxDate","_days","_isDisabled","firstDate","setMonth","setDate","lastDate","_getTitle","monthNames","formatTitle","_onMonthGridTouchStart","_dateAdd","delta","_applyFirstDayOfWeek","weekDayNames","firstDayOfWeek","_getWeekDayNames","weekDayNamesShort","weekDay","weekDayShort","_getDate","_showWeekNumbersChanged","_showWeekSeparator","_isToday","_getDays","days","startMonth","targetMonth","_getWeekNumber","acc","d","_getWeekNumbers","week","_handleTap","_getRole","_getAriaLabel","ariaLabel","weekdays","today","_getAriaDisabled","InfiniteScrollerElement","bufferSize","_initialScroll","_initialIndex","_buffers","_preventScrollEvent","_mayHaveMomentum","_initialized","fullHeight","buffer","insertionPoint","_itemWrapper","isFirefox","_activated","_createPool","_finishInit","_initDone","_ensureStampedInstance","translateY","_reset","_translateBuffer","up","_bufferHeight","updated","reverse","_scrollDisabled","bufferOffset","offsetTop","upperThresholdReached","itemHeight","lowerThresholdReached","_updateClones","_debouncerScrollFinish","_firstIndex","_itemHeightVal","tmpStyleProp","itemHeightPx","_debouncerUpdateClones","container","itemWrapper","contentId","_contentIndex","slotName","tmpInstance","viewPortOnly","bufferIndex","firstIndex","DatePickerOverlayContentElement","_focusedMonthDate","initialPosition","_originDate","_visibleMonthIndex","_desktopMode","_yearScrollerWidth","_ignoreTaps","_focused","_onOverlayFocus","_onOverlayBlur","_closeYearScroller","_toggleAnimateClass","setTouchAction","scrollers","announceFocusedDate","_currentlyFocusedDate","announce","focusCancel","cancelButton","scrollToDate","animate","_scrollToPosition","_differenceInMonths","_focusedDateChanged","revealDate","_isCurrentYear","yearsFromNow","_isSelectedYear","scrolledAboveViewport","monthScroller","visibleItems","scrolledBelowViewport","_initialPositionChanged","_repositionYearScroller","yearScroller","_repositionMonthScroller","_onMonthScroll","_doIgnoreTaps","_onYearScroll","_onYearScrollTouchStart","_onMonthScrollTouchStart","_debouncer","_formatDisplayed","formatDate","_onTodayTap","_close","_scrollToCurrentMonth","_showClear","_onYearTap","scrollDelta","yearDelta","targetPosition","_targetPosition","easingFunction","c","duration","smoothScroll","timestamp","currentTime","currentPos","oldPosition","_limit","range","_handleTrack","dx","ddy","ddx","newTranslateX","_track","state","_openYearScroller","enable","_toggleYearScroller","_isYearScrollerVisible","_translateXChanged","_yearAfterXYears","_yearAfterXMonths","months","_dateAfterXMonths","_differenceInYears","overlayContent","_cancel","_eventKey","isToday","todayButton","isCancel","isScroller","eventKey","isFullscreen","isShift","_moveFocusByDays","_moveFocusInsideMonth","_moveFocusByMonths","_focusDate","dateToFocus","_focusClosestDate","property","_isTodayAllowed","todayMidnight","DatePickerMixin","VaadinDatePickerMixin","_selectedDate","_focusedDate","_fullscreen","_fullscreenMediaQuery","_touchPrevented","weekdaysShort","calendar","yearStr","substr","parseDate","parts","monthName","fullYear","_minDate","_maxDate","_noInput","_webkitOverflowScroll","webkitOverflowScrolling","_ignoreAnnounce","_focusOverlayOnOpen","_overlayInitialized","_boundOnScroll","_onScroll","_boundFocus","_boundUpdateAlignmentAndPosition","_updateAlignmentAndPosition","isClearButton","inputIndex","_inputElement","_onUserInput","_initOverlay","_overlayContent","_focusAndSelect","_onVaadinOverlayClose","_input","unwrap","_parseDate","str","_isNoInput","fullscreen","ios","_formatISO","pad","num","fmt","yearSign","yearFmt","yearAbs","_selectedDateChanged","__userInputOccurred","__dispatchChange","inputValue","_ignoreFocusedDateChange","_inputValue","__getOverlayTheme","overlayInitialized","_handleDateChange","_minChanged","_maxChanged","inputRect","bottomAlign","rightAlign","_fullscreenChanged","parsedInitialPosition","_preventWebkitOverflowScrollingTouch","oldInlineValue","_onOverlayClosed","prevented","dateObject","parsedDate","_isValidDate","selectionStart","selectionEnd","inputValid","minMaxValid","inputValidity","isNaN","allowedKeys","_validateInput","_userInputValueChanged","_announceFocusedDate","DatePickerElement","_userInputValue","_toggle","_getAriaExpanded","_setClearButtonLabel","i18nClear","DialogOverlayElement","DialogElement","noCloseOnOutsideClick","noCloseOnEsc","_handleOutsideClick","_handleEscPress","_ariaLabelChanged","IOS","IOS_TOUCH_SCROLLING","DEFAULT_PHYSICAL_COUNT","ANIMATION_FRAME","animationFrame","IDLE_TIME","MICRO_TASK","microTask","PolymerIronList","Class","behaviors","IronScrollTargetBehavior","_ratio","_scrollerPaddingTop","_scrollPosition","_physicalSize","_physicalAverage","_physicalAverageCount","_virtualCount","_estScrollHeight","_scrollHeight","_viewportHeight","_viewportWidth","_physicalSizes","_firstVisibleIndexVal","_collection","_lastVisibleIndexVal","_maxPages","_focusedVirtualIndex","_itemsPerRow","_rowHeight","_templateCost","_physicalBottom","_scrollBottom","_virtualEnd","_virtualStart","_physicalCount","_hiddenContentSize","grid","_physicalRows","_maxScrollTop","_scrollOffset","_maxVirtualStart","virtualCount","_convertIndexToCompleteRow","val","_clamp","_virtualStartVal","_physicalStart","_physicalStartVal","_physicalEnd","_physicalCountVal","_optPhysicalSize","Infinity","physicalOffset","_iterateItems","vidx","_getPhysicalSizeIncrement","_estRowsInView","attached","_debounce","listen","detached","unlisten","styles","_isRTL","_scrollTargetHeight","_updateGridMetrics","_scrollHandler","_scrollTop","isScrollingDown","idxAdjustment","_update","reusables","_getReusables","physicalTop","indexes","fromTop","ith","offsetContent","physicalItemHeight","idxs","protectedOffsetContent","virtualStart","virtualEnd","physicalCount","scrollBottom","itemSet","movingUp","_manageFocus","_assignModels","_updateMetrics","_positionItems","_updateScrollerSize","count","nextPhysicalCount","nextIncrease","ts","performance","now","_isIndexRendered","isAttached","change","_physicalIndexForKey","_removeFocusedItem","fn","rtn","arguments","_computeVidx","flush$0","newPhysicalSize","oldPhysicalSize","prevAvgCount","prevPhysicalAvg","_adjustScrollPosition","translate3d","deltaHeight","forceUpdate","_virtualRowCount","currentTopItem","currentVirtualItem","targetOffsetTop","hiddenContentSize","_resetAverage","_resizeHandler","cb","asyncModule","_debouncers","GridScrollerElement","_vidxOffset","_updateScrollerItem","_afterScroll","_getRowTarget","_createScrollerRows","_canPopulate","_warnPrivateAPIAccess","_pendingScrollToIndex","borderTopWidth","_scrollingToIndex","_effectiveSize","table","_accessIronListAPI","_adjustVirtualIndexOffset","row","headerOffset","header","_effectiveSizeChanged","fvi","fviOffset","_firstVisibleIndex","maxVirtualItems","_edge","_ie","_scrollToIndex","_focusedItemIndex","_itemsFocusable","cellIndex","rePosition","_initialPoolCreated","_debounceIncreasePool","remainingPhysicalSize","estimatedMissingRowCount","__reorderChildNodes","rowsInOrder","inOrder","current","currentIndex","row1","row2","fragment","createDocumentFragment","physicalItems","inst","slot","_updateHeaderFooterMetrics","_toggleAttribute","oldOffset","_noScale","scale","offset","threshold","maxShift","maxOffset","_warnPrivateAPIAccessAsyncEnabled","returnValue","_debouncerWarnPrivateAPIAccess","_debounceRender","apiName","_createFocusBackfillItem","_multiSelectionChanged","clearSelection","_lastVisibleIndex","A11yMixin","_a11yGetHeaderRowCount","_columnTree","level","col","_headerTemplate","headerRenderer","_a11yGetFooterRowCount","_a11yUpdateGridSize","bodyColumns","_a11yUpdateHeaderRows","_a11yUpdateFooterRows","headerRow","footer","footerRow","_a11yUpdateRowRowindex","_a11yUpdateRowSelected","cell","_a11yUpdateRowLevel","_a11yUpdateRowDetailsOpened","detailsOpened","_a11ySetRowDetailsCell","detailsCell","_a11yUpdateCellColspan","colspan","_a11yUpdateSorters","sorter","cellContent","ActiveItemMixin","activeItem","_activateItem","clickedItem","_itemsEqual","_content","cellContentHasFocus","_isFocusable","__getRowModel","focusables","isFocusableElement","ArrayDataProviderMixin","splices","_arrayDataProvider","_ensureFirstPageLoaded","opts","_filters","_checkPaths","_filter","sortOrders","_sorters","_multiSort","arrayToCheck","action","parentProperty","Base","_compare","_normalizeEmptyValue","filterValueLowercase","ColumnResizingMixin","_onHeaderTrack","handle","column","_column","_childColumns","_order","columnRowCells","targetCell","paddingLeft","paddingRight","borderLeftWidth","borderRightWidth","marginLeft","marginRight","flexGrow","ItemCache","parentCache","parentItem","itemCaches","effectiveSize","pendingRequests","isLoading","getItemForIndex","cache","scaledIndex","getCacheAndIndex","updateSize","_isExpanded","prev","curr","subCache","ensureSubCacheForScaledIndex","thisLevelIndex","expandedIndex","_cache","expandedItems","_updateRowItem","_getItem","_updateItem","_pagesForPhysicalItems","firstVisiblePage","_expandedInstanceChangedCallback","expandItem","collapseItem","getItemId","_getItemIndexInArray","_expandedItemsChanged","_getIndexLevel","_hasData","_setLoading","_mapSorters","filters","_mapFilters","itemsIndex","cachedItem","__setInitialColumnWidths","_setPendingProperty","_flushItemsDebouncer","_debouncerLoad","_checkSize","_debouncerCheckSize","hadData","item1","item2","DynamicColumnsMixin","_addNodeObserver","_hasColumnGroups","columns","_getChildColumns","getFlattenedNodes","_isColumnElement","_flattenColumnGroups","_getColumnTree","rootColumns","_updateColumnTree","columnTree","_arrayEquals","rowDetailsTemplate","_rowDetailsTemplate","removedNodes","_debouncerCheckImports","_checkImports","arr1","arr2","l","elementName","_updateFirstAndLastColumn","_updateFirstAndLastColumnForRow","EventContextMixin","getEventContext","section","FilterMixin","GridTemplatizer","dataHost","_templateInstances","_parentPathValues","_grid","expanded","createInstance","addInstance","removeInstance","parentModel","_forwardParentProp","notifyInstanceProp","originalProp","itemPrefix","gridCallback","_templateInstancesChanged","addedCount","keyName","RowDetailsMixin","detailsOpenedItems","rowDetailsRenderer","_detailsCells","_rowDetailsTemplateOrRendererChanged","templatizer","Templatizer","_updateRow","_toggleDetailsCell","_detailsOpenedItemsChanged","changeRecord","_isDetailsOpened","_configureDetailsCell","detailsHidden","hiddenChanged","_renderer","_updateDetailsCellHeights","openItemDetails","closeItemDetails","_detailsOpenedInstanceChangedCallback","ScrollMixin","_timeouts","SCROLL_PERIOD","WHEEL_SCROLLING","SCROLLING","IGNORE_WHEEL","_frozenCells","_scrollbarWidth","scrollDiv","overflow","scrollbarWidth","_rowWithFocusedElement","_deltaYAcc","_scrollLineHeight","_getScrollLineHeight","fontSize","_scrollViewportHeightUpdated","_scrollPageHeight","_wheelScrolling","_debouncerWheelScrolling","_onWheel","outerscroller","outerScrolling","_hasScrolledAncestor","deltaX","deltaMode","WheelEvent","DOM_DELTA_LINE","DOM_DELTA_PAGE","_wheelAnimationFrame","_debouncerWheelAnimationFrame","momentum","_canScroll","scrollLeft","_hasResidualMomentum","_ignoreNewWheel","_debouncerIgnoreNewWheel","_previousMomentum","scrollWidth","_scheduleScrolling","_scrollingFrame","_debounceScrolling","cancelAnimationFrame","_reorderRows","_scrollPeriodFrame","_debounceScrollPeriod","_translateStationaryElements","os","passthrough","syncOuterScroller","overScroll","_updateOverflow","_debounceOverflow","adjustedVirtualStart","targetRow","targetPhysicalIndex","_frozenCellsChanged","_debouncerCacheElements","_updateLastFrozen","columnsRow","lastFrozen","_lastFrozen","frozen","_getTranslate","_scrollLeft","frozenCellTransform","_scrollHeightUpdated","outersizer","fixedsizer","SelectionMixin","_isSelected","deselectItem","_toggleItem","_selectedItemsChanged","_selectedInstanceChangedCallback","SortMixin","multiSort","_previousSorters","_onSorterChanged","run","sorters","_removeArrayItem","JSON","stringify","StylingMixin","cellClassNameGenerator","__cellClassNameGeneratorChanged","cellClassGenerator","generateCellClassNames","_generateCellClassNames","rowData","__generatedClasses","DropMode","BETWEEN","ON_TOP","ON_TOP_OR_BETWEEN","ON_GRID","DropLocation","ABOVE","BELOW","EMPTY","DragAndDropMixin","dropMode","rowsDraggable","dragFilter","dropFilter","__dndAutoScrollThreshold","_onDragStart","_onDragEnd","_onDragOver","_onDragLeave","_onDrop","_safari","rowRect","dataTransfer","setDragImage","rows","__getViewportRows","setData","__formatDefaultTransferData","draggedItems","setDragData","data","setDraggedItemsCount","originalEvent","_clearDragStyles","_dropLocation","_dragOverItem","__dndAutoScroll","dropAbove","__dndAutoScrolling","headerBottom","footerTop","topDiff","bottomDiff","scrollTopDelta","scrollTopChanged","dragData","types","getData","dropTargetItem","dropLocation","_dragDropAccessChanged","filterDragAndDrop","_filterDragAndDrop","dragDisabled","dropDisabled","draggableElements","KeyboardNavigationMixin","_headerFocusable","_footerFocusable","_navigatingIsHidden","_focusedColumnOrder","_android","_onFocusIn","_onFocusOut","_onCellFocusIn","_onCellFocusOut","_isMousedown","_focusableChanged","focusable","oldFocusable","keyGroup","_detectInteracting","_ensureScrolledToIndex","targetRowInDom","_onNavigationKeyDown","indexOfChildElement","dy","activeCell","columnIndex","isRowDetails","_elementMatches","activeRow","activeRowGroup","maxRowIndex","rowIndex","dstRowIndex","dstIsRowDetails","dstItem","_getColumns","dstColumns","dstSortedColumnOrders","maxOrderedColumnIndex","orderedColumnIndex","dstOrderedColumnIndex","columnIndexByOrder","dstColumnIndex","dstRow","dstCell","_scrollHorizontallyToCell","dstRect","_parseEventPath","tableIndex","rowGroup","_onInteractionKeyDown","localTarget","localTargetIsTextInput","wantInteracting","focusTarget","_predictFocusStepTarget","srcElement","step","tabOrder","focusexit","_onTabKeyDown","itemsFocusTarget","focusedItemRow","_onSpaceKeyDown","wasNavigating","rootTarget","_activeRowGroup","_detectFocusedItemIndex","_preventScrollerRotatingCellFocus","columnTreeLevel","_resetKeyboardNavigation","firstVisibleIndexRow","dstCellRect","dstCellIndex","tableRect","leftBoundary","rightBoundary","query","ColumnReorderingMixin","columnReorderingAllowed","_orderBaseScope","_onTrackEvent","_reorderGhost","_onTouchStart","_onTouchMove","_onTouchEnd","_onContextMenu","_startTouchReorderTimeout","_onTrackStart","touches","_draggedColumn","_onTrackEnd","headerCell","_touchDevice","_onTrack","dom","_cellFromPoint","childElementCount","_setSiblingsReorderStatus","_reorderStatus","_updateGhost","_updateGhostPosition","_autoScroller","targetColumn","_getTargetColumn","_isSwapAllowed","_isSwappableByPosition","_swapColumnOrders","_lastDragClientX","_getColumnsInOrder","useShadow","elementFromPoint","eventClientX","eventClientY","ghostRect","targetLeft","targetTop","_left","_top","_getInnerText","ghost","propertyName","_updateOrders","status","sibling","rightDiff","leftDiff","async","column1","column2","differentColumns","sameParent","sameFrozen","sourceCellRect","draggedColumn","ColumnBaseMixin","resizable","_footerTemplate","textAlign","_emptyCells","_headerCell","_footerCell","footerRenderer","_bodyTemplate","_templateObserver","_allCells","_findHostGrid","_gridValue","_cells","_prepareHeaderTemplate","_prepareFooterTemplate","_prepareBodyTemplate","_prepareTemplatizer","_findTemplate","_renderHeaderAndFooter","__runRenderer","__setColumnTemplateOrRenderer","cells","_setBodyTemplateOrRenderer","_setHeaderTemplateOrRenderer","headerTemplate","_setFooterTemplateOrRenderer","footerTemplate","footerCell","__updateHeaderFooterRowVisibility","_selectFirstTemplate","_rootDataHost","_flexGrowChanged","_columnPropChanged","_orderChanged","order","_widthChanged","__forceReflow","_frozenChanged","_lastFrozenChanged","_pathOrHeaderChanged","bodyTemplate","hasHeaderText","__setTextContent","pathRenderer","_generateHeader","lastIndexOf","bool","_reorderStatusChanged","reorderStatus","_resizableChanged","existingHandle","_textAlignChanged","textAlignFallback","_previousHidden","GridColumnElement","autoWidth","GridOuterScrollerElement","scrollHandler","noScrollbars","_syncScrollTarget","_onMouseMove","_","offsetY","offsetX","VaadinGridStyles","safari","scrollingStyles","GridElement","ScrollerElement","_this","platform","maxTouchPoints","CSS","supports","_firefox","heightByRows","_onAnimationEnd","__hasRowsWithClientHeight","_initialColumnWidthsSet","recalculateColumnWidths","_recalculateColumnWidths","cols","_origFlexGrow","_currentWidth","cellWidth","beforeNextRender","_createCell","chrome","isColumnRow","noNotify","contentsFragment","_vacant","visibleRowCells","_columnTreeChanged","__detailsOpened__","__selected__","__level__","__expanded__","_debouncerUpdateHeights","headerHeight","footerHeight","animationName","_heightByRowsChanged","_debouncerForceReflow"],"mappings":"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"}